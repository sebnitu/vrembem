---
layout: ../../../layouts/Page.astro
title: CSS
description: "A core Sass module for managing global and component custom properties."
collection: packages
---

import CodeExample from '../../../components/CodeExample.astro';
import Pre from "../../../components/Pre.astro";

export const components = { pre: Pre }

<div>
  <a href="../core#sass-modules" class="badge">&larr; Core</a>
  <h1 class="h1">core/css</h1>
</div>

A core Sass module for managing global and component custom properties. This is done by creating CSS custom properties that can be referenced and output to the stylesheet.

<CodeExample lang="scss">
  ```scss
  @use "@vrembem/core/css";
  ```
</CodeExample>

## Basic usage

For most use-cases, `core/css` provides a straightforward API for managing custom properties. Define, reference and output custom properties either globally or on a per component basis.

### css.set()

Mixin to store custom properties for later definition and reference. Can also update the entire custom properties map or a stored module map by passing `"*"` value to `$module` or `$prop` respectively.

<CodeExample lang="scss">
  ```scss
  // Set a single option
  @include css.set("block", "accent", teal);

  // Set multiple options at once
  @include css.set("block", (
    "background": darkGreen,
    "foreground": lightPink
  ));

  // Set nested options
  @include css.set("block", (
    "focus-ring", (
      "width": 2px,
      "style": solid,
      "offset": 1px
    )
  ));
  ```
</CodeExample>

### css.get()

Function to return a custom property reference that has been stored in the custom properties map using set(). Can also return the entire custom properties map or one of the stored module maps.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    .block {
      background: css.get("block", "background");
      color: css.get("block", "foreground");
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```css
    .block {
      background: var(--vb-block-background);
      color: var(--vb-block-foreground);
    }
    ```
  </Fragment>
</CodeExample>

### css.output()

Output all the stored custom properties of a provided module or of all modules. Provided module must be registered in the custom properties map.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    :root {
      @include css.output("block");
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```css
    :root {
      --vb-block-background: blue;
      --vb-block-foreground: green;
    }
    ```
  </Fragment>
</CodeExample>

### css.override()

Mixin to override a previously defined custom property. This is primarily used in the context of a modifier. Provided module must be registered in the custom properties map.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    .block_modifier {
      @include css.override("block", (
        "background": darkGreen,
        "foreground": lightPink
      ));
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```css
    .block_modifier {
      --vb-block-background: darkGreen;
      --vb-block-foreground: lightPink;
    }
    ```
  </Fragment>
</CodeExample>

## Advanced usage

For more advanced use-cases, `core/css` provides a more primitive API for more fine grained custom property management.

### css.register()

Register a module in the variables map. This is used when a module is needed to be available for later use but without setting any custom properties.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    // Register the component's namespace if there are no properties set.
    @include css.register("block");

    // Provide a fallback if a specific property has not been set.
    .block {
      padding: css.get("block", "padding", 1em);
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```css
    .block {
      padding: var(--vb-block-padding, 1em);
    }
    ```
  </Fragment>
</CodeExample>

### css.define()

Mixin to define a custom property using the provided property name and value. Automatically applies with prefix and module name if provided. This is used internally by `css.output` and `css.override`.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    .block {
      @include css.define("block", "accent", orange);
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```css
    .block {
      --vb-block-accent: orange;
    }
    ```
  </Fragment>
</CodeExample>

### css.reference()

Function to create reference to a custom property using the provided module name, property and optional fallback. Automatically applies the necessary custom property prefix and module name.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    .block {
      background: css.reference("block", "accent", orange);
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```css
    .block {
      background: var(--vb-block-accent, orange);
    }
    ```
  </Fragment>
</CodeExample>

### css.has()

Function used to check if a custom property has been set.

<CodeExample lang="scss">
  ```scss
  @include css.set("block", "background", darkGreen);

  @debug css.has("block", "background"); // Returns true
  @debug css.has("block", "border"); // Returns false
  ```
</CodeExample>

### css.remove()

Mixin used to remove a previously set custom property.

<CodeExample lang="scss">
  ```scss
  // Remove the "background" property from the "block" component.
  @include css.remove("block", "background");
  ```
</CodeExample>

### css.log()

Log to console either all set custom properties, a module map or module theme. Provided module must be registered in the custom properties map.

<CodeExample lang="scss">
  ```scss
  @include css.log("block");

  // Debug output:
  // Custom properties of "block": (
  //   "background": blue,
  //   "foreground": green,
  // )
  ```
</CodeExample>
