---
import Root from "./Root.astro";
import Navibar from "../components/Navibar.astro";
import Footer from "../components/Footer.astro";
import LayoutDrawer from "../components/LayoutDrawer.vue";
import LayoutAside from "../components/LayoutAside.vue";

interface Props {
  title?: string;
  drawer?: boolean;
  aside?: boolean;
}

const { title, drawer = false, aside = false } = Astro.props;
---

<Root {title} {drawer} {aside}>
  <Navibar />
  <div class="layout">
    {
      drawer && (
        <div class="layout__drawer">
          <LayoutDrawer client:load>
            <slot name="drawer" />
          </LayoutDrawer>
        </div>
      )
    }
    <div class="layout__main">
      <div class="layout__grid">
        {
          aside && (
            <div class="layout__aside">
              <LayoutAside client:load>
                <slot name="aside" />
              </LayoutAside>
            </div>
          )
        }
        <div class="layout__content">
          <div class="toolbar level">
            {
              drawer && (
                <button
                  data-drawer-open="layout-drawer"
                  class="link layout-drawer-toggle"
                >
                  Menu
                </button>
              )
            }
            {
              aside && (
                <button
                  data-drawer-open="layout-aside"
                  class="link layout-aside-toggle"
                >
                  On this page
                </button>
              )
            }
          </div>
          <div class="type gap-y">
            <slot />
          </div>
        </div>
        <Footer classes="layout__footer" />
      </div>
    </div>
  </div>
</Root>
