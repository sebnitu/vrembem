@use "@vrembem/core/theme";
@use "@vrembem/core";
@use "./root";

.file-reference {
  margin: 2rem 0 !important;
  border: core.$border;
  border-radius: core.$border-radius;
  font-size: core.$font-size;
  line-height: core.$line-height;

  & + & {
    margin-top: -1rem !important;
  }

  > * + * {
    border-top: core.$border;
  }

  @include core.media-max(root.$bp-code) {
    margin: 2rem calc(var(--layout-padding) * -1) !important;
    border-right: none;
    border-left: none;
    border-radius: 0;

    .pre {
      margin: 0;
    }
  }

  &.is-closed {
    .file-reference__toggle .icon {
      transform: rotate(0);
    }

    .code-block {
      display: none;
    }
  }

  &.is-opened {
    .file-reference__toggle .icon {
      transform: rotate(90deg);
    }

    .code-block {
      display: block;
    }
  }
}

.file-reference__content {
  position: relative;

  .code-block {
    border-top: core.$border;

    .pre {
      border: none;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }
  }
}

.file-reference__toolbar {
  padding: 0.5rem 1rem 0.5rem 0.5rem;
  color: theme.get("foreground-lighter");
}

.file-reference__toggle .icon {
  transition-property: transform;
  transition-duration: core.$transition-duration;
  transition-timing-function: core.$transition-timing-function;
}
