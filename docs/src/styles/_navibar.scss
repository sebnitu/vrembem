@use "@vrembem/core";
@use "@vrembem/core/css";
@use "./variables" as var;

.navibar {
  position: relative;
  z-index: 5;
  width: 100%;
  padding: 0 css.get("layout", "padding");
  background-color: css.get("background-glass");
  backdrop-filter: blur(8px);

  @include core.media-min(var.$bp-drawer) {
    position: fixed;

    .has-drawer & {
      background-color: transparent;
      backdrop-filter: unset;
    }
  }
}

.navibar__container {
  display: flex;
  width: 100%;
  max-width: css.get("layout", "width");
  margin: auto;
}

.navibar__title,
.navibar__menu {
  display: flex;
  align-items: center;
  height: css.get("layout", "navibar-height");
}

.navibar__title {
  position: relative;
  width: css.get("layout", "drawer-width");
}

.navibar__skip {
  position: absolute;
  z-index: 100;
  top: -100%;
  width: calc(100% - 1em);
  margin-right: 1em;
  transition-property: top, opacity;
  transition-duration: css.get("transition-duration");
  transition-timing-function: css.get("transition-timing-function");
  opacity: 0;

  &:focus {
    top: calc(calc(css.get("layout", "navibar-height") - css.get("form-control-size")) / 2);
    opacity: 1;
  }
}

.navibar__menu {
  flex-grow: 1;
  justify-content: flex-end;

  .menu__action {
    justify-content: flex-start;
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;

    &.is-active {
      text-decoration: none;
    }
  }

  @include core.media-min(var.$bp-drawer) {
    .has-drawer & {
      background-color: css.get("background-glass");
      backdrop-filter: blur(8px);
    }
  }
}

.navibar-spacer {
  height: 0;
  
  @include core.media-min(var.$bp-drawer) {
    height: css.get("layout", "navibar-height");
  }
}
