@use "@vrembem/core/palette";
@use "@vrembem/core/theme";
@use "@vrembem/core";

.code-block {
  position: relative;
  text-align: left;

  .pre {
    background-color: palette.get("neutral", 20);
    color: palette.get("neutral", 80);
  }

  .popover {
    --vb-popover-event: click;
    --vb-popover-placement: left;
    --vb-background: #{palette.get("primary", 100)};
    --vb-foreground: #{palette.get("primary")};
  }

  @include core.media-max(700px) {
    .pre {
      margin: auto calc(var(--vb-layout-padding) * -1);
      border-radius: 0;
    }
  }
}

// Icons and copy button

.code-block__prompt,
.code-block__copy-button {
  display: flex;
  position: absolute;
  top: 0.7rem;
  padding: 0.5rem;
}

.code-block__prompt {
  left: 0.5rem;
}

.code-block__copy-button {
  right: 0.7rem;
}

/**
 * Modifier: inline
 */

.code-block_inline {
  .pre {
    padding: 0.5em 4em 0.5em 2.5em;
  }

  .code-block__prompt,
  .code-block__copy-button {
    top: 0.5rem;
  }

  .popover {
    --vb-popover-offset: 24;
    --vb-popover-placement: bottom;
  }

  @include core.media-max(700px) {
    .pre {
      margin: 0;
      border-radius: var(--vb-border-radius);
    }
  }
}
