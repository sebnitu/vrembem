---
title: Modal
description: "A component for changing the mode of a page to complete a critical task. This is usually used in conjunction with the dialog component to make modal dialogs."
package: "@vrembem/modal"
status: "circle"
---

import CodeExample from "../../components/CodeExample.astro";
import DocBlock from "../../components/DocBlock.astro";
import Icon from "../../components/Icon.astro";

# Modal

A component for changing the mode of a page to complete a critical task. This is usually used in conjunction with the dialog component to make modal dialogs.

```sh
npm install @vrembem/modal
```

<CodeExample lang="scss">
  ```scss
  @use "@vrembem/modal";
  ```
</CodeExample>

<CodeExample lang="js">
  ```js
  import Modal from "@vrembem/modal";
  const modal = new Modal({ autoMount: true });
  ```
</CodeExample>

## Basic usage

Modals are composed using classes and data attributes for their triggers. The basic structure of a modal is an element with a unique `id` and the `modal` class containing a child element with the `modal__dialog` class. There are three types of modal triggers, each defined by a data attribute:

- `data-modal-open`: Opens a modal. Should take the id of the modal it's meant to open. Will stack modals if triggered from inside an already opened modal.
- `data-modal-close`: Closes a modal. Will close the last opened modal if left value-less. Can also take a modal id to close a specific modal, or `"*"` to close all open modals.
- `data-modal-replace`: Replaces currently opened modal(s) with the modal of the id provided.

<CodeExample>
  <Fragment slot="output">
    <button class="link" data-modal-open="modal-1">Open</button>
    <div id="modal-1" class="modal">
      <div class="modal__dialog background radius padding" role="dialog">
        <div class="flex justify-content-between">
          <span>Modal example</span>
          <button class="link" data-modal-close>Close</button>
        </div>
      </div>
    </div>
  </Fragment>
  ```html
  <button data-modal-open="[unique-id]">...</button>

  <div id="[unique-id]" class="modal">
    <div class="modal__dialog" role="dialog" aria-modal="true">
      <button data-modal-close>...</button>
      ...
    </div>
  </div>
```
</CodeExample>

The dialog element of a modal is defined using the `modal__dialog` class. Modal dialogs should also be given the `role` attribute with a value of either [`dialog`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/dialog_role) or [`alertdialog`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/alertdialog_role) and the `aria-modal` attribute with a value of `true`. Authors should provide modal dialogs with [`aria-labelledby`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-labelledby) and [`aria-describedby`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-describedby) attributes if applicable to further improve accessibility.

<CodeExample>
  <Fragment slot="output">
    <button class="link" data-modal-open="modal-2">Open</button>
    <div id="modal-2" class="modal">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true" aria-labelledby="modal-2-title" aria-describedby="modal-2-description">
        <div class="dialog__header">
          <h2 class="dialog__title" id="modal-2-title">Modal dialog</h2>
          <button class="link" data-modal-close>Close</button>
        </div>
        <div class="dialog__body">
          <p id="modal-2-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean porta diam eget lectus interdum, eu aliquet augue rutrum. Morbi faucibus mauris lectus, in imperdiet augue cursus vel.</p>
        </div>
        <div class="dialog__footer">
          <button class="button button_color_primary" data-modal-close>Confirm</button>
          <button class="button" data-modal-close>Cancel</button>
        </div>
      </div>
    </div>
  </Fragment>
  ```html
  <div id="[unique-id]" class="modal">
    <div class="modal__dialog dialog" role="dialog" aria-modal="true" aria-labelledby="dialog-title" aria-describedby="dialog-description">
      <div class="dialog__header">
        <h2 class="dialog__title" id="dialog-title">...</h2>
        <button class="link" data-modal-close>Close</button>
      </div>
      <div class="dialog__body">
        <p id="dialog-description">...</p>
      </div>
      <div class="dialog__footer">
        ...
      </div>
    </div>
  </div>
  ```
</CodeExample>

> The [dialog component](/packages/dialog) is a great fit for composing a modal’s dialog.

### Focus management

Modal dialogs are given focus when opened as long as the `setTabindex` option is set to `true` or if the modal dialog has `tabindex="-1"` set manually. If focus on a specific element inside a modal is preferred, give that element the `data-focus` attribute. Focus is returned to the element that initially triggered the modal once closed.

<CodeExample>
  <Fragment slot="output">
    <ul class="list">
      <li>
        <button class="link" data-modal-open="modal-3">Open</button> - Sets focus to the modal dialog when opened.
      </li>
      <li>
        <button class="link" data-modal-open="modal-4">Open</button> - Sets focus to the `data-focus` element when opened.
      </li>
    </ul>
    <div id="modal-3" class="modal">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true" tabindex="-1">
        <div class="dialog__body flex justify-content-between">
          <span>Focus modal dialog when opened</span>
          <button class="link" data-modal-close>Close</button>
        </div>
      </div>
    </div>
    <div id="modal-4" class="modal">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between margin-bottom">
            <span>Focus input element when opened</span>
            <button class="link" data-modal-close>Close</button>
          </div>
          <input class="input" data-focus type="text" />
        </div>
      </div>
    </div>
  </Fragment>
  ```html
  <!-- Focus is returned to the trigger when a modal is closed -->
  <button data-modal-open="[unique-id]">...</button>

  <!-- Sets focus to modal dialog when opened -->
  <div id="[unique-id]" class="modal">
    <div class="modal__dialog" role="dialog" aria-modal="true" tabindex="-1">
      ...
    </div>
  </div>

  <!-- Sets focus to data-focus element when opened -->
  <div id="[unique-id]" class="modal">
    <div class="modal__dialog" role="dialog" aria-modal="true">
      <input data-focus type="text" />
      ...
    </div>
  </div>
  ```
</CodeExample>

While a modal is active, the contents obscured by the modal are made inaccessible to all users via a focus trap. This means that the `TAB` key, and a screen reader’s virtual cursor (arrow keys) should not be allowed to leave the modal dialog and traverse the content outside of the dialog.

> To change the selector used in finding the preferred focus element, pass your own selector via the `selectorFocus` option (defaults to `'[data-focus]'`).

### Required modals

Required modals are modals that need an explicit action to be closed. That means clicking on the background or pressing the escape key to close a required modal is disabled. Required modals are set by giving a dialog the attribute `role` with a value of `alertdialog`.

<CodeExample>
  <Fragment slot="output">
    <button class="link" data-modal-open="modal-5">Open</button>
    <div id="modal-5" class="modal">
      <div class="modal__dialog dialog" role="alertdialog" aria-modal="true" aria-labelledby="modal-5-title" aria-describedby="modal-5-description">
        <div class="dialog__body spacing">
          <h2 class="dialog__title" id="modal-5-title">Required modal</h2>
          <p id="modal-5-description">Required modals can not be closed without an explicit action. That means clicking on the background or pressing the escape key to close is disabled.</p>
          <div class="flex flex-gap-x justify-content-end margin-top-lg">
            <button class="button button_color_primary" data-modal-close>I understand</button>
            <button class="button" data-modal-close>Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </Fragment>
  ```html
  <div id="[unique-id]" class="modal">
    <div class="modal__dialog" role="alertdialog" aria-modal="true">
      ...
      <button data-modal-close>Agree</button>
    </div>
  </div>
  ```
</CodeExample>

> To change the selector used in creating required modals, pass your own selector via the `selectorRequired` option (defaults to `'[role="alertdialog"]'`).

### Behavior and accessibility

Modals on the web have an expected set of patterns that this component follows. Here's what to expect:

1. When a modal is opened, focus is moved to the dialog or an element inside.
2. Modals provide standard methods for the user to close such as using the `esc` key or clicking outside the dialog.
3. While the modal is active, contents obscured by the modal are inaccessible to all users.
4. When a modal is closed, focus is returned to the initial trigger element that activated the dialog.

To take full advantage of modal's accessibility features, it's recommended to set the `selectorInert` option to all elements that are outside the modal. If you have modal markup throughout your document, use the `teleport` option to consolidate all modals in the DOM to a single location. All elements that match the `selectorInert` selector will be given the `inert` attribute as well as `aria-hidden="true"` when a modal is opened.

**Example**

Here's an example where we want the `<main>` content area to be inaccessible while modals are open. We also want all modals to be moved outside the main content element using the `after` method.

<CodeExample lang="js">

  ```js
  const modal = new Modal({
    selectorInert: "main",
    teleport: "main",
    teleportMethod: "after"
  });

  await modal.mount();
  ```
</CodeExample>

To return a modal to its original location, use the collection API method `teleportReturn()`:

<CodeExample lang="js">

  ```js
  // Get an entry from the modal collection.
  const entry = modal.get("modal-id");

  // Returns the modal to its previously teleported location.
  entry.teleportReturn();
  ```
</CodeExample>

## modal_full

Adds styles to a modal that make it fill the entire viewport when opened.

<CodeExample>
  <Fragment slot="output">
    <button class="link" data-modal-open="modal-6">Open</button>
    <div id="modal-6" class="modal modal_full">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true" aria-labelledby="modal-6-title">
        <div class="dialog__header">
          <h2 class="dialog__title" id="modal-6-title">Full modal</h2>
          <button class="link" data-modal-close>Close</button>
        </div>
        <div class="dialog__body">
          <p>This modal should fill the entire viewport when opened.</p>
        </div>
        <div class="dialog__footer">
          <button class="button button_color_primary" data-modal-close>Accept</button>
          <button class="button" data-modal-close>Cancel</button>
        </div>
      </div>
    </div>
  </Fragment>
  ```html
  <div id="[unique-id]" class="modal modal_full">...</div>
  ```
</CodeExample>

## modal_pos_[value]

The default position of modals is in the center of the viewport. The position modifier allows positioning a modal to the top, bottom, left and right side of the document viewport.

<CodeExample>
  <div slot="output" class="flex">
    <button class="button" data-modal-open="modal-pos-top">
      <span>Top</span>
      <span class="arrow-up"></span>
    </button>
    <button class="button" data-modal-open="modal-pos-left">
      <span>Left</span>
      <span class="arrow-left"></span>
    </button>
    <button class="button" data-modal-open="modal-pos-right">
      <span>Right</span>
      <span class="arrow-right"></span>
    </button>
    <button class="button" data-modal-open="modal-pos-bottom">
      <span>Bottom</span>
      <span class="arrow-down"></span>
    </button>
    <div id="modal-pos-top" class="modal modal_pos_top">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
             <p>Top position modal</p>
             <button class="link" data-modal-close>Close</button>
           </div>
        </div>
        <div class="dialog__footer justify-content-between">
          <button class="link" data-modal-open="modal-pos-left">
            Left modal
          </button>
          <button class="link" data-modal-open="modal-pos-bottom">
            Bottom modal
          </button>
          <button class="link" data-modal-open="modal-pos-right">
            Right modal
          </button>
        </div>
      </div>
    </div>
    <div id="modal-pos-left" class="modal modal_pos_left">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
             <p>Left position modal</p>
             <button class="link" data-modal-close>Close</button>
           </div>
        </div>
        <div class="dialog__footer">
          <button class="link" data-modal-open="modal-pos-top">
            Top modal
          </button>
        </div>
        <div class="dialog__footer">
          <button class="link" data-modal-open="modal-pos-right">
            Right modal
          </button>
        </div>
        <div class="dialog__footer">
          <button class="link" data-modal-open="modal-pos-bottom">
            Bottom modal
          </button>
        </div>
      </div>
    </div>
    <div id="modal-pos-right" class="modal modal_pos_right">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
             <p>Right position modal</p>
             <button class="link" data-modal-close>Close</button>
           </div>
        </div>
        <div class="dialog__footer">
          <button class="link" data-modal-open="modal-pos-top">
            Top modal
          </button>
        </div>
        <div class="dialog__footer">
          <button class="link" data-modal-open="modal-pos-left">
            Left modal
          </button>
        </div>
        <div class="dialog__footer">
          <button class="link" data-modal-open="modal-pos-bottom">
            Bottom modal
          </button>
        </div>
      </div>
    </div>
    <div id="modal-pos-bottom" class="modal modal_pos_bottom">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
             <p>Bottom position modal</p>
             <button class="link" data-modal-close>Close</button>
           </div>
        </div>
        <div class="dialog__footer justify-content-between">
          <button class="link" data-modal-open="modal-pos-left">
            Left modal
          </button>
          <button class="link" data-modal-open="modal-pos-top">
            Top modal
          </button>
          <button class="link" data-modal-open="modal-pos-right">
            Right modal
          </button>
        </div>
      </div>
    </div>
  </div>
   ```html
   <div id="[unique-id]" class="modal modal_pos_top">...</div>
   <div id="[unique-id]" class="modal modal_pos_left">...</div>
   <div id="[unique-id]" class="modal modal_pos_right">...</div>
   <div id="[unique-id]" class="modal modal_pos_bottom">...</div>
   ```
</CodeExample>

**Available variants**

- `modal_pos_top`
- `modal_pos_left`
- `modal_pos_right`
- `modal_pos_bottom`

## modal_size_[value]

Adjusts the size of modals. This modifier provides five options that are output using the [`$size-scale`](#scss-variables-file) variable map.

<CodeExample>
  <Fragment slot="output">
    <ul class="list">
      <li>
        <button class="link" data-modal-open="modal-size-xs">
          Open modal_size_xs
        </button>
      </li>
      <li>
        <button class="link" data-modal-open="modal-size-sm">
          Open modal_size_sm
        </button>
      </li>
      <li>
        <button class="link" data-modal-open="modal-size-md">
          Open modal_size_md
        </button>
      </li>
      <li>
        <button class="link" data-modal-open="modal-size-lg">
          Open modal_size_lg
        </button>
      </li>
      <li>
        <button class="link" data-modal-open="modal-size-xl">
          Open modal_size_xl
        </button>
      </li>
    </ul>
    <div id="modal-size-xs" class="modal modal_size_xs">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
            <p>modal_size_xs</p>
            <button class="link" data-modal-close>Close</button>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-size-sm" class="modal modal_size_sm">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
            <p>modal_size_sm</p>
            <button class="link" data-modal-close>Close</button>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-size-md" class="modal modal_size_md">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
            <p>modal_size_md</p>
            <button class="link" data-modal-close>Close</button>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-size-lg" class="modal modal_size_lg">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
            <p>modal_size_lg</p>
            <button class="link" data-modal-close>Close</button>
          </div>
        </div>
      </div>
    </div>
    <div id="modal-size-xl" class="modal modal_size_xl">
      <div class="modal__dialog dialog" role="dialog" aria-modal="true">
        <div class="dialog__body">
          <div class="flex justify-content-between">
            <p>modal_size_xl</p>
            <button class="link" data-modal-close>Close</button>
          </div>
        </div>
      </div>
    </div>
  </Fragment>
  ```html
  <div id="[unique-id]" class="modal modal_size_xs">...</div>
  <div id="[unique-id]" class="modal modal_size_sm">...</div>
  <div id="[unique-id]" class="modal modal_size_md">...</div>
  <div id="[unique-id]" class="modal modal_size_lg">...</div>
  <div id="[unique-id]" class="modal modal_size_xl">...</div>
  ```
</CodeExample>

**Available variants**

- `modal_size_xs`
- `modal_size_sm`
- `modal_size_md`
- `modal_size_lg`
- `modal_size_xl`

## Customization

Modals are primarily customized using CSS variables but can also be modified using Sass variables. All CSS variables are given the Vrembem vendor prefix `"vb-"`. This can be changed by setting the `$prefix-variable` variable via the `core` module.

<DocBlock name="CSS Variables" src="modal/src/scss/_root.scss">

```scss
:root {
  --vb-modal-transition-duration: var(--vb-transition-duration);
  --vb-modal-transition-timing-function: var(--vb-transition-timing-function);
}
```
</DocBlock>

<DocBlock name="SCSS Variables" src="modal/src/scss/_variables.scss">

```scss
@use "@vrembem/core";
@use "@vrembem/core/css";
@use "@vrembem/core/palette";

$prefix-variable: core.$prefix-variable !default;
$prefix-block: core.$prefix-block !default;
$prefix-element: core.$prefix-element !default;
$prefix-modifier: core.$prefix-modifier !default;
$prefix-modifier-value: core.$prefix-modifier-value !default;

$z-index: 1000 !default;
$width: 36em !default;
$travel: 5em !default;
$transition-duration: css.get("transition", "duration") !default;
$transition-timing-function: css.get("transition", "timing-function") !default;
$shadow: css.get("box-shadow-5") !default;

$screen-background: palette.get("neutral", 10) !default;
$screen-opacity: 0.8 !default;

$outline: 0 solid transparent !default;
$outline-focus: 4px solid palette.get("primary") !default;
$outline-focus-alert: 4px solid palette.get("important") !default;

// modal_pos_[value]
$aside-width: 16em !default;
$aside-max-width: 90% !default;

// modal_size_[key]
$size-scale: (
  "xs": 20em, // 288px
  "sm": 24em, // 384px
  "md": 36em, // 576px
  "lg": 48em, // 768px
  "xl": 60em  // 960px
) !default;

@include css.set("modal", (
  "transition-duration": $transition-duration,
  "transition-timing-function": $transition-timing-function
));
```
</DocBlock>

<DocBlock name="JS Config" src="modal/src/js/defaults.js">

  ```js
  export default {
    autoMount: false,

    // Data attributes
    dataOpen: "modal-open",
    dataClose: "modal-close",
    dataReplace: "modal-replace",
    dataConfig: "modal-config",

    // Selectors
    selectorModal: ".modal",
    selectorDialog: ".modal__dialog",
    selectorScreen: ".modal",
    selectorRequired: "[role=\"alertdialog\"]",
    selectorFocus: "[data-focus]",
    selectorInert: null,
    selectorOverflow: "body",

    // State classes
    stateOpened: "is-opened",
    stateOpening: "is-opening",
    stateClosing: "is-closing",
    stateClosed: "is-closed",

    // Feature settings
    customEventPrefix: "modal:",
    eventListeners: true,
    teleport: null,
    teleportMethod: "append",
    setTabindex: true,
    transition: true,
    transitionDuration: "--vb-modal-transition-duration"
  };
  ```
</DocBlock>

## JavaScript usage

After the modal component has been instantiated the modal object is returned with a robust API to help manage all modal components on your page.

<DocBlock name="modal.collection" type="property" returns="array" src="core/src/js/Collection.js" line="3">
  Returns an array where all modal objects are stored when registered. Each modal object contains the following properties:

  ```scss
  {
    id: String, // The unique ID of the modal.
    state: String, // The current state of the modal ('closing', 'closed', 'opening' or 'opened').
    el: HTMLElement, // The modal HTML element.
    dialog: HTMLElement // The modal dialog HTML element.
    returnRef: HTMLComment // The return reference left when a modal is teleported.
    settings: Object // The modal specific settings.
    open: Function // Method to open this modal.
    close: Function // Method to close this modal.
    replace: Function // Method to replace open modal(s) with this modal.
    deregister: Function // Method to deregister this modal.
    teleport: Function // Method to teleport this modal.
    teleportReturn: Function // Method to return this modal to its previous location.
    getSetting: Function // Method that returns either a modal specific setting or global modal setting.
  }
  ```
</DocBlock>

<DocBlock name="modal.stack" type="property" returns="Array" src="modal/src/js/stack.js">
  Returns an array of all currently opened modals. These are sorted in the order they're added to the array (first item was opened first, last item was opened last).
</DocBlock>

<DocBlock name="modal.active" type="property" returns="Object || undefined" src="modal/src/js/index.js" line="33">
  Returns the currently active modal or the modal at the top of the stack if multiple modals are open. Will return `undefined` if no modals are open.
</DocBlock>

<DocBlock name="modal.mount" type="method" returns="Object" src="modal/src/js/index.js" line="37" args={[
  ["options", "Object (optional)", "An options object for passing custom settings."]
]}>
  Mounts the modal instance. During mounting, the following processes are run:

  - Register each modal in the collection by running `registerCollection()`.
  - Sets up global event listeners by running `mountEventListeners()`.

  <Fragment slot="example">
    ```js
    const modal = new Modal();
    await modal.mount();
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.unmount" type="method" returns="Object" src="modal/src/js/index.js" line="55">
  Destroys and cleans up the modal mount. During cleanup, the following processes are run:

  - Deregister the modal collection by running `deregisterCollection()`.
  - Removes global event listeners by running `unmountEventListeners()`.

  <Fragment slot="example">
    ```js
    const modal = new Modal();
    await modal.mount();
    // ...
    await modal.unmount();
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.mountEventListeners" type="method" returns="Object" src="modal/src/js/index.js" line="70">
  Set document event listeners.

  <Fragment slot="example">
    ```js
    const modal = new Modal({ eventListeners: false });
    await modal.mount();
    modal.mountEventListeners();
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.unmountEventListeners" type="method" returns="Object" src="modal/src/js/index.js" line="75">
  Remove document event listeners.

  <Fragment slot="example">
    ```js
    const modal = new Modal();
    await modal.mount();
    // ...
    modal.unmountEventListeners();
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.register" type="method" returns="Object" src="modal/src/js/register.js" args={[
  ["query", "String || Object", "A modal ID or an HTML element of either the modal or its trigger."]
]}>
  Registers a modal into the collection. This also sets the initial state and applies missing accessibility attributes such as `role="dialog"` and `aria-modal="true"`. Returns the modal entry that got stored in the collection.

  <Fragment slot="example">
    ```js
    const result = await modal.register('modal-id');
    // => Object { id: 'modal-id', ... }
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.deregister" type="method" returns="Array" src="modal/src/js/deregister.js" args={[
  ["query", "String || Object", "A modal ID or an HTML element of either the modal or its trigger."]
]}>
  Deregister the modal from the collection. This closes the modal if it's opened, returns a modal if it has been teleported and removes the entry from the collection. Returns the newly modified collection array.

  <Fragment slot="example">
    ```js
    const result = await modal.deregister('modal-id');
    // => Array [{}, {}, ...]
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.registerCollection" type="method" returns="Array" src="core/src/js/Collection.js" line="26" args={[
  ["items", "Array", "An array of modals or modal IDs to register."]
]}>
  Registers array of modals to the collection. All modals in array are run through the `register()` method. Returns the collection array.

  <Fragment slot="example">
    ```js
    const modals = document.querySelectorAll('.modal');
    const result = await modal.registerCollection(modals);
    // => Array [{}, {}, ...]
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.deregisterCollection" type="method" returns="Array" src="core/src/js/Collection.js" line="33">
  Deregister all modals in the collections array. All modals in collection are run through the `deregister()` method. Returns the empty collection array.

  <Fragment slot="example">
    ```js
    const result = await modal.registerCollection();
    // => Array []
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.get" type="method" returns="Object || undefined" src="core/src/js/Collection.js" line="40" args={[
  ["value", "String || Object", "The value to search for within the collection."],
  ["key", "String (optional)", "The property key to search the value against (defaults to 'id')."]
]}>
  Used to retrieve a registered modal entry from the collection. The value should match the key type to search by: e.g. to search by modal elements, pass the modal html node with a key of `'el'`. Defaults to `'id'`.

  Returns the first element in the collection that matches the provided query and key. Otherwise, undefined is returned.

  <Fragment slot="example">
    ```js
    const entry = modal.get('modal-id');
    // => Object { id: 'modal-id', ... }
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.open" type="method" returns="Object" src="modal/src/js/open.js" args={[
  ["id", "String", "The ID of the modal to open."],
  ["transition", "Boolean (optional)", "Whether or not to animate the transition."],
  ["focus", "Boolean (optional)", "Whether or not to handle focus management."]
]}>
  Opens a modal using the provided ID. Returns the modal object that was opened.

  <Fragment slot="example">
    ```js
    const entry = await modal.open('modal-key');
    // => Object { id: 'modal-id', ... }
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.close" type="method" returns="Object" src="modal/src/js/close.js" args={[
  ["id", "String", "The ID of the modal to close."],
  ["transition", "Boolean (optional)", "Whether or not to animate the transition."],
  ["focus", "Boolean (optional)", "Whether or not to handle focus management."]
]}>
  Closes a modal using the provided ID. Can be called without an ID to close most recently opened modal. Returns the modal object that was closed.

  <Fragment slot="example">
    ```js
    const entry = await modal.close();
    // => Object { id: 'modal-id', ... }
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.replace" type="method" returns="Object" src="modal/src/js/replace.js" args={[
  ["id", "String", "The ID of the modal to open. Will close all other opened modals."],
  ["transition", "Boolean (optional)", "Whether or not to animate the transition."],
  ["focus", "Boolean (optional)", "Whether or not to handle focus management."]
]}>
  Replaces currently opened modal(s) with the modal of the id provided. This could be used to trigger a modal when modal stacking is not desired. Returns an object with `opened` and `closed` properties whose values will be the opened modal and an array of modals that were closed.

  <Fragment slot="example">
    ```js
    const obj = await modal.replace('modal-id');
    // => Object { opened: { id: 'modal-id', ... }, closed: [...] }
    ```
  </Fragment>
</DocBlock>

<DocBlock name="modal.closeAll" type="method" returns="Object" src="modal/src/js/closeAll.js" args={[
  ["exclude", "String (optional)", "The ID of a modal to exclude from closing. Will close all other opened modals."],
  ["transition", "Boolean (optional)", "Whether or not to animate the transition."],
  ["focus", "Boolean (optional)", "Whether or not to handle focus management."]
]}>
  Closes all open modals. Will exclude closing a modal using the provided ID. Returns an array of all modals that were closed.

  <Fragment slot="example">
    ```js
    const array = await modal.closeAll();
    // => Array [{}, {}, ...]
    ```
  </Fragment>
</DocBlock>

### Custom Events

The modal component also exposes some custom events for hooking into the modal lifecycle. All modal events are fired on the root modal element (i.e. at the `<div id="[unique-id]" class="modal">`).

- `modal:opened` Emits when a modal has opened.
- `modal:closed` Emits when a modal has closed.
