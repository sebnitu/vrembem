---
title: Collection API
parent: core
group: collections
order: 2
---

import ReferenceCard from "../../../components/ReferenceCard.astro";
import ReferenceBar from "../../../components/ReferenceBar.astro";

The following is a reference for the `Collection` class API, which is the basis for all Vrembem JavaScript components. Although you can instantiate a collection directly, the most common use case is to extend the collection class to create new components.

<CodeExample lang="js">
```js
import { Collection } from "@vrembem/core";
```
</CodeExample>

## Configuration

Collections are configured using an options object, which can be provided during instantiation, via the mount method, or by calling applyConfig. The following outlines the structure of this options object:

<CodeExample lang="ts">
```ts
interface CollectionConfig {
  selector: string;
  plugins?: Plugin[];
  presets?: Record<string, Record<string, any>>;
}
```
</CodeExample>

<ReferenceCard name="selector" type="string">
  A valid CSS selector used to query the document for elements to include as entries in the collection.
</ReferenceCard>

<ReferenceCard name="plugins" type="Plugin[]">
  An array of plugin objects to extend or modify the behavior of the collection. Each plugin in the array will be applied when the collection is mounted.
</ReferenceCard>

<ReferenceCard name="presets" type="Record<string, Record<string, any>>" returns="void">
  An object where each key is a plugin name and its value is an options object that defines default configuration for that plugin. This allows you to predefine settings for plugins used in the collection.
</ReferenceCard>

## Constructor

Initializes a new collection instance, setting up its configuration, event system, entry class, and plugins. The constructor accepts an options object to configure the collection's selector, plugins, and plugin presets, and prepares the collection for further setup and mounting.

<CodeExample lang="js">
```js
// Import the Collection class
import { Collection } from "@vrembem/core";

// Instantiate a new collection
const myCollection = new Collection();
```
</CodeExample>

## name

<ReferenceBar type="string" defaults="this.constructor.name" />

The name of the collection. This is used as a way to retrieve CSS custom properties and as part of local storage keys when applicable. Should be set as the component name the collection is meant to represent.

## collection

<ReferenceBar type="CollectionEntry[]" defaults="[]" />

The array where all collection entries are stored. Each entry should be an instance of the `CollectionEntry` class or a class that extends it.

## entryClass

<ReferenceBar type="CollectionEntryConstructor" defaults="CollectionEntry" />

The entryClass property defines the class constructor used to create new entries for the collection. By default, it is set to `CollectionEntry`, but it can be overridden to use a custom entry class. This allows you to specify the type of objects that will represent each item in the collection, enabling extensibility and custom behavior for collection entries.

## config

**Type:** `object`

## get

**Type:** `method`

## getOrThrow

**Type:** `method`

## applyConfig

**Type:** `method`

## createEntry

**Type:** `method`

## destroyEntry

**Type:** `method`

## register

**Type:** `method`

## deregister

**Type:** `method`

## mount

**Type:** `method`

## unmount

**Type:** `method`

## Plugins API

**Type:** `PluginArray`

### plugins.buildConfig

### plugins.validate

### plugins.get

### plugins.add

### plugins.remove

## Events API

### events

**Type:** readonly `EventMap`

An event map that stores all registered events and their arguments. This can he useful to ensure that your events are being registered as expected.

<CodeExample lang="js">
```js
// Register an event
collection.on("eventName", functionRef, "arg1", "arg2");

// The signature of the events property after an event is registered
collection.events
// =>
{
  eventName: [
    {
      listener: functionRef // The function reference to run when the event is emitted
      args: ["arg1", "arg2"] // An array of all the arguments that were provided
    }
  ]
}
```
</CodeExample>

### on

**Type:** `method`

### off

**Type:** `method`

### emit

**Type:** `method`
