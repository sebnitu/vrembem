---
title: core/config
description: "Used to setup global configuration options. This is available across all components to set things like BEM naming syntax, prefixes, and output options."
parent: core
group: sass-modules
---

import ReferenceCard from "../../../components/ReferenceCard.astro";
import ReferenceBar from "../../../components/ReferenceBar.astro";

<CodeExample lang="scss">
  ```scss
  @use "@vrembem/core/config";
  ```
</CodeExample>

## Basic usage

The purpose of `core/config` is to provide an API for managing library-wide configuration options. Configuration options are stored in a private map of key/value pairs and can be interfaced with using:

- [`config.get`](#configget)
- [`config.set`](#configset)
- [`config.set-default`](#configset-default)
- [`config.merge`](#configmerge)
- [`config.remove`](#configremove)
- [`config.apply`](#configapply)
- [`config.watch`](#configwatch)
- [`config.unwatch`](#configunwatch)
- [`config.log`](#configlog)

There are two primary methods to configure options in the config module. The first is import and use the module API directly and the second is the Sass `@use ... with` clause.

### Using config module

To use the configuration module directly, import the `core/config` module. Once imported you can use the API to `set` and `get` values in the configuration map.

<CodeExample label="_config.scss">
  ```scss
  // 1. Import the module
  @use "@vrembem/core/config";

  // 2. Set a configuration value
  @include config.set("theme-prefix", "theme");

  // 3. Get a configuration value
  @debug config.get("theme-prefix"); // => "theme"
  ```
</CodeExample>

Changes to the global config should be done in a file that is loaded before other Vrembem or custom components. This ensures that components use the correct configuration values.

<CodeExample label="style.scss">
  ```scss
  // 1. Make all your custom configurations
  @use "./config";

  // 2. Import components or other custom modules
  @use "@vrembem/base";
  @use "@vrembem/modal";
  // ...

  // 3. Output CSS variables
  @use "@vrembem/core/root";
  ```
</CodeExample>

### Using with clause

To set configuration options via the Sass `@use ... with` clause, define and set options in the `$config` map. Options set in the `$config` map are stored in the config module.

<CodeExample label="app.scss">
  ```scss
  @use "@vrembem/core" with (
    $config: (
      "prefix-block": "vb"
    )
  );
  @use "@vrembem/base" with (
    $config: (
      "base-output": false
    )
  );

  @debug core.config-get("prefix-block"); // => "vb"
  @debug core.config-get("base-output"); // => false
  ```
</CodeExample>

Changes to the global config should be done before loading other Vrembem or custom components. This ensures that components use the correct configuration values.

## Reference

This reference details the available configuration API, their arguments, and usage examples so you can customize and control global configurations across all Vrembem components.

### config.get()

<ReferenceBar type="function" />

Function to returns the value of an option in the configuration map.

#### Arguments

<ReferenceCard name="$keys..." type="string">
  A key or list of keys to follow in the configuration map and return.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  @debug config.get("theme-default");
  // Debug: light

  @debug config.get("prefix-cssvar");
  // Debug: vb
  ```
</CodeExample>

### config.set()

<ReferenceBar type="mixin" />

Set an option in the configuration map by providing a key and value to store, or pass a map to store multiple key/value pairs.

#### Arguments

<ReferenceCard name="$key" type="string | map">
  The key in the map to set. Can be passed a map of key/value pairs.
</ReferenceCard>

<ReferenceCard name="$value" type="any" defaults="null">
  The value to be stored.
</ReferenceCard>

<ReferenceCard name="$default" type="boolean" defaults="false">
  Whether or not the value being set is a default value. Default values are only set if the value has not already been set.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  // Set a single option
  @include config.set("theme-default", "dark");

  // Set multiple options using a map
  @include config.set((
    "prefix-cssvar": "custom",
    "theme-default": "light"
  ));
  ```
</CodeExample>

### config.set-default()

<ReferenceBar type="mixin" />

An alias mixin for `config.set()` with predefined default argument to `true`. Running this will not override a previously set value.

#### Arguments

<ReferenceCard name="$key" type="string | map">
  The key in the map to set. Can be passed a map of key/value pairs.
</ReferenceCard>

<ReferenceCard name="$value" type="any" defaults="null">
  The value to be stored.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  // Set the default value of the provided key
  @include config.set-default("theme-default", "light");

  // This set call will override the default value of "light"
  @include config.set("theme-default", "dark");

  // This will have no effect since "theme-default" has already been set
  @include config.set-default("theme-default", "high-contrast");

  @debug config.get("theme-default"); // Debug: dark
  ```
</CodeExample>

### config.merge()

<ReferenceBar type="mixin" />

Merges a map value of the configuration object with a provided map value.

#### Arguments

<ReferenceCard name="$key" type="string">
  The name of the property to merge maps with.
</ReferenceCard>

<ReferenceCard name="$map" type="string">
  The map to be merged with the existing map value.
</ReferenceCard>

### config.remove()

<ReferenceBar type="mixin" />

Remove an option from the configuration map.

#### Arguments

<ReferenceCard name="$keys..." type="string">
  The list of keys to follow and remove from the configuration map.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  // Remove the theme default option
  @include config.remove("theme-default");
  ```
</CodeExample>

### config.apply()

<ReferenceBar type="mixin" />

Apply a configuration map to the config module based on the values in a default map. The provided configuration map must match the signature of the default map. This mixin is used to allow setting values in the config module using the Sass `with` clause.

#### Arguments

<ReferenceCard name="$config" type="map">
  The config map to set in the global config object.
</ReferenceCard>

<ReferenceCard name="$default" type="map">
  The default map that is also used as a map signature for `$config`.
</ReferenceCard>

#### Example

We define an empty `$config` map with the `!default` flag and a `$default` map containing the configurations we want to expose and their default values.

<CodeExample label="_example.scss">
```scss
@use "@vrembem/core/config";

$config: () !default;
$default: (
  "config-1": true,
  "config-2": "asdf",
);

@include config.apply($config, $default);
```
</CodeExample>

When we use this module, we can define the configuration using the Sass `with` clause:

<CodeExample label="app.scss">
```scss
@use "example" with (
  $config: (
    "config-1": false
  )
);

// More imports here...
```
</CodeExample>

We can also set our configuration values before the module is loaded and include our config at the top of our manifest file:

<CodeExample label="_config.scss">
```scss
// Import the config module
@use "@vrembem/core/config";

// These values will be used once the module is loaded
@include config.set((
  "config-1": false,
  "config-2": "fdsa"
));
```
</CodeExample>

<CodeExample label="app.scss">
```scss
@use "config";
@use "example";

// More imports here...
```
</CodeExample>

### config.watch()

<ReferenceBar type="mixin" />

Set a watcher to a specific property of the configuration object.

#### Arguments

<ReferenceCard name="$prop" type="string">
  The name of the property to watch for changes.
</ReferenceCard>

<ReferenceCard name="$id" type="string">
  A unique ID to store the watcher under.
</ReferenceCard>

<ReferenceCard name="$mixin" type="mixin">
  The mixin reference to run when the watched property has changed.
</ReferenceCard>

### config.unwatch()

<ReferenceBar type="mixin" />

Remove a watcher to a specific property of the configuration object.

#### Arguments

<ReferenceCard name="$prop" type="string">
  The name of the property to stop watching.
</ReferenceCard>

<ReferenceCard name="$id" type="string">
  The unique ID of the watcher to remove.
</ReferenceCard>

### config.log()

<ReferenceBar type="mixin" />

Log to console the entire or a specific value in the configuration map.

#### Arguments

<ReferenceCard name="$value" type="string" defaults='"*"'>
  Optionally output a specific value of the configuration map.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  @include config.log();
  // Debug: 
  // Config options map: (
  //   "prefix-block": ,
  //   "prefix-element": __,
  //   "prefix-modifier": _,
  //   "prefix-modifier-value": _,
  //   ...
  // )
  ```
</CodeExample>
