---
title: core/config
description: "Used to setup global configuration options. This is available across all components to set things like BEM naming syntax, prefixes, and theme defaults."
parent: core
group: sass-modules
---

import ReferenceCard from "../../../components/ReferenceCard.astro";
import ReferenceBar from "../../../components/ReferenceBar.astro";

<CodeExample lang="scss">
  ```scss
  @use "@vrembem/core/config";
  ```
</CodeExample>

## Basic usage

The purpose of `core/config` is to provide a straightforward API for managing library-wide configuration options. Configuration options are stored in a private map of key/value pairs and can be interfaced with using:

- [`config.get`](#configget)
- [`config.set`](#configset)
- [`config.set-default`](#configset-default)
- [`config.remove`](#configremove)
- [`config.apply`](#configapply)
- [`config.log`](#configlog)

To get started with the configuration system, first import the configuration module. Once imorted, set a value using the `config.set` mixin.

<CodeExample label="_config.scss">
  ```scss
  // 1. Import the module
  @use "@vrembem/core/config";

  // 2. Set a custom configuration
  @include config.set("theme-prefix", "theme");
  ```
</CodeExample>

To use values from the configuration map, call the `config.get` function with the key of the desired configuration value.

<CodeExample label="_box.scss">
  ```scss
  // 1. Import the module
  @use "@vrembem/core/config";

  .box {
    background: #ddd;
    color: #333;
  }

  // 2. Get the custom value
  .#{config.get("theme-prefix")}-high-contrast {
    .box {
      background: #fff;
      color: #000;
    }
  }
  ```
</CodeExample>

It's important to keep in mind that all changes to the global config should be done in a config file that is loaded before all other Vrembem components. This ensures that components use the correct configuration values.

<CodeExample label="app.scss">
  ```scss
  // 1. Make all your custom configurations
  @use "_config.scss";

  // 2. Import the Vrembem library or specific components as needed
  @use "vrembem";

  // 3. Import other files that use your custom configurations
  @use "_box.scss";

  // Additional imports here...
  ```
</CodeExample>

## Default values

The values predefined by core modules are used internally by the Vrembem library. The configuration module defines several prefix values related to the BEM naming syntax.

<CodeExample lang="scss">
  ```scss
  $-config: (
    // Prefix for block class names
    // Example: .block { ... }
    "prefix-block": "",

    // Prefix for element class names
    // Example: .block__element { ... }
    "prefix-element": "__",

    // Prefix for modifier class names
    // Example: .block_modifier { ... }
    "prefix-modifier": "_",

    // Prefix for modifier value class names
    // Example: .block_modifier_value { ... }
    "prefix-modifier-value": "_",

    // Prefix for utility class names
    // Example: .display-block { ... }
    "prefix-utility": ""
  );
  ```
</CodeExample>

By default, Vrembem does not prefix its component class names. If you'd like to prefix component class names to help avoid conflicts in existing projects, set a value for `"prefix-block"` (such as `"vb-"`) before importing Vrembem components.

<CodeExample lang="scss">
  ```scss
  @include config.set("prefix-block", "vb-");
  ```
</CodeExample>

You can use the `core.bem` function to generate class names with the correct prefixes, without setting them manually.

<CodeExample tabs>
  <Fragment slot="tab-scss">
    ```scss
    @use "@vrembem/core";

    // Generate selector for block
    #{core.bem("menu")} {
      // ...
    }

    // Generate selector for element
    #{core.bem("menu", "item")} {
      // ...
    }

    // Generate selector for modifier
    #{core.bem("menu", null, "stack")} {
      // ...
    }

    // Generate selector for modifier value
    #{core.bem("menu", null, "size", "lg")} {
      // ...
    }
    ```
  </Fragment>
  <Fragment slot="tab-css">
    ```scss
    // Generate selector for block
    .menu {
      // ...
    }

    // Generate selector for element
    .menu__item {
      // ...
    }

    // Generate selector for modifier
    .menu_stack {
      // ...
    }

    // Generate selector for modifier value
    .menu_size_lg {
      // ...
    }
    ```
  </Fragment>
</CodeExample>

## Reference

This reference details the available configuration API, their arguments, and usage examples so you can customize and control global configurations across all Vrembem components.

### config.get()

<ReferenceBar type="function" />

Function to returns the value of an option in the configuration map.

#### Arguments

<ReferenceCard name="$keys..." type="string">
  A key or list of keys to follow in the configuration map and return.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  @debug config.get("theme-default");
  // Debug: light

  @debug config.get("prefix-cssvar");
  // Debug: vb
  ```
</CodeExample>

### config.set()

<ReferenceBar type="mixin" />

Set an option in the configuration map by providing a key and value to store, or pass a map to store multiple key/value pairs.

#### Arguments

<ReferenceCard name="$key" type="string | map">
  The key in the map to set. Can be passed a map of key/value pairs.
</ReferenceCard>

<ReferenceCard name="$value" type="any" defaults="null">
  The value to be stored.
</ReferenceCard>

<ReferenceCard name="$default" type="boolean" defaults="false">
  Whether or not the value being set is a default value. Default values are only set if the value has not already been set.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  // Set a single option
  @include config.set("theme-default", "dark");

  // Set multiple options using a map
  @include config.set((
    "prefix-cssvar": "custom",
    "theme-default": "light"
  ));
  ```
</CodeExample>

### config.set-default()

<ReferenceBar type="mixin" />

An alias mixin for `config.set()` with predefined default argument to `true`. Running this will not override a previously set value.

#### Arguments

<ReferenceCard name="$key" type="string | map">
  The key in the map to set. Can be passed a map of key/value pairs.
</ReferenceCard>

<ReferenceCard name="$value" type="any" defaults="null">
  The value to be stored.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  // Set the default value of the provided key
  @include config.set-default("theme-default", "light");

  // This set call will override the default value of "light"
  @include config.set("theme-default", "dark");

  // This will have no effect since "theme-default" has already been set
  @include config.set-default("theme-default", "high-contrast");

  @debug config.get("theme-default"); // Debug: dark
  ```
</CodeExample>

### config.remove()

<ReferenceBar type="mixin" />

Remove an option from the configuration map.

#### Arguments

<ReferenceCard name="$keys..." type="string">
  The list of keys to follow and remove from the configuration map.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  // Remove the theme default option
  @include config.remove("theme-default");
  ```
</CodeExample>

### config.apply()

<ReferenceBar type="mixin" />

Apply a configuration map prefixing all keys with the provided prefix value. The provided configuration map must match the signature list or default map. This mixin is typically used by components to allow providing default values using the Sass `with` clause.

#### Arguments

<ReferenceCard name="$prefix" type="string">
  The value to prefix all keys with. This is typically the name of the component or module. Set to `null` for no prefix.
</ReferenceCard>

<ReferenceCard name="$config" type="map">
  The config map to set in the global config object.
</ReferenceCard>

<ReferenceCard name="$default" type="map | list">
  The valid map signature and default config map values, or a list of valid configuration options. Set map values to `null` to prevent them from being set as the config default.
</ReferenceCard>

#### Example

We define an empty `$config` map with the `!default` flag and a `$default` map containing the configurations we want to expose and provide defaults for.

<CodeExample lang="scss">
```scss
// _example.scss
@use "@vrembem/core/config";

$config: () !default;
$default: (
  "config-1": true,
  "config-2": "asdf",
);

@include config.apply("example", $config, $default);
```
</CodeExample>

When we use this module, we can define the configuration using the Sass `with` clause:

<CodeExample lang="scss">
```scss
// style.scss
@use "example" with (
  $config: (
    "config-1": false
  )
);
```
</CodeExample>

We can also set our configuration values before the module is loaded and include our files in a manifest file:

<CodeExample lang="scss">
```scss
// _config.scss
@use "@vrembem/core/config";

// These values will be used once the module is loaded
@include config.set((
  "example-config-1": false,
  "example-config-2": "fdsa"
));
```
</CodeExample>

<CodeExample lang="scss">
```scss
// styles.scss
@use "config";
@use "example";

// More imports here...
```
</CodeExample>

### config.log()

<ReferenceBar type="mixin" />

Log to console the entire or a specific value in the configuration map.

#### Arguments

<ReferenceCard name="$value" type="string" defaults='"*"'>
  Optionally output a specific value of the configuration map.
</ReferenceCard>

#### Example

<CodeExample lang="scss">
  ```scss
  @include config.log();
  // Debug: 
  // Config options map: (
  //   "prefix-block": ,
  //   "prefix-element": __,
  //   "prefix-modifier": _,
  //   "prefix-modifier-value": _,
  //   "prefix-utility": ,
  // )
  ```
</CodeExample>
