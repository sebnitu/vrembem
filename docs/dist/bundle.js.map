{"version":3,"file":"bundle.js","sources":["../../packages/vrembem/dist/scripts.esm.js","../node_modules/scroll-stash/dist/scripts.esm.js","../node_modules/string-natural-compare/natural-compare.js","../node_modules/svgxuse/svgxuse.js","../node_modules/wicg-inert/src/inert.js","../node_modules/list.js/src/utils/get-by-class.js","../node_modules/list.js/src/utils/extend.js","../node_modules/list.js/src/utils/index-of.js","../node_modules/list.js/src/utils/to-array.js","../node_modules/list.js/src/utils/events.js","../node_modules/list.js/src/utils/to-string.js","../node_modules/list.js/src/utils/classes.js","../node_modules/list.js/src/utils/get-attribute.js","../node_modules/list.js/src/item.js","../node_modules/list.js/src/templater.js","../node_modules/list.js/src/index.js","../node_modules/list.js/src/add-async.js","../node_modules/list.js/src/pagination.js","../node_modules/list.js/src/parse.js","../node_modules/list.js/src/search.js","../node_modules/list.js/src/filter.js","../node_modules/list.js/src/sort.js","../node_modules/list.js/src/fuzzy-search.js","../node_modules/list.js/src/utils/fuzzy.js","../src/js/list.js","../src/js/version.js","../src/js/app.js"],"sourcesContent":["var t=function(t,e){e&&document.querySelectorAll(e).forEach(function(e){t?(e.inert=!0,e.setAttribute(\"aria-hidden\",!0)):(e.inert=null,e.removeAttribute(\"aria-hidden\"))})},e=function(t,e){e&&document.querySelectorAll(e).forEach(function(e){t?e.style.overflow=\"hidden\":e.style.removeProperty(\"overflow\")})},s=function(t,e){e&&document.querySelectorAll(e).forEach(function(e){t?e.setAttribute(\"tabindex\",\"-1\"):e.removeAttribute(\"tabindex\")})},n=function(t){var e=arguments;(t=t.forEach?t:[t]).forEach(function(t){var s;(s=t.classList).add.apply(s,[].slice.call(e,1))})},i=function(t,e){var s=t.querySelector(\"[data-\"+e.dataFocus+\"]\");if(s)s.focus();else{var n=t.querySelector('[tabindex=\"-1\"]');n&&n.focus()}},r=function(t){void 0===t&&(t=null),t&&t.memory&&t.memory.trigger&&(t.memory.trigger.focus(),t.memory.trigger=null)},a=function(){function t(){this.target=null,this.__handlerFocusTrap=this.handlerFocusTrap.bind(this)}var e=t.prototype;return e.init=function(t){this.target=t,this.inner=this.target.querySelector('[tabindex=\"-1\"]'),this.focusable=this.getFocusable(),this.focusable.length?(this.focusableFirst=this.focusable[0],this.focusableLast=this.focusable[this.focusable.length-1],this.target.addEventListener(\"keydown\",this.__handlerFocusTrap)):this.target.addEventListener(\"keydown\",this.handlerFocusLock)},e.destroy=function(){this.target&&(this.inner=null,this.focusable=null,this.focusableFirst=null,this.focusableLast=null,this.target.removeEventListener(\"keydown\",this.__handlerFocusTrap),this.target.removeEventListener(\"keydown\",this.handlerFocusLock),this.target=null)},e.handlerFocusTrap=function(t){(\"Tab\"===t.key||9===t.keyCode)&&(t.shiftKey?document.activeElement!==this.focusableFirst&&document.activeElement!==this.inner||(this.focusableLast.focus(),t.preventDefault()):document.activeElement!==this.focusableLast&&document.activeElement!==this.inner||(this.focusableFirst.focus(),t.preventDefault()))},e.handlerFocusLock=function(t){(\"Tab\"===t.key||9===t.keyCode)&&t.preventDefault()},e.getFocusable=function(){var t=[],e=document.activeElement,s=this.inner?this.inner.scrollTop:0;return this.target.querySelectorAll('a[href]:not([disabled]),button:not([disabled]),textarea:not([disabled]),input[type=\"text\"]:not([disabled]),input[type=\"radio\"]:not([disabled]),input[type=\"checkbox\"]:not([disabled]),select:not([disabled]),[tabindex]:not([tabindex=\"-1\"])').forEach(function(e){e.focus(),e===document.activeElement&&t.push(e)}),this.inner&&(this.inner.scrollTop=s),e.focus(),t},t}(),o=function(t,e){return void 0===e&&(e=0),\"string\"!=typeof t?t:e?document.querySelector(t):document.querySelectorAll(t)},c=function(t){return t=[].slice.call(t=t.forEach?t:[t]),[].slice.call(arguments,1).some(function(e){return t.some(function(t){if(t.classList.contains(e))return!0})})};function l(t,e,s){if(void 0===s&&(s=!1),s){var n=o(t);if(!n.length)throw new Error('Move target element \"'+t+'\" not found!');var i=o(s,1);if(!i)throw new Error('Move reference element \"'+s+'\" not found!');n.forEach(function(t){switch(e){case\"after\":return i.after(t),{ref:i,el:t,type:e};case\"before\":return i.before(t),{ref:i,el:t,type:e};case\"append\":return i.append(t),{ref:i,el:t,type:e};case\"prepend\":return i.prepend(t),{ref:i,el:t,type:e};default:throw new Error('Move type \"'+e+'\" does not exist!')}})}}var d=function(t){var e=arguments;(t=t.forEach?t:[t]).forEach(function(t){var s;(s=t.classList).remove.apply(s,[].slice.call(e,1))})},u=function(t,e){return new Promise(function(s){e.transition?(t.classList.remove(e.stateClosed),t.classList.add(e.stateOpening),t.addEventListener(\"transitionend\",function n(){t.classList.add(e.stateOpened),t.classList.remove(e.stateOpening),s(t),this.removeEventListener(\"transitionend\",n)})):(t.classList.add(e.stateOpened),t.classList.remove(e.stateClosed),s(t))})},h=function(t,e){return new Promise(function(s){e.transition?(t.classList.add(e.stateClosing),t.classList.remove(e.stateOpened),t.addEventListener(\"transitionend\",function n(){t.classList.remove(e.stateClosing),t.classList.add(e.stateClosed),s(t),this.removeEventListener(\"transitionend\",n)})):(t.classList.add(e.stateClosed),t.classList.remove(e.stateOpened),s(t))})},g={xs:\"480px\",sm:\"620px\",md:\"760px\",lg:\"990px\",xl:\"1380px\"},f={__proto__:null,setInert:t,setOverflowHidden:e,setTabindex:s,addClass:n,camelCase:function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},focusTarget:i,focusTrigger:r,FocusTrap:a,getElement:o,hasClass:c,hyphenCase:function(t){return t.replace(/([a-z][A-Z])/g,function(t){return t[0]+\"-\"+t[1].toLowerCase()})},moveElement:l,removeClass:d,toggleClass:function(t){var e=arguments;(t=t.forEach?t:[t]).forEach(function(t){[].slice.call(e,1).forEach(function(e){t.classList.toggle(e)})})},openTransition:u,closeTransition:h,breakpoints:g};function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}var m=function(){function t(t){this.defaults={autoInit:!1,stateAttr:\"aria-checked\",stateValue:\"mixed\"},this.settings=v({},this.defaults,t),this.__handlerClick=this.handlerClick.bind(this),this.settings.autoInit&&this.init()}var e=t.prototype;return e.init=function(t){void 0===t&&(t=null),t&&(this.settings=v({},this.settings,t));var e=document.querySelectorAll(\"[\"+this.settings.stateAttr+'=\"'+this.settings.stateValue+'\"]');this.setIndeterminate(e),document.addEventListener(\"click\",this.__handlerClick,!1)},e.destroy=function(){document.removeEventListener(\"click\",this.__handlerClick,!1)},e.handlerClick=function(t){var e=t.target.closest(\"[\"+this.settings.stateAttr+'=\"'+this.settings.stateValue+'\"]');e&&(this.removeAriaState(e),this.setIndeterminate(e))},e.setAriaState=function(t,e){var s=this;void 0===e&&(e=this.settings.stateValue),(t=t.forEach?t:[t]).forEach(function(t){t.setAttribute(s.settings.stateAttr,e)})},e.removeAriaState=function(t){var e=this;(t=t.forEach?t:[t]).forEach(function(t){t.removeAttribute(e.settings.stateAttr)})},e.setIndeterminate=function(t){var e=this;(t=t.forEach?t:[t]).forEach(function(t){t.indeterminate=!!t.hasAttribute(e.settings.stateAttr)})},t}(),p={autoInit:!1,dataDrawer:\"drawer\",dataDialog:\"drawer-dialog\",dataToggle:\"drawer-toggle\",dataOpen:\"drawer-open\",dataClose:\"drawer-close\",dataBreakpoint:\"drawer-breakpoint\",dataFocus:\"drawer-focus\",stateOpened:\"is-opened\",stateOpening:\"is-opening\",stateClosing:\"is-closing\",stateClosed:\"is-closed\",classModal:\"drawer_modal\",selectorInert:null,selectorOverflow:null,breakpoints:g,customEventPrefix:\"drawer:\",stateSave:!0,stateKey:\"DrawerState\",setTabindex:!0,transition:!0},y=function(s,i){try{var r=i.getDrawer(s);return r?c(r,i.settings.classModal)?(t(!1,i.settings.selectorInert),e(!1,i.settings.selectorOverflow),d(r,i.settings.classModal),i.focusTrap.destroy(),s=r.getAttribute(\"data-\"+i.settings.dataDrawer),i.state[s]==i.settings.stateOpened&&(n(r,i.settings.stateOpened),d(r,i.settings.stateClosed)),r.dispatchEvent(new CustomEvent(i.settings.customEventPrefix+\"toDefault\",{bubbles:!0})),Promise.resolve(r)):Promise.resolve():Promise.resolve(i.drawerNotFound(s))}catch(t){return Promise.reject(t)}},b=function(t,e){try{var s=e.getDrawer(t);return s?c(s,e.settings.classModal)?Promise.resolve():(n(s,e.settings.classModal),n(s,e.settings.stateClosed),d(s,e.settings.stateOpened),s.dispatchEvent(new CustomEvent(e.settings.customEventPrefix+\"toModal\",{bubbles:!0})),Promise.resolve(s)):Promise.resolve(e.drawerNotFound(t))}catch(t){return Promise.reject(t)}},w=function(){function t(t){this.mediaQueryLists=[],this.parent=t,this.__check=this.check.bind(this)}var e=t.prototype;return e.init=function(){var t=this;document.querySelectorAll(\"[data-\"+this.parent.settings.dataBreakpoint+\"]\").forEach(function(e){var s=e.getAttribute(\"data-\"+t.parent.settings.dataDrawer),n=e.getAttribute(\"data-\"+t.parent.settings.dataBreakpoint),i=window.matchMedia(\"(min-width:\"+(t.parent.settings.breakpoints[n]?t.parent.settings.breakpoints[n]:n)+\")\");t.match(i,e),i.addListener(t.__check),t.mediaQueryLists.push({mql:i,drawer:s})})},e.destroy=function(){var t=this;this.mediaQueryLists&&this.mediaQueryLists.length&&this.mediaQueryLists.forEach(function(e){e.mql.removeListener(t.__check)}),this.mediaQueryLists=null},e.check=function(t){var e=this;void 0===t&&(t=null),this.mediaQueryLists&&this.mediaQueryLists.length&&(this.mediaQueryLists.forEach(function(s){if(!t||t.media==s.mql.media){var n=document.querySelector(\"[data-\"+e.parent.settings.dataDrawer+'=\"'+s.drawer+'\"]');n&&e.match(s.mql,n)}}),document.dispatchEvent(new CustomEvent(this.parent.settings.customEventPrefix+\"breakpoint\",{bubbles:!0})))},e.match=function(t,e){t.matches?y(e,this.parent):b(e,this.parent)},t}();function E(t){if(!this.working){var e=t.target.closest(\"[data-\"+this.settings.dataToggle+\"]\");if(e){var s=e.getAttribute(\"data-\"+this.settings.dataToggle);return this.memory.trigger=e,this.toggle(s),void t.preventDefault()}if(e=t.target.closest(\"[data-\"+this.settings.dataOpen+\"]\")){var n=e.getAttribute(\"data-\"+this.settings.dataOpen);return this.memory.trigger=e,this.open(n),void t.preventDefault()}if(e=t.target.closest(\"[data-\"+this.settings.dataClose+\"]\")){var i=e.getAttribute(\"data-\"+this.settings.dataClose);if(i)this.memory.trigger=e,this.close(i);else{var r=t.target.closest(\"[data-\"+this.settings.dataDrawer+\"]\");r&&this.close(r)}t.preventDefault()}else t.target.hasAttribute(\"data-\"+this.settings.dataDrawer)&&this.close(t.target)}}function k(t){if(!this.working&&27==t.keyCode){var e=document.querySelector(\".\"+this.settings.classModal+\".\"+this.settings.stateOpened);e&&this.close(e)}}function L(t,e){if(!e.stateSave)return C(e);var s=localStorage.getItem(e.stateKey)?JSON.parse(localStorage.getItem(e.stateKey)):{};return(t?[t]:document.querySelectorAll(\"[data-\"+e.dataDrawer+\"]\")).forEach(function(t){if(!c(t,e.classModal)){var n=t.getAttribute(\"data-\"+e.dataDrawer);s[n]=c(t,e.stateOpened)?e.stateOpened:e.stateClosed}}),localStorage.setItem(e.stateKey,JSON.stringify(s)),s}function C(t){return localStorage.getItem(t.stateKey)&&localStorage.removeItem(t.stateKey),{}}var _=function(){function o(t){this.defaults=p,this.settings=v({},this.defaults,t),this.working=!1,this.memory={},this.state={},this.focusTrap=new a,this.breakpoint=new w(this),this.__handlerClick=E.bind(this),this.__handlerKeyup=k.bind(this),this.settings.autoInit&&this.init()}var l=o.prototype;return l.init=function(t){void 0===t&&(t=null),t&&(this.settings=v({},this.settings,t)),this.stateSet(),this.setTabindex(this.settings.setTabindex),this.breakpoint.init(),document.addEventListener(\"click\",this.__handlerClick,!1),document.addEventListener(\"touchend\",this.__handlerClick,!1),document.addEventListener(\"keyup\",this.__handlerKeyup,!1)},l.destroy=function(){this.breakpoint.destroy(),this.memory={},this.state={},localStorage.removeItem(this.settings.stateKey),document.removeEventListener(\"click\",this.__handlerClick,!1),document.removeEventListener(\"touchend\",this.__handlerClick,!1),document.removeEventListener(\"keyup\",this.__handlerKeyup,!1)},l.getDrawer=function(t){return\"string\"!=typeof t?t:document.querySelector(\"[data-\"+this.settings.dataDrawer+'=\"'+t+'\"]')},l.drawerNotFound=function(t){return Promise.reject(new Error('Did not find drawer with key: \"'+t+'\"'))},l.setTabindex=function(t){void 0===t&&(t=!0),s(t,\"\\n      [data-\"+this.settings.dataDrawer+\"]\\n      [data-\"+this.settings.dataDialog+\"]\\n    \")},l.stateSet=function(){this.state=function(t){if(!t.stateSave)return C(t);if(!localStorage.getItem(t.stateKey))return L(null,t);var e=JSON.parse(localStorage.getItem(t.stateKey));return Object.keys(e).forEach(function(s){var i=document.querySelector(\"[data-\"+t.dataDrawer+'=\"'+s+'\"]');i&&(e[s]==t.stateOpened?n(i,t.stateOpened):d(i,t.stateOpened))}),e}(this.settings)},l.stateSave=function(t){void 0===t&&(t=null),this.state=L(t,this.settings)},l.stateClear=function(){this.state=C(this.settings)},l.switchToDefault=function(t){return y(t,this)},l.switchToModal=function(t){return b(t,this)},l.toggle=function(t){try{var e=this.getDrawer(t);if(!e)return Promise.resolve(this.drawerNotFound(t));var s=c(e,this.settings.stateOpened);return Promise.resolve(s?this.close(e):this.open(e))}catch(t){return Promise.reject(t)}},l.open=function(s){try{var n=this,r=n.getDrawer(s);if(!r)return Promise.resolve(n.drawerNotFound(s));if(c(r,n.settings.stateOpened))return i(r,n.settings),Promise.resolve(r);n.working=!0;var a=c(r,n.settings.classModal);return a&&e(!0,n.settings.selectorOverflow),Promise.resolve(u(r,n.settings)).then(function(){return n.stateSave(r),a&&(n.focusTrap.init(r),t(!0,n.settings.selectorInert)),i(r,n.settings),r.dispatchEvent(new CustomEvent(n.settings.customEventPrefix+\"opened\",{bubbles:!0})),n.working=!1,r})}catch(t){return Promise.reject(t)}},l.close=function(s){try{var n=this,i=n.getDrawer(s);return i?c(i,n.settings.stateOpened)?(n.working=!0,c(i,n.settings.classModal)&&(t(!1,n.settings.selectorInert),e(!1,n.settings.selectorOverflow)),Promise.resolve(h(i,n.settings)).then(function(){return n.stateSave(i),r(n),n.focusTrap.destroy(),i.dispatchEvent(new CustomEvent(n.settings.customEventPrefix+\"closed\",{bubbles:!0})),n.working=!1,i})):Promise.resolve(i):Promise.resolve(n.drawerNotFound(s))}catch(t){return Promise.reject(t)}},o}(),O={autoInit:!1,dataModal:\"modal\",dataDialog:\"modal-dialog\",dataOpen:\"modal-open\",dataClose:\"modal-close\",dataFocus:\"modal-focus\",dataRequired:\"modal-required\",stateOpened:\"is-opened\",stateOpening:\"is-opening\",stateClosing:\"is-closing\",stateClosed:\"is-closed\",selectorInert:null,selectorOverflow:\"body\",customEventPrefix:\"modal:\",moveModals:{ref:null,type:null},setTabindex:!0,transition:!0},S=function(t){try{var e,s=this,n=function(n){return e?n:t.target.closest(\"[data-\"+s.settings.dataClose+\"]\")?(t.preventDefault(),void s.close()):void(t.target.hasAttribute(\"data-\"+s.settings.dataModal)&&!t.target.hasAttribute(\"data-\"+s.settings.dataRequired)&&s.close())};if(s.working)return Promise.resolve();var i=t.target.closest(\"[data-\"+s.settings.dataOpen+\"]\"),r=function(){if(i){t.preventDefault();var n=i.getAttribute(\"data-\"+s.settings.dataOpen),r=t.target.closest(\"[data-\"+s.settings.dataModal+\"]\");return r||(s.memory.trigger=i),Promise.resolve(s.close(!r)).then(function(){s.open(n),e=1})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(t){return Promise.reject(t)}};function P(t){if(!this.working&&(\"Escape\"===t.key||27===t.keyCode)){var e=document.querySelector(\"[data-\"+this.settings.dataModal+\"].\"+this.settings.stateOpened);e&&!e.hasAttribute(\"data-\"+this.settings.dataRequired)&&this.close()}}var A=function(){function o(t){this.defaults=O,this.settings=v({},this.defaults,t),this.working=!1,this.memory={},this.focusTrap=new a,this.__handlerClick=S.bind(this),this.__handlerKeyup=P.bind(this),this.settings.autoInit&&this.init()}var g=o.prototype;return g.init=function(t){void 0===t&&(t=null),t&&(this.settings=v({},this.settings,t)),this.moveModals(),this.setTabindex(this.settings.setTabindex),this.setInitialState(),document.addEventListener(\"click\",this.__handlerClick,!1),document.addEventListener(\"touchend\",this.__handlerClick,!1),document.addEventListener(\"keyup\",this.__handlerKeyup,!1)},g.destroy=function(){this.memory={},document.removeEventListener(\"click\",this.__handlerClick,!1),document.removeEventListener(\"touchend\",this.__handlerClick,!1),document.removeEventListener(\"keyup\",this.__handlerKeyup,!1)},g.getModal=function(t){return\"string\"!=typeof t?t:document.querySelector(\"[data-\"+this.settings.dataModal+'=\"'+t+'\"]')},g.modalNotFound=function(t){return Promise.reject(new Error('Did not find modal with key: \"'+t+'\"'))},g.setTabindex=function(t){void 0===t&&(t=!0),s(t,\"\\n      [data-\"+this.settings.dataModal+\"]\\n      [data-\"+this.settings.dataDialog+\"]\\n    \")},g.setInitialState=function(){var s;s=this,document.querySelectorAll(\"[data-\"+s.settings.dataModal+\"]\").forEach(function(i){i.classList.contains(s.settings.stateOpened)&&(t(!1,s.settings.selectorInert),e(!1,s.settings.selectorOverflow),r(s),s.focusTrap.destroy()),d(i,s.settings.stateOpened,s.settings.stateOpening,s.settings.stateClosing),n(i,s.settings.stateClosed)})},g.moveModals=function(t,e){void 0===t&&(t=this.settings.moveModals.type),void 0===e&&(e=this.settings.moveModals.ref);var s=document.querySelectorAll(\"[data-\"+this.settings.dataModal+\"]\");s.length&&l(s,t,e)},g.open=function(s){try{var n=this,r=n.getModal(s);return r?c(r,n.settings.stateClosed)?(n.working=!0,e(!0,n.settings.selectorOverflow),Promise.resolve(u(r,n.settings)).then(function(){return n.focusTrap.init(r),i(r,n.settings),t(!0,n.settings.selectorInert),r.dispatchEvent(new CustomEvent(n.settings.customEventPrefix+\"opened\",{bubbles:!0})),n.working=!1,r})):Promise.resolve(r):Promise.resolve(n.modalNotFound(s))}catch(t){return Promise.reject(t)}},g.close=function(s){void 0===s&&(s=!0);try{var n=this,i=document.querySelector(\"[data-\"+n.settings.dataModal+\"].\"+n.settings.stateOpened);return i?(n.working=!0,t(!1,n.settings.selectorInert),e(!1,n.settings.selectorOverflow),Promise.resolve(h(i,n.settings)).then(function(){return s&&r(n),n.focusTrap.destroy(),i.dispatchEvent(new CustomEvent(n.settings.customEventPrefix+\"closed\",{bubbles:!0})),n.working=!1,i})):Promise.resolve(i)}catch(t){return Promise.reject(t)}},o}();export{m as Checkbox,_ as Drawer,A as Modal,f as core};\n//# sourceMappingURL=scripts.esm.js.map\n","function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var e={autoInit:!1,dataScroll:\"scroll-stash\",dataAnchor:\"scroll-stash-anchor\",selectorAnchor:\"\",selectorAnchorParent:\"\",selectorTopElem:\"\",selectorBotElem:\"\",alignment:\"nearest\",behavior:\"auto\",anchorPadding:16,saveKey:\"ScrollStash\",throttleDelay:100,customEventPrefix:\"scroll-stash:\"},r=function(t,e,r){var n=r.anchorPadding;if(r.selectorTopElem){var s=t.querySelector(r.selectorTopElem);s&&(n+=s.offsetHeight)}return e.offsetTop-n},n=function(t,e,r){var n=r.anchorPadding;if(r.selectorBotElem){var s=t.querySelector(r.selectorBotElem);s&&(n+=s.offsetHeight)}return e.offsetTop-(t.offsetHeight-(e.offsetHeight+n))},s=function(t,e){var r=t.getAttribute(\"data-\"+e.dataAnchor);if(\"false\"==r||\"ignore\"==r)return null;if(r&&t.querySelector(r))return t.querySelector(r);var n=e.selectorAnchor?t.querySelector(e.selectorAnchor):null;if(n&&e.selectorAnchorParent){var s=n.closest(e.selectorAnchorParent);if(s)return s}return n||null},o=function(t,e,o){var a=s(t,o);if(a){var i=function(t,e,s){var o=function(t,e,s){var o=r(t,e,s),a=n(t,e,s);return!(t.scrollTop>o||t.scrollTop<a)}(t,e,s);switch(s.alignment){case\"start\":return!o&&r(t,e,s);case\"center\":return!o&&function(t,e,s){var o=r(t,e,s),a=n(t,e,s);return a+(o-a)/2}(t,e,s);case\"end\":return!o&&n(t,e,s);case\"nearest\":return function(t,e,s){var o=r(t,e,s),a=n(t,e,s);return t.scrollTop>o?o:t.scrollTop<a&&a}(t,e,s);default:return!1}}(t,a,o);return i?(t.scroll({top:i,behavior:e=e||o.behavior}),t.dispatchEvent(new CustomEvent(o.customEventPrefix+\"anchor\",{bubbles:!0,detail:{scrolled:{value:i,behavior:e},key:t.getAttribute(\"data-\"+o.dataScroll)}})),{scrolled:{value:i,behavior:e},msg:\"Anchor was scrolled into view\"}):{scrolled:!1,msg:\"Anchor is already in view\"}}return{scrolled:!1,msg:\"Anchor was not found\"}},a=function(t){var e={};return document.querySelectorAll(\"[data-\"+t.dataScroll+\"]\").forEach(function(r){var n=r.getAttribute(\"data-\"+t.dataScroll);n&&(e[n]=r.scrollTop)}),localStorage.setItem(t.saveKey,JSON.stringify(e)),document.dispatchEvent(new CustomEvent(t.customEventPrefix+\"saved\",{bubbles:!0,detail:{state:e}})),e},i=function(){function r(r){this.settings=t({},e,r),this.state={},this.scrolls=[],this.ticking=!1,this.__handler=this.handler.bind(this),this.settings.autoInit&&this.init()}var n=r.prototype;return n.init=function(e){var r=this;void 0===e&&(e=null),e&&(this.settings=t({},this.settings,e)),this.state=function(t){if(localStorage.getItem(t.saveKey)){var e=JSON.parse(localStorage.getItem(t.saveKey));return Object.keys(e).forEach(function(r){var n=document.querySelector(\"[data-\"+t.dataScroll+'=\"'+r+'\"]');n&&(n.scrollTop=e[r])}),document.dispatchEvent(new CustomEvent(t.customEventPrefix+\"applied\",{bubbles:!0,detail:{state:e}})),e}return{}}(this.settings),this.state=Object.keys(this.state).length?this.state:a(this.settings),this.scrolls=document.querySelectorAll(\"[data-\"+this.settings.dataScroll+\"]\"),this.scrolls.forEach(function(t){t.addEventListener(\"scroll\",r.__handler,!1),o(t,!1,r.settings)})},n.destroy=function(){var t=this;this.scrolls.forEach(function(e){e.removeEventListener(\"scroll\",t.__handler,!1)}),this.state={},this.scrolls=[],localStorage.removeItem(this.settings.saveKey)},n.handler=function(){var t=this;this.ticking||(this.ticking=!0,setTimeout(function(){t.state=a(t.settings),t.ticking=!1},this.settings.throttleDelay))},n.anchorGet=function(t){return s(t,this.settings)},n.anchorShow=function(t,e){return o(t,e,this.settings)},r}();export default i;\n//# sourceMappingURL=scripts.esm.js.map\n","'use strict';\n\nvar alphabet;\nvar alphabetIndexMap;\nvar alphabetIndexMapLength = 0;\n\nfunction isNumberCode(code) {\n  return code >= 48 && code <= 57;\n}\n\nfunction naturalCompare(a, b) {\n  var lengthA = (a += '').length;\n  var lengthB = (b += '').length;\n  var aIndex = 0;\n  var bIndex = 0;\n\n  while (aIndex < lengthA && bIndex < lengthB) {\n    var charCodeA = a.charCodeAt(aIndex);\n    var charCodeB = b.charCodeAt(bIndex);\n\n    if (isNumberCode(charCodeA)) {\n      if (!isNumberCode(charCodeB)) {\n        return charCodeA - charCodeB;\n      }\n\n      var numStartA = aIndex;\n      var numStartB = bIndex;\n\n      while (charCodeA === 48 && ++numStartA < lengthA) {\n        charCodeA = a.charCodeAt(numStartA);\n      }\n      while (charCodeB === 48 && ++numStartB < lengthB) {\n        charCodeB = b.charCodeAt(numStartB);\n      }\n\n      var numEndA = numStartA;\n      var numEndB = numStartB;\n\n      while (numEndA < lengthA && isNumberCode(a.charCodeAt(numEndA))) {\n        ++numEndA;\n      }\n      while (numEndB < lengthB && isNumberCode(b.charCodeAt(numEndB))) {\n        ++numEndB;\n      }\n\n      var difference = numEndA - numStartA - numEndB + numStartB; // numA length - numB length\n      if (difference) {\n        return difference;\n      }\n\n      while (numStartA < numEndA) {\n        difference = a.charCodeAt(numStartA++) - b.charCodeAt(numStartB++);\n        if (difference) {\n          return difference;\n        }\n      }\n\n      aIndex = numEndA;\n      bIndex = numEndB;\n      continue;\n    }\n\n    if (charCodeA !== charCodeB) {\n      if (\n        charCodeA < alphabetIndexMapLength &&\n        charCodeB < alphabetIndexMapLength &&\n        alphabetIndexMap[charCodeA] !== -1 &&\n        alphabetIndexMap[charCodeB] !== -1\n      ) {\n        return alphabetIndexMap[charCodeA] - alphabetIndexMap[charCodeB];\n      }\n\n      return charCodeA - charCodeB;\n    }\n\n    ++aIndex;\n    ++bIndex;\n  }\n\n  if (aIndex >= lengthA && bIndex < lengthB && lengthA >= lengthB) {\n    return -1;\n  }\n\n  if (bIndex >= lengthB && aIndex < lengthA && lengthB >= lengthA) {\n    return 1;\n  }\n\n  return lengthA - lengthB;\n}\n\nnaturalCompare.caseInsensitive = naturalCompare.i = function(a, b) {\n  return naturalCompare(('' + a).toLowerCase(), ('' + b).toLowerCase());\n};\n\nObject.defineProperties(naturalCompare, {\n  alphabet: {\n    get: function() {\n      return alphabet;\n    },\n\n    set: function(value) {\n      alphabet = value;\n      alphabetIndexMap = [];\n\n      var i = 0;\n\n      if (alphabet) {\n        for (; i < alphabet.length; i++) {\n          alphabetIndexMap[alphabet.charCodeAt(i)] = i;\n        }\n      }\n\n      alphabetIndexMapLength = alphabetIndexMap.length;\n\n      for (i = 0; i < alphabetIndexMapLength; i++) {\n        if (alphabetIndexMap[i] === undefined) {\n          alphabetIndexMap[i] = -1;\n        }\n      }\n    },\n  },\n});\n\nmodule.exports = naturalCompare;\n","/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    \"use strict\";\n    if (typeof window !== \"undefined\" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function () {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function () {\n            return;\n        };\n        var observeChanges = function () {\n            var observer;\n            window.addEventListener(\"resize\", debouncedCheck, false);\n            window.addEventListener(\"orientationchange\", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function () {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener(\"resize\", debouncedCheck, false);\n                        window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                unobserveChanges = function () {\n                    document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                    window.removeEventListener(\"resize\", debouncedCheck, false);\n                    window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function (url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement(\"a\");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, \"\") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = \"http://www.w3.org/1999/xlink\";\n        checkUseElems = function () {\n            var base;\n            var bcr;\n            var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) { // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n                        if (spec.useEl.hasAttribute(\"href\")) {\n                            spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement(\"x\");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName(\"svg\")[0];\n                    if (svg) {\n                        svg.setAttribute(\"aria-hidden\", \"true\");\n                        svg.style.position = \"absolute\";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = \"hidden\";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName(\"use\");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute(\"href\")\n                        || uses[i].getAttributeNS(xlinkNS, \"href\")\n                        || uses[i].getAttribute(\"xlink:href\");\n                if (href && href.split) {\n                    url = href.split(\"#\");\n                } else {\n                    url = [\"\", \"\"];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute(\"href\")) {\n                        uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open(\"GET\", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = \"\";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var winLoad;\n        winLoad = function () {\n            window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== \"complete\") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener(\"load\", winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            winLoad();\n        }\n    }\n}());\n","/**\n * This work is licensed under the W3C Software and Document License\n * (http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document).\n */\n\n(function() {\n  // Return early if we're not running inside of the browser.\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // Convenience function for converting NodeLists.\n  /** @type {typeof Array.prototype.slice} */\n  const slice = Array.prototype.slice;\n\n  /**\n   * IE has a non-standard name for \"matches\".\n   * @type {typeof Element.prototype.matches}\n   */\n  const matches =\n      Element.prototype.matches || Element.prototype.msMatchesSelector;\n\n  /** @type {string} */\n  const _focusableElementsString = ['a[href]',\n                                    'area[href]',\n                                    'input:not([disabled])',\n                                    'select:not([disabled])',\n                                    'textarea:not([disabled])',\n                                    'button:not([disabled])',\n                                    'details',\n                                    'summary',\n                                    'iframe',\n                                    'object',\n                                    'embed',\n                                    '[contenteditable]'].join(',');\n\n  /**\n   * `InertRoot` manages a single inert subtree, i.e. a DOM subtree whose root element has an `inert`\n   * attribute.\n   *\n   * Its main functions are:\n   *\n   * - to create and maintain a set of managed `InertNode`s, including when mutations occur in the\n   *   subtree. The `makeSubtreeUnfocusable()` method handles collecting `InertNode`s via registering\n   *   each focusable node in the subtree with the singleton `InertManager` which manages all known\n   *   focusable nodes within inert subtrees. `InertManager` ensures that a single `InertNode`\n   *   instance exists for each focusable node which has at least one inert root as an ancestor.\n   *\n   * - to notify all managed `InertNode`s when this subtree stops being inert (i.e. when the `inert`\n   *   attribute is removed from the root node). This is handled in the destructor, which calls the\n   *   `deregister` method on `InertManager` for each managed inert node.\n   */\n  class InertRoot {\n    /**\n     * @param {!Element} rootElement The Element at the root of the inert subtree.\n     * @param {!InertManager} inertManager The global singleton InertManager object.\n     */\n    constructor(rootElement, inertManager) {\n      /** @type {!InertManager} */\n      this._inertManager = inertManager;\n\n      /** @type {!Element} */\n      this._rootElement = rootElement;\n\n      /**\n       * @type {!Set<!InertNode>}\n       * All managed focusable nodes in this InertRoot's subtree.\n       */\n      this._managedNodes = new Set();\n\n      // Make the subtree hidden from assistive technology\n      if (this._rootElement.hasAttribute('aria-hidden')) {\n        /** @type {?string} */\n        this._savedAriaHidden = this._rootElement.getAttribute('aria-hidden');\n      } else {\n        this._savedAriaHidden = null;\n      }\n      this._rootElement.setAttribute('aria-hidden', 'true');\n\n      // Make all focusable elements in the subtree unfocusable and add them to _managedNodes\n      this._makeSubtreeUnfocusable(this._rootElement);\n\n      // Watch for:\n      // - any additions in the subtree: make them unfocusable too\n      // - any removals from the subtree: remove them from this inert root's managed nodes\n      // - attribute changes: if `tabindex` is added, or removed from an intrinsically focusable\n      //   element, make that node a managed node.\n      this._observer = new MutationObserver(this._onMutation.bind(this));\n      this._observer.observe(this._rootElement, {attributes: true, childList: true, subtree: true});\n    }\n\n    /**\n     * Call this whenever this object is about to become obsolete.  This unwinds all of the state\n     * stored in this object and updates the state of all of the managed nodes.\n     */\n    destructor() {\n      this._observer.disconnect();\n\n      if (this._rootElement) {\n        if (this._savedAriaHidden !== null) {\n          this._rootElement.setAttribute('aria-hidden', this._savedAriaHidden);\n        } else {\n          this._rootElement.removeAttribute('aria-hidden');\n        }\n      }\n\n      this._managedNodes.forEach(function(inertNode) {\n        this._unmanageNode(inertNode.node);\n      }, this);\n\n      // Note we cast the nulls to the ANY type here because:\n      // 1) We want the class properties to be declared as non-null, or else we\n      //    need even more casts throughout this code. All bets are off if an\n      //    instance has been destroyed and a method is called.\n      // 2) We don't want to cast \"this\", because we want type-aware optimizations\n      //    to know which properties we're setting.\n      this._observer = /** @type {?} */ (null);\n      this._rootElement = /** @type {?} */ (null);\n      this._managedNodes = /** @type {?} */ (null);\n      this._inertManager = /** @type {?} */ (null);\n    }\n\n    /**\n     * @return {!Set<!InertNode>} A copy of this InertRoot's managed nodes set.\n     */\n    get managedNodes() {\n      return new Set(this._managedNodes);\n    }\n\n    /** @return {boolean} */\n    get hasSavedAriaHidden() {\n      return this._savedAriaHidden !== null;\n    }\n\n    /** @param {?string} ariaHidden */\n    set savedAriaHidden(ariaHidden) {\n      this._savedAriaHidden = ariaHidden;\n    }\n\n    /** @return {?string} */\n    get savedAriaHidden() {\n      return this._savedAriaHidden;\n    }\n\n    /**\n     * @param {!Node} startNode\n     */\n    _makeSubtreeUnfocusable(startNode) {\n      composedTreeWalk(startNode, (node) => this._visitNode(node));\n\n      let activeElement = document.activeElement;\n\n      if (!document.body.contains(startNode)) {\n        // startNode may be in shadow DOM, so find its nearest shadowRoot to get the activeElement.\n        let node = startNode;\n        /** @type {!ShadowRoot|undefined} */\n        let root = undefined;\n        while (node) {\n          if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            root = /** @type {!ShadowRoot} */ (node);\n            break;\n          }\n          node = node.parentNode;\n        }\n        if (root) {\n          activeElement = root.activeElement;\n        }\n      }\n      if (startNode.contains(activeElement)) {\n        activeElement.blur();\n        // In IE11, if an element is already focused, and then set to tabindex=-1\n        // calling blur() will not actually move the focus.\n        // To work around this we call focus() on the body instead.\n        if (activeElement === document.activeElement) {\n          document.body.focus();\n        }\n      }\n    }\n\n    /**\n     * @param {!Node} node\n     */\n    _visitNode(node) {\n      if (node.nodeType !== Node.ELEMENT_NODE) {\n        return;\n      }\n      const element = /** @type {!Element} */ (node);\n\n      // If a descendant inert root becomes un-inert, its descendants will still be inert because of\n      // this inert root, so all of its managed nodes need to be adopted by this InertRoot.\n      if (element !== this._rootElement && element.hasAttribute('inert')) {\n        this._adoptInertRoot(element);\n      }\n\n      if (matches.call(element, _focusableElementsString) || element.hasAttribute('tabindex')) {\n        this._manageNode(element);\n      }\n    }\n\n    /**\n     * Register the given node with this InertRoot and with InertManager.\n     * @param {!Node} node\n     */\n    _manageNode(node) {\n      const inertNode = this._inertManager.register(node, this);\n      this._managedNodes.add(inertNode);\n    }\n\n    /**\n     * Unregister the given node with this InertRoot and with InertManager.\n     * @param {!Node} node\n     */\n    _unmanageNode(node) {\n      const inertNode = this._inertManager.deregister(node, this);\n      if (inertNode) {\n        this._managedNodes.delete(inertNode);\n      }\n    }\n\n    /**\n     * Unregister the entire subtree starting at `startNode`.\n     * @param {!Node} startNode\n     */\n    _unmanageSubtree(startNode) {\n      composedTreeWalk(startNode, (node) => this._unmanageNode(node));\n    }\n\n    /**\n     * If a descendant node is found with an `inert` attribute, adopt its managed nodes.\n     * @param {!Element} node\n     */\n    _adoptInertRoot(node) {\n      let inertSubroot = this._inertManager.getInertRoot(node);\n\n      // During initialisation this inert root may not have been registered yet,\n      // so register it now if need be.\n      if (!inertSubroot) {\n        this._inertManager.setInert(node, true);\n        inertSubroot = this._inertManager.getInertRoot(node);\n      }\n\n      inertSubroot.managedNodes.forEach(function(savedInertNode) {\n        this._manageNode(savedInertNode.node);\n      }, this);\n    }\n\n    /**\n     * Callback used when mutation observer detects subtree additions, removals, or attribute changes.\n     * @param {!Array<!MutationRecord>} records\n     * @param {!MutationObserver} self\n     */\n    _onMutation(records, self) {\n      records.forEach(function(record) {\n        const target = /** @type {!Element} */ (record.target);\n        if (record.type === 'childList') {\n          // Manage added nodes\n          slice.call(record.addedNodes).forEach(function(node) {\n            this._makeSubtreeUnfocusable(node);\n          }, this);\n\n          // Un-manage removed nodes\n          slice.call(record.removedNodes).forEach(function(node) {\n            this._unmanageSubtree(node);\n          }, this);\n        } else if (record.type === 'attributes') {\n          if (record.attributeName === 'tabindex') {\n            // Re-initialise inert node if tabindex changes\n            this._manageNode(target);\n          } else if (target !== this._rootElement &&\n                    record.attributeName === 'inert' &&\n                    target.hasAttribute('inert')) {\n            // If a new inert root is added, adopt its managed nodes and make sure it knows about the\n            // already managed nodes from this inert subroot.\n            this._adoptInertRoot(target);\n            const inertSubroot = this._inertManager.getInertRoot(target);\n            this._managedNodes.forEach(function(managedNode) {\n              if (target.contains(managedNode.node)) {\n                inertSubroot._manageNode(managedNode.node);\n              }\n            });\n          }\n        }\n      }, this);\n    }\n  }\n\n  /**\n   * `InertNode` initialises and manages a single inert node.\n   * A node is inert if it is a descendant of one or more inert root elements.\n   *\n   * On construction, `InertNode` saves the existing `tabindex` value for the node, if any, and\n   * either removes the `tabindex` attribute or sets it to `-1`, depending on whether the element\n   * is intrinsically focusable or not.\n   *\n   * `InertNode` maintains a set of `InertRoot`s which are descendants of this `InertNode`. When an\n   * `InertRoot` is destroyed, and calls `InertManager.deregister()`, the `InertManager` notifies the\n   * `InertNode` via `removeInertRoot()`, which in turn destroys the `InertNode` if no `InertRoot`s\n   * remain in the set. On destruction, `InertNode` reinstates the stored `tabindex` if one exists,\n   * or removes the `tabindex` attribute if the element is intrinsically focusable.\n   */\n  class InertNode {\n    /**\n     * @param {!Node} node A focusable element to be made inert.\n     * @param {!InertRoot} inertRoot The inert root element associated with this inert node.\n     */\n    constructor(node, inertRoot) {\n      /** @type {!Node} */\n      this._node = node;\n\n      /** @type {boolean} */\n      this._overrodeFocusMethod = false;\n\n      /**\n       * @type {!Set<!InertRoot>} The set of descendant inert roots.\n       *    If and only if this set becomes empty, this node is no longer inert.\n       */\n      this._inertRoots = new Set([inertRoot]);\n\n      /** @type {?number} */\n      this._savedTabIndex = null;\n\n      /** @type {boolean} */\n      this._destroyed = false;\n\n      // Save any prior tabindex info and make this node untabbable\n      this.ensureUntabbable();\n    }\n\n    /**\n     * Call this whenever this object is about to become obsolete.\n     * This makes the managed node focusable again and deletes all of the previously stored state.\n     */\n    destructor() {\n      this._throwIfDestroyed();\n\n      if (this._node && this._node.nodeType === Node.ELEMENT_NODE) {\n        const element = /** @type {!Element} */ (this._node);\n        if (this._savedTabIndex !== null) {\n          element.setAttribute('tabindex', this._savedTabIndex);\n        } else {\n          element.removeAttribute('tabindex');\n        }\n\n        // Use `delete` to restore native focus method.\n        if (this._overrodeFocusMethod) {\n          delete element.focus;\n        }\n      }\n\n      // See note in InertRoot.destructor for why we cast these nulls to ANY.\n      this._node = /** @type {?} */ (null);\n      this._inertRoots = /** @type {?} */ (null);\n      this._destroyed = true;\n    }\n\n    /**\n     * @type {boolean} Whether this object is obsolete because the managed node is no longer inert.\n     * If the object has been destroyed, any attempt to access it will cause an exception.\n     */\n    get destroyed() {\n      return /** @type {!InertNode} */ (this)._destroyed;\n    }\n\n    /**\n     * Throw if user tries to access destroyed InertNode.\n     */\n    _throwIfDestroyed() {\n      if (this.destroyed) {\n        throw new Error('Trying to access destroyed InertNode');\n      }\n    }\n\n    /** @return {boolean} */\n    get hasSavedTabIndex() {\n      return this._savedTabIndex !== null;\n    }\n\n    /** @return {!Node} */\n    get node() {\n      this._throwIfDestroyed();\n      return this._node;\n    }\n\n    /** @param {?number} tabIndex */\n    set savedTabIndex(tabIndex) {\n      this._throwIfDestroyed();\n      this._savedTabIndex = tabIndex;\n    }\n\n    /** @return {?number} */\n    get savedTabIndex() {\n      this._throwIfDestroyed();\n      return this._savedTabIndex;\n    }\n\n    /** Save the existing tabindex value and make the node untabbable and unfocusable */\n    ensureUntabbable() {\n      if (this.node.nodeType !== Node.ELEMENT_NODE) {\n        return;\n      }\n      const element = /** @type {!Element} */ (this.node);\n      if (matches.call(element, _focusableElementsString)) {\n        if (/** @type {!HTMLElement} */ (element).tabIndex === -1 &&\n            this.hasSavedTabIndex) {\n          return;\n        }\n\n        if (element.hasAttribute('tabindex')) {\n          this._savedTabIndex = /** @type {!HTMLElement} */ (element).tabIndex;\n        }\n        element.setAttribute('tabindex', '-1');\n        if (element.nodeType === Node.ELEMENT_NODE) {\n          element.focus = function() {};\n          this._overrodeFocusMethod = true;\n        }\n      } else if (element.hasAttribute('tabindex')) {\n        this._savedTabIndex = /** @type {!HTMLElement} */ (element).tabIndex;\n        element.removeAttribute('tabindex');\n      }\n    }\n\n    /**\n     * Add another inert root to this inert node's set of managing inert roots.\n     * @param {!InertRoot} inertRoot\n     */\n    addInertRoot(inertRoot) {\n      this._throwIfDestroyed();\n      this._inertRoots.add(inertRoot);\n    }\n\n    /**\n     * Remove the given inert root from this inert node's set of managing inert roots.\n     * If the set of managing inert roots becomes empty, this node is no longer inert,\n     * so the object should be destroyed.\n     * @param {!InertRoot} inertRoot\n     */\n    removeInertRoot(inertRoot) {\n      this._throwIfDestroyed();\n      this._inertRoots.delete(inertRoot);\n      if (this._inertRoots.size === 0) {\n        this.destructor();\n      }\n    }\n  }\n\n  /**\n   * InertManager is a per-document singleton object which manages all inert roots and nodes.\n   *\n   * When an element becomes an inert root by having an `inert` attribute set and/or its `inert`\n   * property set to `true`, the `setInert` method creates an `InertRoot` object for the element.\n   * The `InertRoot` in turn registers itself as managing all of the element's focusable descendant\n   * nodes via the `register()` method. The `InertManager` ensures that a single `InertNode` instance\n   * is created for each such node, via the `_managedNodes` map.\n   */\n  class InertManager {\n    /**\n     * @param {!Document} document\n     */\n    constructor(document) {\n      if (!document) {\n        throw new Error('Missing required argument; InertManager needs to wrap a document.');\n      }\n\n      /** @type {!Document} */\n      this._document = document;\n\n      /**\n       * All managed nodes known to this InertManager. In a map to allow looking up by Node.\n       * @type {!Map<!Node, !InertNode>}\n       */\n      this._managedNodes = new Map();\n\n      /**\n       * All inert roots known to this InertManager. In a map to allow looking up by Node.\n       * @type {!Map<!Node, !InertRoot>}\n       */\n      this._inertRoots = new Map();\n\n      /**\n       * Observer for mutations on `document.body`.\n       * @type {!MutationObserver}\n       */\n      this._observer = new MutationObserver(this._watchForInert.bind(this));\n\n      // Add inert style.\n      addInertStyle(document.head || document.body || document.documentElement);\n\n      // Wait for document to be loaded.\n      if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', this._onDocumentLoaded.bind(this));\n      } else {\n        this._onDocumentLoaded();\n      }\n    }\n\n    /**\n     * Set whether the given element should be an inert root or not.\n     * @param {!Element} root\n     * @param {boolean} inert\n     */\n    setInert(root, inert) {\n      if (inert) {\n        if (this._inertRoots.has(root)) { // element is already inert\n          return;\n        }\n\n        const inertRoot = new InertRoot(root, this);\n        root.setAttribute('inert', '');\n        this._inertRoots.set(root, inertRoot);\n        // If not contained in the document, it must be in a shadowRoot.\n        // Ensure inert styles are added there.\n        if (!this._document.body.contains(root)) {\n          let parent = root.parentNode;\n          while (parent) {\n            if (parent.nodeType === 11) {\n              addInertStyle(parent);\n            }\n            parent = parent.parentNode;\n          }\n        }\n      } else {\n        if (!this._inertRoots.has(root)) { // element is already non-inert\n          return;\n        }\n\n        const inertRoot = this._inertRoots.get(root);\n        inertRoot.destructor();\n        this._inertRoots.delete(root);\n        root.removeAttribute('inert');\n      }\n    }\n\n    /**\n     * Get the InertRoot object corresponding to the given inert root element, if any.\n     * @param {!Node} element\n     * @return {!InertRoot|undefined}\n     */\n    getInertRoot(element) {\n      return this._inertRoots.get(element);\n    }\n\n    /**\n     * Register the given InertRoot as managing the given node.\n     * In the case where the node has a previously existing inert root, this inert root will\n     * be added to its set of inert roots.\n     * @param {!Node} node\n     * @param {!InertRoot} inertRoot\n     * @return {!InertNode} inertNode\n     */\n    register(node, inertRoot) {\n      let inertNode = this._managedNodes.get(node);\n      if (inertNode !== undefined) { // node was already in an inert subtree\n        inertNode.addInertRoot(inertRoot);\n      } else {\n        inertNode = new InertNode(node, inertRoot);\n      }\n\n      this._managedNodes.set(node, inertNode);\n\n      return inertNode;\n    }\n\n    /**\n     * De-register the given InertRoot as managing the given inert node.\n     * Removes the inert root from the InertNode's set of managing inert roots, and remove the inert\n     * node from the InertManager's set of managed nodes if it is destroyed.\n     * If the node is not currently managed, this is essentially a no-op.\n     * @param {!Node} node\n     * @param {!InertRoot} inertRoot\n     * @return {?InertNode} The potentially destroyed InertNode associated with this node, if any.\n     */\n    deregister(node, inertRoot) {\n      const inertNode = this._managedNodes.get(node);\n      if (!inertNode) {\n        return null;\n      }\n\n      inertNode.removeInertRoot(inertRoot);\n      if (inertNode.destroyed) {\n        this._managedNodes.delete(node);\n      }\n\n      return inertNode;\n    }\n\n    /**\n     * Callback used when document has finished loading.\n     */\n    _onDocumentLoaded() {\n      // Find all inert roots in document and make them actually inert.\n      const inertElements = slice.call(this._document.querySelectorAll('[inert]'));\n      inertElements.forEach(function(inertElement) {\n        this.setInert(inertElement, true);\n      }, this);\n\n      // Comment this out to use programmatic API only.\n      this._observer.observe(this._document.body || this._document.documentElement, {attributes: true, subtree: true, childList: true});\n    }\n\n    /**\n     * Callback used when mutation observer detects attribute changes.\n     * @param {!Array<!MutationRecord>} records\n     * @param {!MutationObserver} self\n     */\n    _watchForInert(records, self) {\n      const _this = this;\n      records.forEach(function(record) {\n        switch (record.type) {\n        case 'childList':\n          slice.call(record.addedNodes).forEach(function(node) {\n            if (node.nodeType !== Node.ELEMENT_NODE) {\n              return;\n            }\n            const inertElements = slice.call(node.querySelectorAll('[inert]'));\n            if (matches.call(node, '[inert]')) {\n              inertElements.unshift(node);\n            }\n            inertElements.forEach(function(inertElement) {\n              this.setInert(inertElement, true);\n            }, _this);\n          }, _this);\n          break;\n        case 'attributes':\n          if (record.attributeName !== 'inert') {\n            return;\n          }\n          const target = /** @type {!Element} */ (record.target);\n          const inert = target.hasAttribute('inert');\n          _this.setInert(target, inert);\n          break;\n        }\n      }, this);\n    }\n  }\n\n  /**\n   * Recursively walk the composed tree from |node|.\n   * @param {!Node} node\n   * @param {(function (!Element))=} callback Callback to be called for each element traversed,\n   *     before descending into child nodes.\n   * @param {?ShadowRoot=} shadowRootAncestor The nearest ShadowRoot ancestor, if any.\n   */\n  function composedTreeWalk(node, callback, shadowRootAncestor) {\n    if (node.nodeType == Node.ELEMENT_NODE) {\n      const element = /** @type {!Element} */ (node);\n      if (callback) {\n        callback(element);\n      }\n\n      // Descend into node:\n      // If it has a ShadowRoot, ignore all child elements - these will be picked\n      // up by the <content> or <shadow> elements. Descend straight into the\n      // ShadowRoot.\n      const shadowRoot = /** @type {!HTMLElement} */ (element).shadowRoot;\n      if (shadowRoot) {\n        composedTreeWalk(shadowRoot, callback, shadowRoot);\n        return;\n      }\n\n      // If it is a <content> element, descend into distributed elements - these\n      // are elements from outside the shadow root which are rendered inside the\n      // shadow DOM.\n      if (element.localName == 'content') {\n        const content = /** @type {!HTMLContentElement} */ (element);\n        // Verifies if ShadowDom v0 is supported.\n        const distributedNodes = content.getDistributedNodes ?\n          content.getDistributedNodes() : [];\n        for (let i = 0; i < distributedNodes.length; i++) {\n          composedTreeWalk(distributedNodes[i], callback, shadowRootAncestor);\n        }\n        return;\n      }\n\n      // If it is a <slot> element, descend into assigned nodes - these\n      // are elements from outside the shadow root which are rendered inside the\n      // shadow DOM.\n      if (element.localName == 'slot') {\n        const slot = /** @type {!HTMLSlotElement} */ (element);\n        // Verify if ShadowDom v1 is supported.\n        const distributedNodes = slot.assignedNodes ?\n          slot.assignedNodes({flatten: true}) : [];\n        for (let i = 0; i < distributedNodes.length; i++) {\n          composedTreeWalk(distributedNodes[i], callback, shadowRootAncestor);\n        }\n        return;\n      }\n    }\n\n    // If it is neither the parent of a ShadowRoot, a <content> element, a <slot>\n    // element, nor a <shadow> element recurse normally.\n    let child = node.firstChild;\n    while (child != null) {\n      composedTreeWalk(child, callback, shadowRootAncestor);\n      child = child.nextSibling;\n    }\n  }\n\n  /**\n   * Adds a style element to the node containing the inert specific styles\n   * @param {!Node} node\n   */\n  function addInertStyle(node) {\n    if (node.querySelector('style#inert-style, link#inert-style')) {\n      return;\n    }\n    const style = document.createElement('style');\n    style.setAttribute('id', 'inert-style');\n    style.textContent = '\\n'+\n                        '[inert] {\\n' +\n                        '  pointer-events: none;\\n' +\n                        '  cursor: default;\\n' +\n                        '}\\n' +\n                        '\\n' +\n                        '[inert], [inert] * {\\n' +\n                        '  -webkit-user-select: none;\\n' +\n                        '  -moz-user-select: none;\\n' +\n                        '  -ms-user-select: none;\\n' +\n                        '  user-select: none;\\n' +\n                        '}\\n';\n    node.appendChild(style);\n  }\n\n  /** @type {!InertManager} */\n  const inertManager = new InertManager(document);\n\n  if (!Element.prototype.hasOwnProperty('inert')) {\n    Object.defineProperty(Element.prototype, 'inert', {\n      enumerable: true,\n      /** @this {!Element} */\n      get: function() {\n        return this.hasAttribute('inert');\n      },\n      /** @this {!Element} */\n      set: function(inert) {\n        inertManager.setInert(this, inert);\n      },\n    });\n  }\n})();\n","/**\n * A cross-browser implementation of getElementsByClass.\n * Heavily based on Dustin Diaz's function: http://dustindiaz.com/getelementsbyclass.\n *\n * Find all elements with class `className` inside `container`.\n * Use `single = true` to increase performance in older browsers\n * when only one element is needed.\n *\n * @param {String} className\n * @param {Element} container\n * @param {Boolean} single\n * @api public\n */\n\nvar getElementsByClassName = function(container, className, single) {\n  if (single) {\n    return container.getElementsByClassName(className)[0];\n  } else {\n    return container.getElementsByClassName(className);\n  }\n};\n\nvar querySelector = function(container, className, single) {\n  className = '.' + className;\n  if (single) {\n    return container.querySelector(className);\n  } else {\n    return container.querySelectorAll(className);\n  }\n};\n\nvar polyfill = function(container, className, single) {\n  var classElements = [],\n    tag = '*';\n\n  var els = container.getElementsByTagName(tag);\n  var elsLen = els.length;\n  var pattern = new RegExp(\"(^|\\\\s)\"+className+\"(\\\\s|$)\");\n  for (var i = 0, j = 0; i < elsLen; i++) {\n    if ( pattern.test(els[i].className) ) {\n      if (single) {\n        return els[i];\n      } else {\n        classElements[j] = els[i];\n        j++;\n      }\n    }\n  }\n  return classElements;\n};\n\nmodule.exports = (function() {\n  return function(container, className, single, options) {\n    options = options || {};\n    if ((options.test && options.getElementsByClassName) || (!options.test && document.getElementsByClassName)) {\n      return getElementsByClassName(container, className, single);\n    } else if ((options.test && options.querySelector) || (!options.test && document.querySelector)) {\n      return querySelector(container, className, single);\n    } else {\n      return polyfill(container, className, single);\n    }\n  };\n})();\n","/*\n * Source: https://github.com/segmentio/extend\n */\n\nmodule.exports = function extend (object) {\n    // Takes an unlimited number of extenders.\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    // For each extender, copy their properties on our object.\n    for (var i = 0, source; source = args[i]; i++) {\n        if (!source) continue;\n        for (var property in source) {\n            object[property] = source[property];\n        }\n    }\n\n    return object;\n};\n","var indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n","/**\n * Source: https://github.com/timoxley/to-array\n *\n * Convert an array-like object into an `Array`.\n * If `collection` is already an `Array`, then will return a clone of `collection`.\n *\n * @param {Array | Mixed} collection An `Array` or array-like object to convert e.g. `arguments` or `NodeList`\n * @return {Array} Naive conversion of `collection` to a new `Array`.\n * @api public\n */\n\nmodule.exports = function toArray(collection) {\n  if (typeof collection === 'undefined') return [];\n  if (collection === null) return [null];\n  if (collection === window) return [window];\n  if (typeof collection === 'string') return [collection];\n  if (isArray(collection)) return collection;\n  if (typeof collection.length != 'number') return [collection];\n  if (typeof collection === 'function' && collection instanceof Function) return [collection];\n\n  var arr = [];\n  for (var i = 0; i < collection.length; i++) {\n    if (Object.prototype.hasOwnProperty.call(collection, i) || i in collection) {\n      arr.push(collection[i]);\n    }\n  }\n  if (!arr.length) return [];\n  return arr;\n};\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === \"[object Array]\";\n}\n","var bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind !== 'addEventListener' ? 'on' : '',\n    toArray = require('./to-array');\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el, NodeList, HTMLCollection or Array\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  el = toArray(el);\n  for ( var i = 0; i < el.length; i++ ) {\n    el[i][bind](prefix + type, fn, capture || false);\n  }\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el, NodeList, HTMLCollection or Array\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  el = toArray(el);\n  for ( var i = 0; i < el.length; i++ ) {\n    el[i][unbind](prefix + type, fn, capture || false);\n  }\n};\n","module.exports = function(s) {\n  s = (s === undefined) ? \"\" : s;\n  s = (s === null) ? \"\" : s;\n  s = s.toString();\n  return s;\n};\n","/**\n * Module dependencies.\n */\n\nvar index = require('./index-of');\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/;\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nmodule.exports = function(el){\n  return new ClassList(el);\n};\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function(name){\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = index(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function(name){\n  // classList\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = index(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function(name, force){\n  // classList\n  if (this.list) {\n    if (\"undefined\" !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n    return this;\n  }\n\n  // fallback\n  if (\"undefined\" !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function(){\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has =\nClassList.prototype.contains = function(name){\n  return this.list ? this.list.contains(name) : !! ~index(this.array(), name);\n};\n","/**\n * A cross-browser implementation of getAttribute.\n * Source found here: http://stackoverflow.com/a/3755343/361337 written by Vivin Paliath\n *\n * Return the value for `attr` at `element`.\n *\n * @param {Element} el\n * @param {String} attr\n * @api public\n */\n\nmodule.exports = function(el, attr) {\n  var result = (el.getAttribute && el.getAttribute(attr)) || null;\n  if( !result ) {\n    var attrs = el.attributes;\n    var length = attrs.length;\n    for(var i = 0; i < length; i++) {\n      if (attr[i] !== undefined) {\n        if(attr[i].nodeName === attr) {\n          result = attr[i].nodeValue;\n        }\n      }\n    }\n  }\n  return result;\n};\n","module.exports = function(list) {\n  return function(initValues, element, notCreate) {\n    var item = this;\n\n    this._values = {};\n\n    this.found = false; // Show if list.searched == true and this.found == true\n    this.filtered = false;// Show if list.filtered == true and this.filtered == true\n\n    var init = function(initValues, element, notCreate) {\n      if (element === undefined) {\n        if (notCreate) {\n          item.values(initValues, notCreate);\n        } else {\n          item.values(initValues);\n        }\n      } else {\n        item.elm = element;\n        var values = list.templater.get(item, initValues);\n        item.values(values);\n      }\n    };\n\n    this.values = function(newValues, notCreate) {\n      if (newValues !== undefined) {\n        for(var name in newValues) {\n          item._values[name] = newValues[name];\n        }\n        if (notCreate !== true) {\n          list.templater.set(item, item.values());\n        }\n      } else {\n        return item._values;\n      }\n    };\n\n    this.show = function() {\n      list.templater.show(item);\n    };\n\n    this.hide = function() {\n      list.templater.hide(item);\n    };\n\n    this.matching = function() {\n      return (\n        (list.filtered && list.searched && item.found && item.filtered) ||\n        (list.filtered && !list.searched && item.filtered) ||\n        (!list.filtered && list.searched && item.found) ||\n        (!list.filtered && !list.searched)\n      );\n    };\n\n    this.visible = function() {\n      return (item.elm && (item.elm.parentNode == list.list)) ? true : false;\n    };\n\n    init(initValues, element, notCreate);\n  };\n};\n","var Templater = function(list) {\n  var itemSource,\n    templater = this;\n\n  var init = function() {\n    itemSource = templater.getItemSource(list.item);\n    if (itemSource) {\n      itemSource = templater.clearSourceItem(itemSource, list.valueNames);\n    }\n  };\n\n  this.clearSourceItem = function(el, valueNames) {\n    for(var i = 0, il = valueNames.length; i < il; i++) {\n      var elm;\n      if (valueNames[i].data) {\n        for (var j = 0, jl = valueNames[i].data.length; j < jl; j++) {\n          el.setAttribute('data-'+valueNames[i].data[j], '');\n        }\n      } else if (valueNames[i].attr && valueNames[i].name) {\n        elm = list.utils.getByClass(el, valueNames[i].name, true);\n        if (elm) {\n          elm.setAttribute(valueNames[i].attr, \"\");\n        }\n      } else {\n        elm = list.utils.getByClass(el, valueNames[i], true);\n        if (elm) {\n          elm.innerHTML = \"\";\n        }\n      }\n      elm = undefined;\n    }\n    return el;\n  };\n\n  this.getItemSource = function(item) {\n    if (item === undefined) {\n      var nodes = list.list.childNodes,\n        items = [];\n\n      for (var i = 0, il = nodes.length; i < il; i++) {\n        // Only textnodes have a data attribute\n        if (nodes[i].data === undefined) {\n          return nodes[i].cloneNode(true);\n        }\n      }\n    } else if (/<tr[\\s>]/g.exec(item)) {\n      var tbody = document.createElement('tbody');\n      tbody.innerHTML = item;\n      return tbody.firstChild;\n    } else if (item.indexOf(\"<\") !== -1) {\n      var div = document.createElement('div');\n      div.innerHTML = item;\n      return div.firstChild;\n    } else {\n      var source = document.getElementById(list.item);\n      if (source) {\n        return source;\n      }\n    }\n    return undefined;\n  };\n\n  this.get = function(item, valueNames) {\n    templater.create(item);\n    var values = {};\n    for(var i = 0, il = valueNames.length; i < il; i++) {\n      var elm;\n      if (valueNames[i].data) {\n        for (var j = 0, jl = valueNames[i].data.length; j < jl; j++) {\n          values[valueNames[i].data[j]] = list.utils.getAttribute(item.elm, 'data-'+valueNames[i].data[j]);\n        }\n      } else if (valueNames[i].attr && valueNames[i].name) {\n        elm = list.utils.getByClass(item.elm, valueNames[i].name, true);\n        values[valueNames[i].name] = elm ? list.utils.getAttribute(elm, valueNames[i].attr) : \"\";\n      } else {\n        elm = list.utils.getByClass(item.elm, valueNames[i], true);\n        values[valueNames[i]] = elm ? elm.innerHTML : \"\";\n      }\n      elm = undefined;\n    }\n    return values;\n  };\n\n  this.set = function(item, values) {\n    var getValueName = function(name) {\n      for (var i = 0, il = list.valueNames.length; i < il; i++) {\n        if (list.valueNames[i].data) {\n          var data = list.valueNames[i].data;\n          for (var j = 0, jl = data.length; j < jl; j++) {\n            if (data[j] === name) {\n              return { data: name };\n            }\n          }\n        } else if (list.valueNames[i].attr && list.valueNames[i].name && list.valueNames[i].name == name) {\n          return list.valueNames[i];\n        } else if (list.valueNames[i] === name) {\n          return name;\n        }\n      }\n    };\n    var setValue = function(name, value) {\n      var elm;\n      var valueName = getValueName(name);\n      if (!valueName)\n        return;\n      if (valueName.data) {\n        item.elm.setAttribute('data-'+valueName.data, value);\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(item.elm, valueName.name, true);\n        if (elm) {\n          elm.setAttribute(valueName.attr, value);\n        }\n      } else {\n        elm = list.utils.getByClass(item.elm, valueName, true);\n        if (elm) {\n          elm.innerHTML = value;\n        }\n      }\n      elm = undefined;\n    };\n    if (!templater.create(item)) {\n      for(var v in values) {\n        if (values.hasOwnProperty(v)) {\n          setValue(v, values[v]);\n        }\n      }\n    }\n  };\n\n  this.create = function(item) {\n    if (item.elm !== undefined) {\n      return false;\n    }\n    if (itemSource === undefined) {\n      throw new Error(\"The list need to have at list one item on init otherwise you'll have to add a template.\");\n    }\n    /* If item source does not exists, use the first item in list as\n    source for new items */\n    var newItem = itemSource.cloneNode(true);\n    newItem.removeAttribute('id');\n    item.elm = newItem;\n    templater.set(item, item.values());\n    return true;\n  };\n  this.remove = function(item) {\n    if (item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n  this.show = function(item) {\n    templater.create(item);\n    list.list.appendChild(item.elm);\n  };\n  this.hide = function(item) {\n    if (item.elm !== undefined && item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n  this.clear = function() {\n    /* .innerHTML = ''; fucks up IE */\n    if (list.list.hasChildNodes()) {\n      while (list.list.childNodes.length >= 1)\n      {\n        list.list.removeChild(list.list.firstChild);\n      }\n    }\n  };\n\n  init();\n};\n\nmodule.exports = function(list) {\n  return new Templater(list);\n};\n","var naturalSort = require('string-natural-compare'),\n  getByClass = require('./utils/get-by-class'),\n  extend = require('./utils/extend'),\n  indexOf = require('./utils/index-of'),\n  events = require('./utils/events'),\n  toString = require('./utils/to-string'),\n  classes = require('./utils/classes'),\n  getAttribute = require('./utils/get-attribute'),\n  toArray = require('./utils/to-array');\n\nmodule.exports = function(id, options, values) {\n\n  var self = this,\n    init,\n    Item = require('./item')(self),\n    addAsync = require('./add-async')(self),\n    initPagination = require('./pagination')(self);\n\n  init = {\n    start: function() {\n      self.listClass      = \"list\";\n      self.searchClass    = \"search\";\n      self.sortClass      = \"sort\";\n      self.page           = 10000;\n      self.i              = 1;\n      self.items          = [];\n      self.visibleItems   = [];\n      self.matchingItems  = [];\n      self.searched       = false;\n      self.filtered       = false;\n      self.searchColumns  = undefined;\n      self.handlers       = { 'updated': [] };\n      self.valueNames     = [];\n      self.utils          = {\n        getByClass: getByClass,\n        extend: extend,\n        indexOf: indexOf,\n        events: events,\n        toString: toString,\n        naturalSort: naturalSort,\n        classes: classes,\n        getAttribute: getAttribute,\n        toArray: toArray\n      };\n\n      self.utils.extend(self, options);\n\n      self.listContainer = (typeof(id) === 'string') ? document.getElementById(id) : id;\n      if (!self.listContainer) { return; }\n      self.list       = getByClass(self.listContainer, self.listClass, true);\n\n      self.parse        = require('./parse')(self);\n      self.templater    = require('./templater')(self);\n      self.search       = require('./search')(self);\n      self.filter       = require('./filter')(self);\n      self.sort         = require('./sort')(self);\n      self.fuzzySearch  = require('./fuzzy-search')(self, options.fuzzySearch);\n\n      this.handlers();\n      this.items();\n      this.pagination();\n\n      self.update();\n    },\n    handlers: function() {\n      for (var handler in self.handlers) {\n        if (self[handler]) {\n          self.on(handler, self[handler]);\n        }\n      }\n    },\n    items: function() {\n      self.parse(self.list);\n      if (values !== undefined) {\n        self.add(values);\n      }\n    },\n    pagination: function() {\n      if (options.pagination !== undefined) {\n        if (options.pagination === true) {\n          options.pagination = [{}];\n        }\n        if (options.pagination[0] === undefined){\n          options.pagination = [options.pagination];\n        }\n        for (var i = 0, il = options.pagination.length; i < il; i++) {\n          initPagination(options.pagination[i]);\n        }\n      }\n    }\n  };\n\n  /*\n  * Re-parse the List, use if html have changed\n  */\n  this.reIndex = function() {\n    self.items          = [];\n    self.visibleItems   = [];\n    self.matchingItems  = [];\n    self.searched       = false;\n    self.filtered       = false;\n    self.parse(self.list);\n  };\n\n  this.toJSON = function() {\n    var json = [];\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      json.push(self.items[i].values());\n    }\n    return json;\n  };\n\n\n  /*\n  * Add object to list\n  */\n  this.add = function(values, callback) {\n    if (values.length === 0) {\n      return;\n    }\n    if (callback) {\n      addAsync(values, callback);\n      return;\n    }\n    var added = [],\n      notCreate = false;\n    if (values[0] === undefined){\n      values = [values];\n    }\n    for (var i = 0, il = values.length; i < il; i++) {\n      var item = null;\n      notCreate = (self.items.length > self.page) ? true : false;\n      item = new Item(values[i], undefined, notCreate);\n      self.items.push(item);\n      added.push(item);\n    }\n    self.update();\n    return added;\n  };\n\n\tthis.show = function(i, page) {\n\t\tthis.i = i;\n\t\tthis.page = page;\n\t\tself.update();\n    return self;\n\t};\n\n  /* Removes object from list.\n  * Loops through the list and removes objects where\n  * property \"valuename\" === value\n  */\n  this.remove = function(valueName, value, options) {\n    var found = 0;\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      if (self.items[i].values()[valueName] == value) {\n        self.templater.remove(self.items[i], options);\n        self.items.splice(i,1);\n        il--;\n        i--;\n        found++;\n      }\n    }\n    self.update();\n    return found;\n  };\n\n  /* Gets the objects in the list which\n  * property \"valueName\" === value\n  */\n  this.get = function(valueName, value) {\n    var matchedItems = [];\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      var item = self.items[i];\n      if (item.values()[valueName] == value) {\n        matchedItems.push(item);\n      }\n    }\n    return matchedItems;\n  };\n\n  /*\n  * Get size of the list\n  */\n  this.size = function() {\n    return self.items.length;\n  };\n\n  /*\n  * Removes all items from the list\n  */\n  this.clear = function() {\n    self.templater.clear();\n    self.items = [];\n    return self;\n  };\n\n  this.on = function(event, callback) {\n    self.handlers[event].push(callback);\n    return self;\n  };\n\n  this.off = function(event, callback) {\n    var e = self.handlers[event];\n    var index = indexOf(e, callback);\n    if (index > -1) {\n      e.splice(index, 1);\n    }\n    return self;\n  };\n\n  this.trigger = function(event) {\n    var i = self.handlers[event].length;\n    while(i--) {\n      self.handlers[event][i](self);\n    }\n    return self;\n  };\n\n  this.reset = {\n    filter: function() {\n      var is = self.items,\n        il = is.length;\n      while (il--) {\n        is[il].filtered = false;\n      }\n      return self;\n    },\n    search: function() {\n      var is = self.items,\n        il = is.length;\n      while (il--) {\n        is[il].found = false;\n      }\n      return self;\n    }\n  };\n\n  this.update = function() {\n    var is = self.items,\n\t\t\til = is.length;\n\n    self.visibleItems = [];\n    self.matchingItems = [];\n    self.templater.clear();\n    for (var i = 0; i < il; i++) {\n      if (is[i].matching() && ((self.matchingItems.length+1) >= self.i && self.visibleItems.length < self.page)) {\n        is[i].show();\n        self.visibleItems.push(is[i]);\n        self.matchingItems.push(is[i]);\n      } else if (is[i].matching()) {\n        self.matchingItems.push(is[i]);\n        is[i].hide();\n      } else {\n        is[i].hide();\n      }\n    }\n    self.trigger('updated');\n    return self;\n  };\n\n  init.start();\n};\n","module.exports = function(list) {\n  var addAsync = function(values, callback, items) {\n    var valuesToAdd = values.splice(0, 50);\n    items = items || [];\n    items = items.concat(list.add(valuesToAdd));\n    if (values.length > 0) {\n      setTimeout(function() {\n        addAsync(values, callback, items);\n      }, 1);\n    } else {\n      list.update();\n      callback(items);\n    }\n  };\n  return addAsync;\n};\n","var classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  List = require('./index');\n\nmodule.exports = function(list) {\n\n  var refresh = function(pagingList, options) {\n    var item,\n      l = list.matchingItems.length,\n      index = list.i,\n      page = list.page,\n      pages = Math.ceil(l / page),\n      currentPage = Math.ceil((index / page)),\n      innerWindow = options.innerWindow || 2,\n      left = options.left || options.outerWindow || 0,\n      right = options.right || options.outerWindow || 0;\n\n    right = pages - right;\n\n    pagingList.clear();\n    for (var i = 1; i <= pages; i++) {\n      var className = (currentPage === i) ? \"active\" : \"\";\n\n      //console.log(i, left, right, currentPage, (currentPage - innerWindow), (currentPage + innerWindow), className);\n\n      if (is.number(i, left, right, currentPage, innerWindow)) {\n        item = pagingList.add({\n          page: i,\n          dotted: false\n        })[0];\n        if (className) {\n          classes(item.elm).add(className);\n        }\n        addEvent(item.elm, i, page);\n      } else if (is.dotted(pagingList, i, left, right, currentPage, innerWindow, pagingList.size())) {\n        item = pagingList.add({\n          page: \"...\",\n          dotted: true\n        })[0];\n        classes(item.elm).add(\"disabled\");\n      }\n    }\n  };\n\n  var is = {\n    number: function(i, left, right, currentPage, innerWindow) {\n       return this.left(i, left) || this.right(i, right) || this.innerWindow(i, currentPage, innerWindow);\n    },\n    left: function(i, left) {\n      return (i <= left);\n    },\n    right: function(i, right) {\n      return (i > right);\n    },\n    innerWindow: function(i, currentPage, innerWindow) {\n      return ( i >= (currentPage - innerWindow) && i <= (currentPage + innerWindow));\n    },\n    dotted: function(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      return this.dottedLeft(pagingList, i, left, right, currentPage, innerWindow) || (this.dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem));\n    },\n    dottedLeft: function(pagingList, i, left, right, currentPage, innerWindow) {\n      return ((i == (left + 1)) && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right));\n    },\n    dottedRight: function(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      if (pagingList.items[currentPageItem-1].values().dotted) {\n        return false;\n      } else {\n        return ((i == (right)) && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right));\n      }\n    }\n  };\n\n  var addEvent = function(elm, i, page) {\n     events.bind(elm, 'click', function() {\n       list.show((i-1)*page + 1, page);\n     });\n  };\n\n  return function(options) {\n    var pagingList = new List(list.listContainer.id, {\n      listClass: options.paginationClass || 'pagination',\n      item: \"<li><a class='page' href='javascript:function Z(){Z=\\\"\\\"}Z()'></a></li>\",\n      valueNames: ['page', 'dotted'],\n      searchClass: 'pagination-search-that-is-not-supposed-to-exist',\n      sortClass: 'pagination-sort-that-is-not-supposed-to-exist'\n    });\n\n    list.on('updated', function() {\n      refresh(pagingList, options);\n    });\n    refresh(pagingList, options);\n  };\n};\n","module.exports = function(list) {\n\n  var Item = require('./item')(list);\n\n  var getChildren = function(parent) {\n    var nodes = parent.childNodes,\n      items = [];\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        items.push(nodes[i]);\n      }\n    }\n    return items;\n  };\n\n  var parse = function(itemElements, valueNames) {\n    for (var i = 0, il = itemElements.length; i < il; i++) {\n      list.items.push(new Item(valueNames, itemElements[i]));\n    }\n  };\n  var parseAsync = function(itemElements, valueNames) {\n    var itemsToIndex = itemElements.splice(0, 50); // TODO: If < 100 items, what happens in IE etc?\n    parse(itemsToIndex, valueNames);\n    if (itemElements.length > 0) {\n      setTimeout(function() {\n        parseAsync(itemElements, valueNames);\n      }, 1);\n    } else {\n      list.update();\n      list.trigger('parseComplete');\n    }\n  };\n\n  list.handlers.parseComplete = list.handlers.parseComplete || [];\n\n  return function() {\n    var itemsToIndex = getChildren(list.list),\n      valueNames = list.valueNames;\n\n    if (list.indexAsync) {\n      parseAsync(itemsToIndex, valueNames);\n    } else {\n      parse(itemsToIndex, valueNames);\n    }\n  };\n};\n","module.exports = function(list) {\n  var item,\n    text,\n    columns,\n    searchString,\n    customSearch;\n\n  var prepare = {\n    resetList: function() {\n      list.i = 1;\n      list.templater.clear();\n      customSearch = undefined;\n    },\n    setOptions: function(args) {\n      if (args.length == 2 && args[1] instanceof Array) {\n        columns = args[1];\n      } else if (args.length == 2 && typeof(args[1]) == \"function\") {\n        columns = undefined;\n        customSearch = args[1];\n      } else if (args.length == 3) {\n        columns = args[1];\n        customSearch = args[2];\n      } else {\n        columns = undefined;\n      }\n    },\n    setColumns: function() {\n      if (list.items.length === 0) return;\n      if (columns === undefined) {\n        columns = (list.searchColumns === undefined) ? prepare.toArray(list.items[0].values()) : list.searchColumns;\n      }\n    },\n    setSearchString: function(s) {\n      s = list.utils.toString(s).toLowerCase();\n      s = s.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, \"\\\\$&\"); // Escape regular expression characters\n      searchString = s;\n    },\n    toArray: function(values) {\n      var tmpColumn = [];\n      for (var name in values) {\n        tmpColumn.push(name);\n      }\n      return tmpColumn;\n    }\n  };\n  var search = {\n    list: function() {\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        search.item(list.items[k]);\n      }\n    },\n    item: function(item) {\n      item.found = false;\n      for (var j = 0, jl = columns.length; j < jl; j++) {\n        if (search.values(item.values(), columns[j])) {\n          item.found = true;\n          return;\n        }\n      }\n    },\n    values: function(values, column) {\n      if (values.hasOwnProperty(column)) {\n        text = list.utils.toString(values[column]).toLowerCase();\n        if ((searchString !== \"\") && (text.search(searchString) > -1)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    reset: function() {\n      list.reset.search();\n      list.searched = false;\n    }\n  };\n\n  var searchMethod = function(str) {\n    list.trigger('searchStart');\n\n    prepare.resetList();\n    prepare.setSearchString(str);\n    prepare.setOptions(arguments); // str, cols|searchFunction, searchFunction\n    prepare.setColumns();\n\n    if (searchString === \"\" ) {\n      search.reset();\n    } else {\n      list.searched = true;\n      if (customSearch) {\n        customSearch(searchString, columns);\n      } else {\n        search.list();\n      }\n    }\n\n    list.update();\n    list.trigger('searchComplete');\n    return list.visibleItems;\n  };\n\n  list.handlers.searchStart = list.handlers.searchStart || [];\n  list.handlers.searchComplete = list.handlers.searchComplete || [];\n\n  list.utils.events.bind(list.utils.getByClass(list.listContainer, list.searchClass), 'keyup', function(e) {\n    var target = e.target || e.srcElement, // IE have srcElement\n      alreadyCleared = (target.value === \"\" && !list.searched);\n    if (!alreadyCleared) { // If oninput already have resetted the list, do nothing\n      searchMethod(target.value);\n    }\n  });\n\n  // Used to detect click on HTML5 clear button\n  list.utils.events.bind(list.utils.getByClass(list.listContainer, list.searchClass), 'input', function(e) {\n    var target = e.target || e.srcElement;\n    if (target.value === \"\") {\n      searchMethod('');\n    }\n  });\n\n  return searchMethod;\n};\n","module.exports = function(list) {\n\n  // Add handlers\n  list.handlers.filterStart = list.handlers.filterStart || [];\n  list.handlers.filterComplete = list.handlers.filterComplete || [];\n\n  return function(filterFunction) {\n    list.trigger('filterStart');\n    list.i = 1; // Reset paging\n    list.reset.filter();\n    if (filterFunction === undefined) {\n      list.filtered = false;\n    } else {\n      list.filtered = true;\n      var is = list.items;\n      for (var i = 0, il = is.length; i < il; i++) {\n        var item = is[i];\n        if (filterFunction(item)) {\n          item.filtered = true;\n        } else {\n          item.filtered = false;\n        }\n      }\n    }\n    list.update();\n    list.trigger('filterComplete');\n    return list.visibleItems;\n  };\n};\n","module.exports = function(list) {\n\n  var buttons = {\n    els: undefined,\n    clear: function() {\n      for (var i = 0, il = buttons.els.length; i < il; i++) {\n        list.utils.classes(buttons.els[i]).remove('asc');\n        list.utils.classes(buttons.els[i]).remove('desc');\n      }\n    },\n    getOrder: function(btn) {\n      var predefinedOrder = list.utils.getAttribute(btn, 'data-order');\n      if (predefinedOrder == \"asc\" || predefinedOrder == \"desc\") {\n        return predefinedOrder;\n      } else if (list.utils.classes(btn).has('desc')) {\n        return \"asc\";\n      } else if (list.utils.classes(btn).has('asc')) {\n        return \"desc\";\n      } else {\n        return \"asc\";\n      }\n    },\n    getInSensitive: function(btn, options) {\n      var insensitive = list.utils.getAttribute(btn, 'data-insensitive');\n      if (insensitive === \"false\") {\n        options.insensitive = false;\n      } else {\n        options.insensitive = true;\n      }\n    },\n    setOrder: function(options) {\n      for (var i = 0, il = buttons.els.length; i < il; i++) {\n        var btn = buttons.els[i];\n        if (list.utils.getAttribute(btn, 'data-sort') !== options.valueName) {\n          continue;\n        }\n        var predefinedOrder = list.utils.getAttribute(btn, 'data-order');\n        if (predefinedOrder == \"asc\" || predefinedOrder == \"desc\") {\n          if (predefinedOrder == options.order) {\n            list.utils.classes(btn).add(options.order);\n          }\n        } else {\n          list.utils.classes(btn).add(options.order);\n        }\n      }\n    }\n  };\n\n  var sort = function() {\n    list.trigger('sortStart');\n    var options = {};\n\n    var target = arguments[0].currentTarget || arguments[0].srcElement || undefined;\n\n    if (target) {\n      options.valueName = list.utils.getAttribute(target, 'data-sort');\n      buttons.getInSensitive(target, options);\n      options.order = buttons.getOrder(target);\n    } else {\n      options = arguments[1] || options;\n      options.valueName = arguments[0];\n      options.order = options.order || \"asc\";\n      options.insensitive = (typeof options.insensitive == \"undefined\") ? true : options.insensitive;\n    }\n\n    buttons.clear();\n    buttons.setOrder(options);\n\n\n    // caseInsensitive\n    // alphabet\n    var customSortFunction = (options.sortFunction || list.sortFunction || null),\n        multi = ((options.order === 'desc') ? -1 : 1),\n        sortFunction;\n\n    if (customSortFunction) {\n      sortFunction = function(itemA, itemB) {\n        return customSortFunction(itemA, itemB, options) * multi;\n      };\n    } else {\n      sortFunction = function(itemA, itemB) {\n        var sort = list.utils.naturalSort;\n        sort.alphabet = list.alphabet || options.alphabet || undefined;\n        if (!sort.alphabet && options.insensitive) {\n          sort = list.utils.naturalSort.caseInsensitive;\n        }\n        return sort(itemA.values()[options.valueName], itemB.values()[options.valueName]) * multi;\n      };\n    }\n\n    list.items.sort(sortFunction);\n    list.update();\n    list.trigger('sortComplete');\n  };\n\n  // Add handlers\n  list.handlers.sortStart = list.handlers.sortStart || [];\n  list.handlers.sortComplete = list.handlers.sortComplete || [];\n\n  buttons.els = list.utils.getByClass(list.listContainer, list.sortClass);\n  list.utils.events.bind(buttons.els, 'click', sort);\n  list.on('searchStart', buttons.clear);\n  list.on('filterStart', buttons.clear);\n\n  return sort;\n};\n","\nvar classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  extend = require('./utils/extend'),\n  toString = require('./utils/to-string'),\n  getByClass = require('./utils/get-by-class'),\n  fuzzy = require('./utils/fuzzy');\n\nmodule.exports = function(list, options) {\n  options = options || {};\n\n  options = extend({\n    location: 0,\n    distance: 100,\n    threshold: 0.4,\n    multiSearch: true,\n    searchClass: 'fuzzy-search'\n  }, options);\n\n\n\n  var fuzzySearch = {\n    search: function(searchString, columns) {\n      // Substract arguments from the searchString or put searchString as only argument\n      var searchArguments = options.multiSearch ? searchString.replace(/ +$/, '').split(/ +/) : [searchString];\n\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        fuzzySearch.item(list.items[k], columns, searchArguments);\n      }\n    },\n    item: function(item, columns, searchArguments) {\n      var found = true;\n      for(var i = 0; i < searchArguments.length; i++) {\n        var foundArgument = false;\n        for (var j = 0, jl = columns.length; j < jl; j++) {\n          if (fuzzySearch.values(item.values(), columns[j], searchArguments[i])) {\n            foundArgument = true;\n          }\n        }\n        if(!foundArgument) {\n          found = false;\n        }\n      }\n      item.found = found;\n    },\n    values: function(values, value, searchArgument) {\n      if (values.hasOwnProperty(value)) {\n        var text = toString(values[value]).toLowerCase();\n\n        if (fuzzy(text, searchArgument, options)) {\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n\n\n  events.bind(getByClass(list.listContainer, options.searchClass), 'keyup', function(e) {\n    var target = e.target || e.srcElement; // IE have srcElement\n    list.search(target.value, fuzzySearch.search);\n  });\n\n  return function(str, columns) {\n    list.search(str, columns, fuzzySearch.search);\n  };\n};\n","module.exports = function(text, pattern, options) {\n    // Aproximately where in the text is the pattern expected to be found?\n    var Match_Location = options.location || 0;\n\n    //Determines how close the match must be to the fuzzy location (specified above). An exact letter match which is 'distance' characters away from the fuzzy location would score as a complete mismatch. A distance of '0' requires the match be at the exact location specified, a threshold of '1000' would require a perfect match to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n    var Match_Distance = options.distance || 100;\n\n    // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match (of both letters and location), a threshold of '1.0' would match anything.\n    var Match_Threshold = options.threshold || 0.4;\n\n    if (pattern === text) return true; // Exact match\n    if (pattern.length > 32) return false; // This algorithm cannot be used\n\n    // Set starting location at beginning text and initialise the alphabet.\n    var loc = Match_Location,\n        s = (function() {\n            var q = {},\n                i;\n\n            for (i = 0; i < pattern.length; i++) {\n                q[pattern.charAt(i)] = 0;\n            }\n\n            for (i = 0; i < pattern.length; i++) {\n                q[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n            }\n\n            return q;\n        }());\n\n    // Compute and return the score for a match with e errors and x location.\n    // Accesses loc and pattern through being a closure.\n\n    function match_bitapScore_(e, x) {\n        var accuracy = e / pattern.length,\n            proximity = Math.abs(loc - x);\n\n        if (!Match_Distance) {\n            // Dodge divide by zero error.\n            return proximity ? 1.0 : accuracy;\n        }\n        return accuracy + (proximity / Match_Distance);\n    }\n\n    var score_threshold = Match_Threshold, // Highest score beyond which we give up.\n        best_loc = text.indexOf(pattern, loc); // Is there a nearby exact match? (speedup)\n\n    if (best_loc != -1) {\n        score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n        // What about in the other direction? (speedup)\n        best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n\n        if (best_loc != -1) {\n            score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n        }\n    }\n\n    // Initialise the bit arrays.\n    var matchmask = 1 << (pattern.length - 1);\n    best_loc = -1;\n\n    var bin_min, bin_mid;\n    var bin_max = pattern.length + text.length;\n    var last_rd;\n    for (var d = 0; d < pattern.length; d++) {\n        // Scan for the best match; each iteration allows for one more error.\n        // Run a binary search to determine how far from 'loc' we can stray at this\n        // error level.\n        bin_min = 0;\n        bin_mid = bin_max;\n        while (bin_min < bin_mid) {\n            if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n                bin_min = bin_mid;\n            } else {\n                bin_max = bin_mid;\n            }\n            bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n        }\n        // Use the result from this iteration as the maximum for the next.\n        bin_max = bin_mid;\n        var start = Math.max(1, loc - bin_mid + 1);\n        var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n        var rd = Array(finish + 2);\n        rd[finish + 1] = (1 << d) - 1;\n        for (var j = finish; j >= start; j--) {\n            // The alphabet (s) is a sparse hash, so the following line generates\n            // warnings.\n            var charMatch = s[text.charAt(j - 1)];\n            if (d === 0) {    // First pass: exact match.\n                rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n            } else {    // Subsequent passes: fuzzy match.\n                rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                                last_rd[j + 1];\n            }\n            if (rd[j] & matchmask) {\n                var score = match_bitapScore_(d, j - 1);\n                // This match will almost certainly be better than any existing match.\n                // But check anyway.\n                if (score <= score_threshold) {\n                    // Told you so.\n                    score_threshold = score;\n                    best_loc = j - 1;\n                    if (best_loc > loc) {\n                        // When passing loc, don't exceed our current distance from loc.\n                        start = Math.max(1, 2 * loc - best_loc);\n                    } else {\n                        // Already passed loc, downhill from here on in.\n                        break;\n                    }\n                }\n            }\n        }\n        // No hope for a (better) match at greater error levels.\n        if (match_bitapScore_(d + 1, loc) > score_threshold) {\n            break;\n        }\n        last_rd = rd;\n    }\n\n    return (best_loc < 0) ? false : true;\n};\n","import listjs from 'list.js';\n\nif (document.getElementById('listjs')) {\n\n  // Init our list.js component\n  const list = new listjs('listjs', {\n    fuzzySearch: {\n      searchClass: 'search',\n      location: 0,\n      distance: 100,\n      threshold: 0.4,\n      multiSearch: true\n    },\n    valueNames: [\n      'name',\n      { data: ['category'] }\n    ],\n    listClass: 'menu'\n  });\n\n  // Empty Notice\n  // Displayed when the search returns no results\n  let noticeEmpty = document.querySelector('.notice_empty');\n  let noticeEmptyText = noticeEmpty.querySelector('.search_text');\n\n  // Clear search button\n  let filter = document.querySelector('.filter');\n  let search = document.querySelector('.filter .search');\n  let searchClear = document.querySelector('.filter .search_clear');\n\n  let isMenuLinkActive = () => {\n    let menuLinks = document.querySelectorAll('#listjs .menu__link');\n    let isActive = menuLinks.classList.contains('is-active');\n    return isActive;\n  };\n\n  // On search complete callback\n  list.on('searchComplete', () => {\n\n    // Update the search text in empty notice\n    let value = search.value;\n    noticeEmptyText.innerHTML = value;\n    localStorage.setItem('SearchValue', value);\n\n    // Show clear search button if a value there is something in search\n    if (value) {\n      filter.classList.add('is-active');\n      search.classList.add('is-active');\n      searchClear.classList.remove('display-none');\n    } else {\n      filter.classList.remove('is-active');\n      search.classList.remove('is-active');\n      searchClear.classList.add('display-none');\n    }\n\n    // Toggle notice depending on the number of visible items\n    if (list.visibleItems.length > 0) {\n      noticeEmpty.classList.add('display-none');\n    } else {\n      noticeEmpty.classList.remove('display-none');\n    }\n  });\n\n  // Click events for category and clears\n  document.addEventListener('click', () => {\n    let trigger_search_clear = event.target.closest('.search_clear');\n    let trigger_search_cat = event.target.closest('.category');\n\n    if (trigger_search_clear) {\n      search.value = '';\n      list.search();\n      event.preventDefault();\n    }\n\n    if (trigger_search_cat) {\n      search.value = trigger_search_cat.dataset.category;\n      list.search(search.value);\n      event.preventDefault();\n    }\n\n  }, false);\n\n  // Restore our local storage value\n  if (localStorage.getItem('SearchValue')) {\n    search.value = localStorage.getItem('SearchValue');\n    list.search(search.value);\n    if (!isMenuLinkActive()) {\n      search.value = '';\n      list.search();\n    }\n  }\n}\n","const url = 'https://api.github.com/repos/sebnitu/vrembem/contents/packages/vrembem/package.json?ref=master';\nconst ajax = new XMLHttpRequest();\nconst el = document.querySelector('[data-role=\"version\"]');\nif (el) {\n  ajax.onload = function () {\n    if (ajax.status >= 200 && ajax.status < 300) {\n      const response = JSON.parse(ajax.response);\n      const decode = window.atob(response.content);\n      const pkg = JSON.parse(decode);\n      el.classList.remove('loading');\n      el.classList.add('success');\n      el.innerHTML = pkg.version;\n    } else {\n      el.classList.remove('loading');\n      el.classList.add('error');\n      el.innerHTML = 'Error!';\n    }\n  };\n  ajax.open('GET', url);\n  ajax.send();\n}\n","import * as vb from 'vrembem';\nimport ScrollStash from 'scroll-stash';\nimport 'svgxuse';\nimport 'wicg-inert';\nimport './list.js';\nimport './version';\n\nnew vb.Checkbox({ autoInit: true });\n\nnew vb.Drawer({\n  autoInit: true,\n  selectorInert: '[role=\"main\"]',\n  selectorOverflow: 'body, [role=\"main\"]'\n});\n\nnew vb.Modal({\n  autoInit: true,\n  selectorInert: '.page',\n  moveModals: {\n    type: 'append',\n    ref: '[role=\"modals-container\"]'\n  },\n  toggleOverflow: 'body, .page__article'\n});\n\nconst scrollStash = new ScrollStash({\n  autoInit: true,\n  selectorAnchor: '.is-active',\n  selectorTopElem: '.dialog__header'\n});\n\nconst el = document.querySelector('[data-scroll-stash]');\n\ndocument.addEventListener('drawer:opened', () => {\n  const anchor = scrollStash.anchorGet(el);\n  anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n});\n"],"names":["setInert","state","selector","document","querySelectorAll","forEach","el","inert","setAttribute","removeAttribute","setOverflowHidden","style","overflow","removeProperty","setTabindex","t","Object","assign","e","arguments","length","r","n","prototype","hasOwnProperty","call","apply","this","alphabet","alphabetIndexMap","autoInit","dataScroll","dataAnchor","selectorAnchor","selectorAnchorParent","selectorTopElem","selectorBotElem","alignment","behavior","anchorPadding","saveKey","throttleDelay","customEventPrefix","s","querySelector","offsetHeight","offsetTop","getAttribute","closest","o","a","i","scrollTop","scroll","top","dispatchEvent","CustomEvent","bubbles","detail","scrolled","value","key","msg","localStorage","setItem","JSON","stringify","settings","scrolls","ticking","__handler","handler","bind","init","getItem","parse","keys","addEventListener","destroy","removeEventListener","removeItem","setTimeout","anchorGet","anchorShow","window","checkUseElems","tid","winLoad","cache","create","debouncedCheck","clearTimeout","unobserveChanges","createRequest","url","getOrigin","loc","undefined","protocol","createElement","href","replace","host","Request","origin","origin2","XMLHttpRequest","location","withCredentials","XDomainRequest","xlinkNS","base","bcr","hash","isHidden","uses","xhr","inProgressCount","observeIfDone","observer","MutationObserver","observe","documentElement","childList","subtree","attributes","disconnect","ignore","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","onloadFunc","svg","body","x","onload","innerHTML","responseText","getElementsByTagName","position","width","height","insertBefore","firstChild","onErrorTimeout","onerror","ontimeout","getBoundingClientRect","getAttributeNS","split","left","right","bottom","open","send","abort","readyState","slice","Array","matches","Element","msMatchesSelector","_focusableElementsString","join","InertRoot","[object Object]","rootElement","inertManager","_inertManager","_rootElement","_managedNodes","Set","_savedAriaHidden","_makeSubtreeUnfocusable","_observer","_onMutation","inertNode","_unmanageNode","node","managedNodes","hasSavedAriaHidden","savedAriaHidden","ariaHidden","startNode","composedTreeWalk","_visitNode","activeElement","contains","root","nodeType","Node","DOCUMENT_FRAGMENT_NODE","parentNode","blur","focus","ELEMENT_NODE","element","_adoptInertRoot","_manageNode","register","add","deregister","delete","inertSubroot","getInertRoot","savedInertNode","records","self","record","target","type","addedNodes","removedNodes","_unmanageSubtree","attributeName","managedNode","InertNode","inertRoot","_node","_overrodeFocusMethod","_inertRoots","_savedTabIndex","_destroyed","ensureUntabbable","_throwIfDestroyed","destroyed","Error","hasSavedTabIndex","savedTabIndex","tabIndex","size","destructor","callback","shadowRootAncestor","shadowRoot","localName","content","distributedNodes","getDistributedNodes","slot","assignedNodes","flatten","child","nextSibling","addInertStyle","textContent","appendChild","_document","Map","_watchForInert","head","_onDocumentLoaded","has","set","parent","get","addInertRoot","removeInertRoot","inertElement","_this","inertElements","unshift","defineProperty","enumerable","alphabetIndexMapLength","isNumberCode","code","naturalCompare","b","lengthA","lengthB","aIndex","bIndex","charCodeA","charCodeAt","charCodeB","numStartA","numStartB","numEndA","numEndB","difference","caseInsensitive","toLowerCase","defineProperties","container","className","single","options","test","getElementsByClassName","classElements","els","elsLen","pattern","RegExp","j","polyfill","object","source","args","property","indexOf","arr","obj","collection","toString","isArray","Function","push","unbind","prefix","fn","capture","toArray","re","ClassList","list","classList","name","array","index","remove","splice","toggle","force","shift","attr","result","nodeName","nodeValue","initValues","notCreate","item","_values","found","filtered","values","newValues","templater","show","hide","matching","searched","visible","elm","Templater","itemSource","clearSourceItem","valueNames","il","data","jl","utils","getByClass","getItemSource","nodes","childNodes","cloneNode","exec","tbody","div","getElementById","valueName","v","getValueName","newItem","removeChild","clear","hasChildNodes","id","Item","require$$0","addAsync","items","valuesToAdd","concat","update","require$$1","initPagination","refresh","pagingList","page","pages","Math","ceil","matchingItems","currentPage","innerWindow","outerWindow","is","number","dotted","classes","addEvent","currentPageItem","dottedLeft","dottedRight","events","List","listContainer","listClass","paginationClass","searchClass","sortClass","on","require$$2","start","visibleItems","searchColumns","handlers","updated","extend","naturalSort","itemElements","parseAsync","itemsToIndex","trigger","parseComplete","getChildren","indexAsync","require$$3","require$$4","search","text","columns","searchString","customSearch","prepare","resetList","setOptions","setColumns","setSearchString","tmpColumn","k","kl","column","reset","searchMethod","str","searchStart","searchComplete","srcElement","require$$5","filter","filterStart","filterComplete","filterFunction","require$$6","sort","buttons","getOrder","btn","predefinedOrder","getInSensitive","insensitive","setOrder","order","currentTarget","customSortFunction","sortFunction","multi","itemA","itemB","sortStart","sortComplete","require$$7","fuzzySearch","distance","threshold","multiSearch","searchArguments","foundArgument","searchArgument","Match_Distance","Match_Threshold","q","charAt","match_bitapScore_","accuracy","proximity","abs","score_threshold","best_loc","min","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","d","floor","max","finish","rd","charMatch","score","fuzzy","require$$8","pagination","reIndex","toJSON","json","added","matchedItems","event","off","listjs","noticeEmpty","noticeEmptyText","searchClear","trigger_search_clear","trigger_search_cat","preventDefault","dataset","category","ajax","status","response","decode","atob","pkg","version","vb","selectorInert","selectorOverflow","moveModals","ref","toggleOverflow","scrollStash","ScrollStash","scrollIntoView","block"],"mappings":"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"}