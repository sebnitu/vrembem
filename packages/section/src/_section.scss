@use "sass:map";
@use "@vrembem/core";
@use "./variables" as var;

#{core.bem("section")} {
  position: relative;
  display: flex;
  flex-direction: column;
  padding: map.get(var.$padding, "base");
  background: core.css("section-background");
  color: core.css("section-foreground");
}

#{core.bem("section", "container")} {
  position: relative;
  z-index: 3;
  width: 100%;
  max-width: core.css("section-max-width");
  margin: auto;
}

@each $bp, $value in var.$padding {
  @if ($bp != "base") {
    @include core.media-min($bp) {
      #{core.bem("section")} {
        padding: $value;
      }
    }
  }
}

#{core.bem("section", "image")},
#{core.bem("section", "screen")} {
  @include core.size(100%);
  position: absolute;
  inset: 0;
}

#{core.bem("section", "image")} {
  object-fit: cover;
  z-index: 1;
  opacity: core.css("section-image-opacity");
}

#{core.bem("section", "screen")} {
  z-index: 2;
  background: core.css("section-screen-color");
  opacity: core.css("section-screen-opacity");
}
