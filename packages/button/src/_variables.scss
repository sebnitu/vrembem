@use "sass:list";
@use "sass:map";
@use "@vrembem/core";
@use "@vrembem/core/css";
@use "@vrembem/core/theme";

$breakpoints: core.$breakpoints !default;
$size: css.get("form-control", "size") !default;
$padding: calc(#{list.nth(core.$form-control-padding, 1)} - 1px) list.nth(core.$form-control-padding, 2) !default;
$gap: 0.5rem !default;
$background: null !default;
$background-hover: null !default;
$background-active: null !default;
$foreground: null !default;
$foreground-hover: null !default;
$foreground-active: null !default;
$border-color: null !default;
$border-color-hover: null !default;
$border-color-active: null !default;
$border-width: 1px !default;
$border-radius: css.get("border-radius") !default;
$box-shadow: null !default;
$box-shadow-focus: null !default;
$font-size: 1em !default;
$font-weight: inherit !default;
$line-height: 1.6 !default;

// Transition
$transition-property: background, color, border-color, box-shadow !default;
$transition-duration: css.get("transition", "duration") !default;
$transition-timing-function: css.get("transition", "timing-function") !default;

// Disabled
$disabled-opacity: 0.6 !default;

// is-loading
$loading-size: 1em !default;
$loading-border: 2px solid !default;
$loading-border-color: null !default;
$loading-animation-duration: 0.6s !default;
$loading-animation-timing-function: linear !default;

// button_icon
$icon-padding: calc(#{list.nth(core.$form-control-padding, 1)} - 1px);
$icon-padding-sm: calc(#{list.nth(core.$form-control-padding-sm, 1)} - 1px);
$icon-padding-lg: calc(#{list.nth(core.$form-control-padding-lg, 1)} - 1px);

// button_size_sm
$size-sm: css.get("form-control", "size-sm") !default;
$size-sm-padding: calc(#{list.nth(core.$form-control-padding-sm, 1)} - 1px) list.nth(core.$form-control-padding-sm, 2) !default;
$size-sm-font-size: css.get("font-size-sm") !default;
$size-sm-line-height: css.get("line-height-sm") !default;

// button_size_lg
$size-lg: css.get("form-control", "size-lg") !default;
$size-lg-padding: calc(#{list.nth(core.$form-control-padding-lg, 1)} - 1px) list.nth(core.$form-control-padding-lg, 2) !default;
$size-lg-font-size: core.css("font-size-lg") !default;
$size-lg-line-height: core.css("line-height-lg") !default;

// Custom properties
@include css.set("button", (
  "size": $size,
  "padding": $padding,
  "gap": $gap,
  "background": $background,
  "background-hover": $background-hover,
  "background-active": $background-active,
  "foreground": $foreground,
  "foreground-hover": $foreground-hover,
  "foreground-active": $foreground-active,
  "border-color": $border-color,
  "border-color-hover": $border-color-hover,
  "border-color-active": $border-color-active,
  "border-width": $border-width,
  "border-radius": $border-radius,
  "box-shadow": $box-shadow,
  "box-shadow-focus": $box-shadow-focus,
  "font-size": $font-size,
  "font-weight": $font-weight,
  "line-height": $line-height,
  "transition-property": $transition-property,
  "transition-duration": $transition-duration,
  "transition-timing-function": $transition-timing-function,
  "disabled-opacity": $disabled-opacity,
  "loading-size": $loading-size,
  "loading-border": $loading-border,
  "loading-border-color": $loading-border-color,
  "loading-animation-duration": $loading-animation-duration,
  "loading-animation-timing-function": $loading-animation-timing-function,
));

// Theme maps
$theme-shared: (
  "background": transparent,
  "background-hover": transparent,
  "background-focus": transparent,
  "foreground": theme.get("foreground"),
  "foreground-hover": theme.get("foreground"),
  "foreground-focus": theme.get("foreground"),
  "border-color": theme.get("border-color-dark"),
  "border-color-hover": theme.get("border-color-darker"),
  "border-color-focus": theme.get("border-color-darker"),
  "loading-border-color": theme.get("foreground")
) !default;

$theme-light: (
  "box-shadow": 0 0 0 0 rgb(0 0 0 / 0%),
  "box-shadow-focus": 0 0 0 0.2rem rgb(0 0 0 / 15%),
) !default;

$theme-dark: (
  "box-shadow": 0 0 0 0 rgb(255 255 255 / 0%),
  "box-shadow-focus": 0 0 0 0.2rem rgb(255 255 255 / 15%),
) !default;

@include theme.set("light", "button", map.merge($theme-shared, $theme-light));
@include theme.set("dark", "button", map.merge($theme-shared, $theme-dark));
