!function(t){"use strict";var e=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},n=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(t=t.forEach?t:[t]).forEach((function(t){var e;(e=t.classList).add.apply(e,n)}))},s=function(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))},a=function(t){t=t.forEach?t:[t],t=[].slice.call(t);for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return n.some((function(e){return t.some((function(t){if(t.classList.contains(e))return!0}))}))},r=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(t=t.forEach?t:[t]).forEach((function(t){var e;(e=t.classList).remove.apply(e,n)}))},o={xs:"480px",sm:"620px",md:"760px",lg:"990px",xl:"1380px"};function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function c(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?i(Object(s),!0).forEach((function(n){e(t,n,s[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}t.Drawer=function(t){var e={},i={autoInit:!1,dataDrawer:"drawer",dataToggle:"drawer-toggle",dataClose:"drawer-close",dataBreakpoint:"drawer-breakpoint",dataFocus:"drawer-focus",stateOpened:"is-opened",stateOpening:"is-opening",stateClosing:"is-closing",stateClosed:"is-closed",classModal:"drawer_modal",breakpoints:o,customEventPrefix:"drawer:",focus:!0,saveState:!0,saveKey:"DrawerState"};e.settings=c(c({},i),t),e.breakpoint={},e.state={},e.init=function(){w(),h(),document.addEventListener("click",u,!1),document.addEventListener("touchend",u,!1),document.addEventListener("keyup",d,!1)},e.destroy=function(){O(),e.memoryTrigger=null,e.memoryTarget=null,e.state={},localStorage.removeItem(e.settings.saveKey),document.removeEventListener("click",u,!1),document.removeEventListener("touchend",u,!1),document.removeEventListener("keyup",d,!1)},e.toggle=function(t,e){g(t,e)},e.open=function(t,n){var s=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(t,'"]'));s&&l(s,n)},e.close=function(t,n){var s=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(t,'"]'));s&&f(s,n)};var u=function(t){var n=t.target.closest("[data-".concat(e.settings.dataToggle,"]"));if(n){var a=n.dataset[s(e.settings.dataToggle)];v(n),g(a),t.preventDefault()}else{if(n=t.target.closest("[data-".concat(e.settings.dataClose,"]"))){var r=t.target.closest("[data-".concat(e.settings.dataDrawer,"]"));f(r),t.preventDefault()}t.target.dataset[s(e.settings.dataDrawer)]&&f(t.target)}},d=function(t){if(27==t.keyCode){var n=document.querySelector(".".concat(e.settings.classModal,".").concat(e.settings.stateOpened));n&&f(n)}},g=function(t,n){var s=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(t,'"]'));s&&(a(s,e.settings.stateOpened)?f(s,n):l(s,n))},l=function(t,s){a(t,e.settings.stateOpened)||(m(t),n(t,e.settings.stateOpening),r(t,e.settings.stateClosed),t.addEventListener("transitionend",(function a(){n(t,e.settings.stateOpened),r(t,e.settings.stateOpening),b(t),p(),"function"==typeof s&&s(),this.removeEventListener("transitionend",a,!0);var o=new CustomEvent(e.settings.customEventPrefix+"opened",{bubbles:!0});t.dispatchEvent(o)}),!0))},f=function(t,s){a(t,e.settings.stateOpened)&&(n(t,e.settings.stateClosing),r(t,e.settings.stateOpened),t.addEventListener("transitionend",(function a(){n(t,e.settings.stateClosed),r(t,e.settings.stateClosing),b(t),y(),"function"==typeof s&&s(),this.removeEventListener("transitionend",a,!0);var o=new CustomEvent(e.settings.customEventPrefix+"closed",{bubbles:!0});t.dispatchEvent(o)}),!0))},m=function(t){e.settings.focus&&(e.memoryTarget=t)},v=function(t){e.settings.focus&&(e.memoryTrigger=t)},p=function(){if(e.settings.focus&&e.memoryTarget){var t=e.memoryTarget.querySelector("[data-".concat(e.settings.dataFocus,"]"));t?t.focus():e.memoryTarget.focus(),e.memoryTarget=null}},y=function(){e.settings.focus&&e.memoryTrigger&&(e.memoryTrigger.focus(),e.memoryTrigger=null)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e.settings.saveState){var n=t?[t]:document.querySelectorAll("[data-".concat(e.settings.dataDrawer,"]"));n.forEach((function(t){a(t,e.settings.classModal)||(e.state[t.dataset[s(e.settings.dataDrawer)]]=a(t,e.settings.stateOpened)?e.settings.stateOpened:e.settings.stateClosed)})),localStorage.setItem(e.settings.saveKey,JSON.stringify(e.state))}},w=function(){e.settings.saveState?localStorage.getItem(e.settings.saveKey)?(e.state=JSON.parse(localStorage.getItem(e.settings.saveKey)),Object.keys(e.state).forEach((function(t){var s=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(t,'"]'));s&&(e.state[t]==e.settings.stateOpened?n(s,e.settings.stateOpened):r(s,e.settings.stateOpened))}))):b():localStorage.getItem(e.settings.saveKey)&&localStorage.removeItem(e.settings.saveKey)};e.breakpoint.init=function(){h()},e.breakpoint.destroy=function(){O()},e.breakpoint.check=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;E(t)},e.switchToModal=function(t){var n=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(t,'"]'));n&&D(n)},e.switchToDefault=function(t){var n=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(t,'"]'));n&&L(n)};var h=function(){e.mediaQueryLists=[],document.querySelectorAll("[data-".concat(e.settings.dataBreakpoint,"]")).forEach((function(t){var n=t.dataset[s(e.settings.dataDrawer)],a=t.dataset[s(e.settings.dataBreakpoint)],r=e.settings.breakpoints[a]?e.settings.breakpoints[a]:a,o=window.matchMedia("(min-width:"+r+")");S(o,t),o.addListener(E),e.mediaQueryLists.push({mql:o,drawer:n})}))},O=function(){e.mediaQueryLists&&e.mediaQueryLists.length&&e.mediaQueryLists.forEach((function(t){t.mql.removeListener(E)})),e.mediaQueryLists=null},E=function(t){if(e.mediaQueryLists&&e.mediaQueryLists.length){e.mediaQueryLists.forEach((function(n){if(!t||t.media==n.mql.media){var s=document.querySelector("[data-".concat(e.settings.dataDrawer,'="').concat(n.drawer,'"]'));s&&S(n.mql,s)}}));var n=new CustomEvent(e.settings.customEventPrefix+"breakpoint",{bubbles:!0});document.dispatchEvent(n)}},S=function(t,e){t.matches?L(e):D(e)},D=function(t){n(t,e.settings.classModal),n(t,e.settings.stateClosed),r(t,e.settings.stateOpened);var s=new CustomEvent(e.settings.customEventPrefix+"toModal",{bubbles:!0});t.dispatchEvent(s)},L=function(t){r(t,e.settings.classModal);var a=t.dataset[s(e.settings.dataDrawer)];e.state[a]==e.settings.stateOpened&&(n(t,e.settings.stateOpened),r(t,e.settings.stateClosed));var o=new CustomEvent(e.settings.customEventPrefix+"toDefault",{bubbles:!0});t.dispatchEvent(o)};return e.settings.autoInit&&e.init(),e}}(this.vrembem=this.vrembem||{});
