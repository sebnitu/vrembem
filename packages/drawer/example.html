<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@vrembem/drawer</title>
  <!-- Setup styles -->
  <link rel="stylesheet" href="https://unpkg.com/@vrembem/base/dist/styles.css">
  <link rel="stylesheet" href="https://unpkg.com/@vrembem/utility/dist/styles.css">
  <link rel="stylesheet" href="https://unpkg.com/@vrembem/dialog/dist/styles.css">
  <link rel="stylesheet" href="https://unpkg.com/@vrembem/grid/dist/styles.css">
  <!-- Component styles -->
  <link rel="stylesheet" href="./dist/styles.css">
</head>
<body>

  <div class="drawer__wrapper">

    <aside data-drawer="drawer-modal-always" class="drawer drawer_modal drawer_pos_right">
      <div data-drawer-dialog class="drawer__dialog dialog">
        <div class="dialog__header">
          <h2 class="dialog__title">Drawer Modal Always</h2>
          <button data-drawer-close class="link">Close</button>
        </div>
        <div class="dialog__body gap-y">
          <p>This drawer will always be a modal.</p>
          <ul class="list">
            <li><a class="link" href="#">Focusable 1</a></li>
            <li><a class="link" href="#">Focusable 2</a></li>
            <li><a class="link" href="#">Focusable 3</a></li>
          </ul>
        </div>
        <div class="dialog__footer">
          <button data-drawer-close class="link">
            Button 1
          </button>
          <button data-drawer-close class="link">
            Button 2
          </button>
        </div>
      </div>
    </aside>

    <aside data-drawer="drawer-modal-left" data-drawer-breakpoint="md" class="drawer drawer_pos_left">
      <div data-drawer-dialog class="drawer__dialog dialog">
        <div class="dialog__header">
          <h2 class="dialog__title">Drawer Modal Left</h2>
          <button data-drawer-close class="link">Close</button>
        </div>
        <div class="dialog__body">
          <p>This drawer will switch to modal on the <code class="code">md</code> breakpoint.</p>
        </div>
      </div>
    </aside>

    <aside data-drawer="drawer-modal-right" data-drawer-breakpoint="1200px" class="drawer drawer_pos_right">
      <div data-drawer-dialog class="drawer__dialog dialog">
        <div class="dialog__header">
          <h2 class="dialog__title">Drawer Modal Right</h2>
          <button data-drawer-close class="link">Close</button>
        </div>
        <div class="dialog__body">
          <p>This drawer will switch to modal on the <code class="code">1200px</code> breakpoint.</p>
        </div>
      </div>
    </aside>

    <aside data-drawer="drawer-pos-left" class="drawer drawer_pos_left">
      <div data-drawer-dialog class="drawer__dialog padding">
        <div class="flex flex-justify-between">
          <p>Drawer Pos Left</p>
          <button data-drawer-close class="link">Close</button>
        </div>
      </div>
    </aside>

    <aside data-drawer="drawer-pos-right" class="drawer drawer_pos_right">
      <div data-drawer-dialog class="drawer__dialog padding">
        <div class="flex flex-justify-between">
          <p>Drawer Pos Right</p>
          <button data-drawer-close class="link">Close</button>
        </div>
      </div>
    </aside>

    <aside data-drawer="drawer-data-attr-right" class="drawer drawer_pos_right">
      <div data-drawer-dialog class="drawer__dialog dialog">
        <div class="dialog__header">
          <h2 class="dialog__title">Drawer Default Left</h2>
          <button data-drawer-close class="link">Close</button>
        </div>
        <div class="dialog__body">
          <button data-drawer-focus class="link">
            Get focus on open!
          </button>
        </div>
      </div>
    </aside>

    <aside data-drawer="drawer-default-left" class="drawer">
      <div data-drawer-dialog class="drawer__dialog padding">
        <div class="flex flex-justify-between">
          <p>Drawer Default Left</p>
          <button data-drawer-close class="link">Close</button>
        </div>
      </div>
    </aside>

    <section role="main" class="drawer__main">

      <div class="padding-xl gap-y background-shade">
        <h1 class="text-size-lg">@vrembem/drawer</h1>
        <p class="span-8-md span-6-lg">
          A container component that slides in from the left or right. Typically containing menus, search or other content.
        </p>
      </div>

      <div class="padding-xl gap-y">
        <ul class="list">
          <li>
            <button class="link" data-drawer-toggle="drawer-default-left">
              Drawer Default Left
            </button>
          </li>
          <li>
            <button class="link" data-drawer-toggle="drawer-default-right">
              Drawer Default Right
            </button>
          </li>
          <li>
            <button class="link" data-drawer-toggle="drawer-pos-left">
              Drawer Pos Left
            </button>
          </li>
          <li>
            <button class="link" data-drawer-toggle="drawer-pos-right">
              Drawer Pos Right
            </button>
          </li>
          <li>
            <button class="link" data-drawer-toggle="drawer-modal-left">
              Drawer Breakpoint Left
            </button>
          </li>
          <li>
            <button class="link" data-drawer-toggle="drawer-modal-right">
              Drawer Breakpoint Right
            </button>
          </li>
          <li>
            <button class="link" data-drawer-toggle="drawer-modal-always">
              Drawer Modal Always
            </button>
          </li>
        </ul>

        <hr class="sep">

        <h2>Data attributes</h2>

        <ul class="list">
          <li>
            <button class="link" data-drawer-toggle="drawer-data-attr-right">
              data-drawer-toggle
            </button>
          </li>
          <li>
            <button class="link" data-drawer-open="drawer-data-attr-right">
              data-drawer-open
            </button>
          </li>
          <li>
            <button class="link" data-drawer-close="drawer-data-attr-right">
              data-drawer-close
            </button>
          </li>
          <li>
            <button class="link" data-drawer-close>
              data-drawer-close [empty]
            </button>
          </li>
        </ul>

        <hr class="sep">

        <h2>API</h2>

        <ul class="list">
          <li>
            <button class="link js-api-toggle">
              API Toggle
            </button>
          </li>
          <li>
            <button class="link js-api-open">
              API Open
            </button>
          </li>
          <li>
            <button class="link js-api-close">
              API Close
            </button>
          </li>
          <li>
            <button class="link js-api-bp-init">
              API Breakpoint Init
            </button>
          </li>
          <li>
            <button class="link js-api-bp-destroy">
              API Breakpoint Destroy
            </button>
          </li>
          <li>
            <button class="link js-api-bp-check">
              API Breakpoint Check
            </button>
          </li>
        </ul>
      </div>
    </section>

    <aside data-drawer="drawer-default-right" class="drawer">
      <div data-drawer-dialog class="drawer__dialog padding">
        <div class="flex flex-justify-between">
          <p>Drawer Default Right</p>
          <button data-drawer-close class="link">Close</button>
        </div>
      </div>
    </aside>

  </div>

  <!-- Inert polyfill -->
  <script src="https://unpkg.com/wicg-inert/dist/inert.min.js"></script>

  <!-- Component scripts -->
  <script src="./dist/scripts.umd.js"></script>

  <!-- Implementation scripts -->
  <script>
    const drawer = new vrembem.Drawer({
      autoInit: true,
      selectorInert: '[role="main"]',
      selectorOverflow: 'body, [role="main"]'
    });

    console.log({ drawer });

    document.addEventListener('click', () => {
      if (event.target.closest('.js-api-toggle')) {
        drawer.toggle('drawer-pos-right').then(console.log);
        return;
      }

      if (event.target.closest('.js-api-open')) {
        drawer.open('drawer-pos-right').then(console.log);
        return;
      }

      if (event.target.closest('.js-api-close')) {
        drawer.close('drawer-pos-right').then(console.log);
        return;
      }

      if (event.target.closest('.js-api-bp-init')) {
        drawer.breakpoint.init();
        console.log('init:', drawer.mediaQueryLists);
        return;
      }

      if (event.target.closest('.js-api-bp-destroy')) {
        drawer.breakpoint.destroy();
        console.log('destroy:', drawer.mediaQueryLists);
        return;
      }

      if (event.target.closest('.js-api-bp-check')) {
        drawer.breakpoint.check();
        console.log('check:', drawer.mediaQueryLists);
        return;
      }
    });
  </script>

</body>
</html>
