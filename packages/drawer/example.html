<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Setup styles -->
  <link rel="stylesheet" href="./node_modules/@vrembem/base/dist/styles.min.css">
  <link rel="stylesheet" href="./node_modules/@vrembem/utility/dist/styles.min.css">
  <link rel="stylesheet" href="./node_modules/@vrembem/dialog/dist/styles.min.css">
  <!-- Component styles -->
  <link rel="stylesheet" href="./dist/styles.min.css">
  <title>@vrembem/drawer</title>
</head>
<body>

<div class="drawer__wrapper">

  <aside data-drawer="drawer-modal-always" class="drawer drawer_modal drawer_pos_right">
    <div data-drawer-dialog class="drawer__dialog dialog">
      <div class="dialog__header">
        <h2 class="dialog__title">Drawer Modal Always</h2>
        <button data-drawer-close class="link">Close</button>
      </div>
      <div class="dialog__body spacing">
        <p>This drawer will always be a modal.</p>
        <ul class="list">
          <li><a class="link" href="#">Focusable 1</a></li>
          <li><a class="link" href="#">Focusable 2</a></li>
          <li><a class="link" href="#">Focusable 3</a></li>
        </ul>
      </div>
      <div class="dialog__footer">
        <button data-drawer-close class="link">
          Button 1
        </button>
        <button data-drawer-close class="link">
          Button 2
        </button>
      </div>
    </div>
  </aside>

  <aside data-drawer="drawer-modal-left" data-drawer-breakpoint="md" class="drawer drawer_pos_left">
    <div data-drawer-dialog class="drawer__dialog dialog">
      <div class="dialog__header">
        <h2 class="dialog__title">Drawer Modal Left</h2>
        <button data-drawer-close class="link">Close</button>
      </div>
      <div class="dialog__body">
        <p>This drawer will switch to modal on the <code class="code">md</code> breakpoint.</p>
      </div>
    </div>
  </aside>

  <aside data-drawer="drawer-modal-right" data-drawer-breakpoint="1200px" class="drawer drawer_pos_right">
    <div data-drawer-dialog class="drawer__dialog dialog">
      <div class="dialog__header">
        <h2 class="dialog__title">Drawer Modal Left</h2>
        <button data-drawer-close class="link">Close</button>
      </div>
      <div class="dialog__body">
        <p>This drawer will switch to modal on the <code class="code">1200px</code> breakpoint.</p>
      </div>
    </div>
  </aside>

  <aside data-drawer="drawer-pos-left" class="drawer drawer_pos_left">
    <div data-drawer-dialog class="drawer__dialog padding">
      <div class="flex flex-justify-between">
        <p>Drawer Pos Left</p>
        <button data-drawer-close class="link">Close</button>
      </div>
    </div>
  </aside>

  <aside data-drawer="drawer-pos-right" class="drawer drawer_pos_right">
    <div data-drawer-dialog class="drawer__dialog padding">
      <div class="flex flex-justify-between">
        <p>Drawer Pos Right</p>
        <button data-drawer-close class="link">Close</button>
      </div>
    </div>
  </aside>

  <aside data-drawer="drawer-data-attr-right" class="drawer drawer_pos_right">
    <div data-drawer-dialog class="drawer__dialog dialog">
      <div class="dialog__header">
        <h2 class="dialog__title">Drawer Default Left</h2>
        <button data-drawer-close class="link">Close</button>
      </div>
      <div class="dialog__body">
        <button data-drawer-focus class="link">
          Get focus on open!
        </button>
      </div>
    </div>
  </aside>

  <aside data-drawer="drawer-default-left" class="drawer">
    <div data-drawer-dialog class="drawer__dialog padding">
      <div class="flex flex-justify-between">
        <p>Drawer Default Left</p>
        <button data-drawer-close class="link">Close</button>
      </div>
    </div>
  </aside>

  <div class="drawer__main">
    <div class="padding-xl">
      <h1 class="margin-bottom-md">@vrembem/drawer</h1>
      <p>A container component that slides in from the left or right. Typically containing menus, search or other content.</p>
      <hr class="sep margin-vert-lg">
      <div class="margin-top-md spacing">
        <p>
          <button class="link" data-drawer-toggle="drawer-default-left">
            Drawer Default Left
          </button>
          <button class="link" data-drawer-toggle="drawer-default-right">
            Drawer Default Right
          </button>
        </p>
        <p>
          <button class="link" data-drawer-toggle="drawer-pos-left">
            Drawer Pos Left
          </button>
          <button class="link" data-drawer-toggle="drawer-pos-right">
            Drawer Pos Right
          </button>
        </p>
        <p>
          <button class="link" data-drawer-toggle="drawer-modal-left">
            Drawer Breakpoint Left
          </button>
          <button class="link" data-drawer-toggle="drawer-modal-right">
            Drawer Breakpoint Right
          </button>
          <button class="link" data-drawer-toggle="drawer-modal-always">
            Drawer Modal Always
          </button>
        </p>

        <h2>Data attributes</h2>

        <ul class="list">
          <li>
            <a href="#" class="link" data-drawer-toggle="drawer-data-attr-right">
              <code class="code">data-drawer-toggle</code>
            </a>
          </li>
          <li>
            <a href="#" class="link" data-drawer-open="drawer-data-attr-right">
              <code class="code">data-drawer-open</code>
            </a>
          </li>
          <li>
            <a href="#" class="link" data-drawer-close="drawer-data-attr-right">
              <code class="code">data-drawer-close</code>
            </a>
          </li>
          <li>
            <a href="#" class="link" data-drawer-close>
              <code class="code">data-drawer-close [empty]</code>
            </a>
          </li>
        </ul>

        <h2>API</h2>
        <ul class="list">
          <li>
            <button class="link js-api-toggle">
              <code class="code">api.toggle</code>
            </button>
          </li>
          <li>
            <button class="link js-api-open">
              <code class="code">api.open</code>
            </button>
          </li>
          <li>
            <button class="link js-api-close">
              <code class="code">api.close</code>
            </button>
          </li>
        </ul>

        <h2>Breakpoint API</h2>
        <ul class="list">
          <li>
            <button class="link js-api-bp-init">
              <code class="code">api.breakpoint.init</code>
            </button>
          </li>
          <li>
            <button class="link js-api-bp-destroy">
              <code class="code">api.breakpoint.destroy</code>
            </button>
          </li>
          <li>
            <button class="link js-api-bp-check">
              <code class="code">api.breakpoint.check</code>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <aside data-drawer="drawer-default-right" class="drawer">
    <div data-drawer-dialog class="drawer__dialog padding">
      <div class="flex flex-justify-between">
        <p>Drawer Default Right</p>
        <button data-drawer-close class="link">Close</button>
      </div>
    </div>
  </aside>

</div>

<!-- Component scripts -->
<script src="./dist/scripts.js"></script>

<!-- Implementation scripts -->
<script>
  const drawer = new vrembem.Drawer({ autoInit: true });

  document.addEventListener('click', () => {
    if (event.target.closest('.js-api-toggle')) {
      drawer.toggle('drawer-pos-right').then(console.log);
      return;
    }

    if (event.target.closest('.js-api-open')) {
      drawer.open('drawer-pos-right').then(console.log);
      return;
    }

    if (event.target.closest('.js-api-close')) {
      drawer.close('drawer-pos-right').then(console.log);
      return;
    }

    if (event.target.closest('.js-api-bp-init')) {
      drawer.breakpoint.init();
      console.log('init:', drawer.mediaQueryLists);
      return;
    }

    if (event.target.closest('.js-api-bp-destroy')) {
      drawer.breakpoint.destroy();
      console.log('destroy:', drawer.mediaQueryLists);
      return;
    }

    if (event.target.closest('.js-api-bp-check')) {
      drawer.breakpoint.check();
      console.log('check:', drawer.mediaQueryLists);
      return;
    }
  });
</script>

<!-- Polyfills -->
<script src="https://unpkg.com/wicg-inert/dist/inert.min.js"></script>

</body>
</html>
