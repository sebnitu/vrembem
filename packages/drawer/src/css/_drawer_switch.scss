@use "./variables" as var;

$_b: var.$prefix-block;
$_e: var.$prefix-element;
$_m: var.$prefix-modifier;
$_v: var.$prefix-modifier-value;

.#{$_b}drawer:not(.#{$_b}drawer#{$_m}switch) {
  left: 0;

  .#{$_b}drawer#{$_e}dialog {
    left: 0;
    transform: translateX(-100%);
    border-right: var.$border;
  }
}

.#{$_b}drawer#{$_m}switch {
  right: 0;

  .#{$_b}drawer#{$_e}dialog {
    right: 0;
    transform: translateX(100%);
    border-left: var.$border;
  }
}

.#{$_b}drawer:not(.#{$_b}drawer#{$_m}switch).is-opening,
.#{$_b}drawer:not(.#{$_b}drawer#{$_m}switch).is-opened {
  &:not(.#{$_b}drawer#{$_m}modal) ~ .#{var.$class-main} {
    margin-left: var.$width;
  }
}

.#{$_b}drawer#{$_m}switch.is-opening,
.#{$_b}drawer#{$_m}switch.is-opened {
  &:not(.#{$_b}drawer#{$_m}modal) ~ .#{var.$class-main} {
    margin-right: var.$width;
  }
}

.#{$_b}drawer.is-opening,
.#{$_b}drawer.is-opened {
  .#{$_b}drawer#{$_e}dialog {
    transform: translateX(0);
  }
}

.#{$_b}drawer:not(.#{$_b}drawer#{$_m}switch).is-closing {
  .#{$_b}drawer#{$_e}dialog {
    transform: translateX(-100%);
  }
}

.#{$_b}drawer#{$_m}switch.is-closing {
  .#{$_b}drawer#{$_e}dialog {
    transform: translateX(100%);
  }
}
