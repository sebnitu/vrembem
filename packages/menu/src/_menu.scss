@use "@vrembem/core";
@use "@vrembem/core/css";

#{core.bem("menu")} {
  display: flex;
  gap: css.get("menu", "gap");
  flex-direction: column;
  align-items: stretch;
  font-size: css.get("menu", "font-size");
  line-height: css.get("menu", "line-height");
  list-style: none;
}

#{core.bem("menu", "sep")} {
  flex: 0 0 auto;
  align-self: stretch;
  width: auto;
  height: css.get("menu", "sep-size");
  margin: css.get("menu", "sep-gap") 0;
  background: css.get("menu", "sep-background");
}

#{core.bem("menu", "action")} {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  min-width: css.get("menu", "size");
  min-height: css.get("menu", "size");
  padding: css.get("menu", "padding");
  outline: none;
  border: css.get("menu", "border-width") solid css.get("menu", "border-color");
  border-radius: css.get("menu", "border-radius");
  background: css.get("menu", "background");
  color: css.get("menu", "foreground");
  white-space: normal;
  gap: css.get("menu", "action-gap");

  &:hover,
  &:focus-visible {
    border-color: css.get("menu", "border-color-hover", "border-color");
    background: css.get("menu", "background-hover", "background");
    color: css.get("menu", "foreground-hover", "foreground");
  }

  &:focus-visible {
    z-index: 1;
    outline: css.get("menu", "outline-focus");
  }

  &:active {
    border-color: css.get("menu", "border-color-active", "border-color-hover", "border-color");
    background: css.get("menu", "background-active", "background-hover", "background");
    color: css.get("menu", "foreground-active", "foreground-hover", "foreground");
  }

  &.is-active,
  &.is-active:hover,
  &.is-active:focus,
  &.is-active:active,
  &.is-active[disabled] {
    background: css.get("menu", "active-background");
    color: css.get("menu", "active-foreground");
    cursor: pointer;
  }

  &.is-disabled,
  &.is-disabled:hover,
  &.is-disabled:focus,
  &.is-disabled:active,
  &[disabled] {
    background: css.get("menu", "disabled-background");
    color: css.get("menu", "disabled-foreground");
    cursor: default;
  }
}

#{core.bem("menu", "action", "icon")} {
  padding: css.get("menu", "padding-x");
}
