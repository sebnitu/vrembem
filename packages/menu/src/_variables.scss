@use "sass:list";
@use "@vrembem/core";
@use "@vrembem/core/css";
@use "@vrembem/core/palette";
@use "@vrembem/core/theme";

$gap: 0.25em !default;
$action-gap: 0.5em !default;

// Form control fallbacks
$size: css.get("form-control-size") !default;
$font-size: css.get("form-control-font-size") !default;
$line-height: css.get("form-control-line-height") !default;
$padding: core.minus-border-width(core.$form-control-padding, css.get("form-control-border-width")) !default;
$border-width: css.get("form-control-border-width") !default;
$border-radius: css.get("form-control-border-radius") !default;
$transition-property: css.get("form-control-transition-property") !default;
$transition-duration: css.get("form-control-transition-duration") !default;
$transition-timing-function: css.get("form-control-transition-timing-function") !default;

// Appearance
$background: null !default;
$background-hover: null !default;
$background-active: null !default;
$foreground: null !default;
$foreground-hover: null !default;
$foreground-active: null !default;
$border-color: null !default;
$border-color-hover: null !default;
$border-color-focus: palette.get("primary") !default;
$border-color-active: null !default;
$box-shadow: palette.get("primary", 50%, 0%) !default;
$box-shadow-focus: palette.get("primary", 50%, 50%) !default;

// Element modifier: menu__action_icon
$icon-padding: core.minus-border-width(core.$form-control-padding-y, css.get("form-control-border-width"));

// Element: menu__sep
$sep-size: 1px !default;
$sep-gap: 0.5em !default;
$sep-background: css.get("border-color") !default;

// State: active
$active-background: none !default;
$active-foreground: palette.get("primary") !default;

// State: disabled
$disabled-background: none !default;
$disabled-foreground: css.get("foreground-lighter") !default;

// Modifier: menu_size_sm
$size-sm-font-size: css.get("font-size-sm") !default;

// Modifier: menu_size_sm
$size-lg-font-size: css.get("font-size-lg") !default;

// Custom properties
@include css.set("menu", (
  "gap": $gap,
  "background": $background,
  "background-hover": $background-hover,
  "background-active": $background-active,
  "foreground": $foreground,
  "foreground-hover": $foreground-hover,
  "foreground-active": $foreground-active,
  "border-color": $border-color,
  "border-color-hover": $border-color-hover,
  "border-color-focus": $border-color-focus,
  "border-color-active": $border-color-active,
  "box-shadow": $box-shadow,
  "box-shadow-focus": $box-shadow-focus,
  "action-gap": $action-gap,
  "sep-size": $sep-size,
  "sep-gap": $sep-gap,
  "sep-background": $sep-background,
  "active-background": $active-background,
  "active-foreground": $active-foreground,
  "disabled-background": $disabled-background,
  "disabled-foreground": $disabled-foreground
));

// Themes
@include theme.set("menu", "light", (
  "background": none,
  "background-hover": css.get("background-hover"),
  "background-active": css.get("background-active"),
  "foreground": css.get("foreground"),
  "border-color": transparent,
));
@include theme.set("menu", "dark");
