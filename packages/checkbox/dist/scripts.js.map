{"version":3,"file":"scripts.js","sources":["../index.js"],"sourcesContent":["export default class Checkbox {\n  constructor(options) {\n    this.defaults = {\n      autoInit: false,\n      stateAttr: 'aria-checked',\n      stateValue: 'mixed'\n    };\n    this.settings = { ...this.defaults, ...options };\n    this.__handlerClick = this.handlerClick.bind(this);\n    if (this.settings.autoInit) this.init();\n  }\n\n  init(options = null) {\n    if (options) this.settings = { ...this.settings, ...options };\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const mixed = document.querySelectorAll(selector);\n    this.setIndeterminate(mixed);\n    document.addEventListener('click', this.__handlerClick, false);\n  }\n\n  destroy() {\n    document.removeEventListener('click', this.__handlerClick, false);\n  }\n\n  handlerClick(event) {\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const el = event.target.closest(selector);\n    if (!el) return;\n    this.removeAriaState(el);\n    this.setIndeterminate(el);\n  }\n\n  setAriaState(el, value = this.settings.stateValue) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.setAttribute(this.settings.stateAttr, value);\n    });\n  }\n\n  removeAriaState(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.removeAttribute(this.settings.stateAttr);\n    });\n  }\n\n  setIndeterminate(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      if (el.hasAttribute(this.settings.stateAttr)) {\n        el.indeterminate = true;\n      } else {\n        el.indeterminate = false;\n      }\n    });\n  }\n}\n"],"names":["Checkbox","options","defaults","autoInit","stateAttr","stateValue","settings","__handlerClick","handlerClick","bind","init","selector","mixed","document","querySelectorAll","setIndeterminate","addEventListener","destroy","removeEventListener","event","el","target","closest","removeAriaState","setAriaState","value","forEach","setAttribute","removeAttribute","hasAttribute","indeterminate"],"mappings":"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"}