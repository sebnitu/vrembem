!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).vrembem=t.vrembem||{},t.vrembem.Checkbox=e())}(this,(function(){"use strict";var t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}return function(){function t(n){e(this,t),this.defaults={autoInit:!1,stateAttr:"aria-checked",stateValue:"mixed"},this.settings=s(s({},this.defaults),n),this.__handlerClick=this.handlerClick.bind(this),this.settings.autoInit&&this.init()}return i(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.settings=s(s({},this.settings),t));var e="[".concat(this.settings.stateAttr,'="').concat(this.settings.stateValue,'"]'),n=document.querySelectorAll(e);this.setIndeterminate(n),document.addEventListener("click",this.__handlerClick,!1)}},{key:"destroy",value:function(){document.removeEventListener("click",this.__handlerClick,!1)}},{key:"handlerClick",value:function(t){var e="[".concat(this.settings.stateAttr,'="').concat(this.settings.stateValue,'"]'),n=t.target.closest(e);n&&(this.removeAriaState(n),this.setIndeterminate(n))}},{key:"setAriaState",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.stateValue;(t=t.forEach?t:[t]).forEach((function(t){t.setAttribute(e.settings.stateAttr,n)}))}},{key:"removeAriaState",value:function(t){var e=this;(t=t.forEach?t:[t]).forEach((function(t){t.removeAttribute(e.settings.stateAttr)}))}},{key:"setIndeterminate",value:function(t){var e=this;(t=t.forEach?t:[t]).forEach((function(t){t.hasAttribute(e.settings.stateAttr)?t.indeterminate=!0:t.indeterminate=!1}))}}]),t}()}));
