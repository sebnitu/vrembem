!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).vrembem=t.vrembem||{},t.vrembem.Checkbox=e())}(this,(function(){"use strict";var t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}return function(){function t(n){e(this,t),this.defaults={autoInit:!1,stateAttr:"aria-checked",stateValue:"mixed"},this.settings=s(s({},this.defaults),n),this.settings.selector="[".concat(this.settings.stateAttr,'="').concat(this.settings.stateValue,'"]'),this.handlerClick=this.handlerClick.bind(this),this.settings.autoInit&&this.init()}return r(t,[{key:"init",value:function(){var t=document.querySelectorAll(this.settings.selector);this.setIndeterminate(t),document.addEventListener("click",this.handlerClick,!1)}},{key:"destroy",value:function(){document.removeEventListener("click",this.handlerClick,!1)}},{key:"handlerClick",value:function(t){var e=t.target.closest(this.settings.selector);e&&(this.removeAriaState(e),this.setIndeterminate(e))}},{key:"setAriaState",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.stateValue;(t=t.forEach?t:[t]).forEach((function(t){t.setAttribute(e.settings.stateAttr,n)}))}},{key:"removeAriaState",value:function(t){var e=this;(t=t.forEach?t:[t]).forEach((function(t){t.removeAttribute(e.settings.stateAttr)}))}},{key:"setIndeterminate",value:function(t){var e=this;(t=t.forEach?t:[t]).forEach((function(t){t.hasAttribute(e.settings.stateAttr)?t.indeterminate=!0:t.indeterminate=!1}))}}]),t}()}));
