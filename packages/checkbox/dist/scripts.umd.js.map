{"version":3,"file":"scripts.umd.js","sources":["../index.js"],"sourcesContent":["export default class Checkbox {\n  constructor(options) {\n    this.defaults = {\n      autoInit: false,\n      stateAttr: 'aria-checked',\n      stateValue: 'mixed'\n    };\n    this.settings = { ...this.defaults, ...options };\n    this.__handlerClick = this.handlerClick.bind(this);\n    if (this.settings.autoInit) this.init();\n  }\n\n  init(options = null) {\n    if (options) this.settings = { ...this.settings, ...options };\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const mixed = document.querySelectorAll(selector);\n    this.setIndeterminate(mixed);\n    document.addEventListener('click', this.__handlerClick, false);\n  }\n\n  destroy() {\n    document.removeEventListener('click', this.__handlerClick, false);\n  }\n\n  handlerClick(event) {\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const el = event.target.closest(selector);\n    if (!el) return;\n    this.removeAriaState(el);\n    this.setIndeterminate(el);\n  }\n\n  setAriaState(el, value = this.settings.stateValue) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.setAttribute(this.settings.stateAttr, value);\n    });\n  }\n\n  removeAriaState(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.removeAttribute(this.settings.stateAttr);\n    });\n  }\n\n  setIndeterminate(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      if (el.hasAttribute(this.settings.stateAttr)) {\n        el.indeterminate = true;\n      } else {\n        el.indeterminate = false;\n      }\n    });\n  }\n}\n"],"names":["Checkbox","options","defaults","autoInit","stateAttr","stateValue","settings","__handlerClick","handlerClick","bind","init","selector","mixed","document","querySelectorAll","setIndeterminate","addEventListener","destroy","removeEventListener","event","el","target","closest","removeAriaState","setAriaState","value","forEach","setAttribute","removeAttribute","hasAttribute","indeterminate"],"mappings":"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"}