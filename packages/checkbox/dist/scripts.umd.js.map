{"version":3,"file":"scripts.umd.js","sources":["../index.js"],"sourcesContent":["export default class Checkbox {\n  constructor(options) {\n    this.defaults = {\n      autoInit: false,\n      stateAttr: 'aria-checked',\n      stateValue: 'mixed'\n    };\n    this.settings = { ...this.defaults, ...options };\n    this.__handlerClick = this.handlerClick.bind(this);\n    if (this.settings.autoInit) this.init();\n  }\n\n  init(options = null) {\n    if (options) this.settings = { ...this.settings, ...options };\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const mixed = document.querySelectorAll(selector);\n    this.setIndeterminate(mixed);\n    document.addEventListener('click', this.__handlerClick, false);\n  }\n\n  destroy() {\n    document.removeEventListener('click', this.__handlerClick, false);\n  }\n\n  handlerClick(event) {\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const el = event.target.closest(selector);\n    if (!el) return;\n    this.removeAriaState(el);\n    this.setIndeterminate(el);\n  }\n\n  setAriaState(el, value = this.settings.stateValue) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.setAttribute(this.settings.stateAttr, value);\n    });\n  }\n\n  removeAriaState(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.removeAttribute(this.settings.stateAttr);\n    });\n  }\n\n  setIndeterminate(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      if (el.hasAttribute(this.settings.stateAttr)) {\n        el.indeterminate = true;\n      } else {\n        el.indeterminate = false;\n      }\n    });\n  }\n}\n"],"names":["options","this","defaults","autoInit","stateAttr","stateValue","settings","__handlerClick","handlerClick","bind","init","mixed","document","querySelectorAll","setIndeterminate","addEventListener","destroy","removeEventListener","event","el","target","closest","removeAriaState","setAriaState","value","forEach","setAttribute","_this","removeAttribute","_this2","indeterminate","hasAttribute","_this3"],"mappings":"obACE,WAAYA,GACVC,KAAKC,SAAW,CACdC,UAAU,EACVC,UAAW,eACXC,WAAY,SAEdJ,KAAKK,cAAgBL,KAAKC,SAAaF,GACvCC,KAAKM,eAAiBN,KAAKO,aAAaC,KAAKR,MACzCA,KAAKK,SAASH,UAAUF,KAAKS,kCAGnCA,KAAA,SAAKV,YAAAA,IAAAA,EAAU,MACTA,IAASC,KAAKK,cAAgBL,KAAKK,SAAaN,IACpD,IACMW,EAAQC,SAASC,qBADFZ,KAAKK,SAASF,eAAcH,KAAKK,SAASD,iBAE/DJ,KAAKa,iBAAiBH,GACtBC,SAASG,iBAAiB,QAASd,KAAKM,gBAAgB,MAG1DS,QAAA,WACEJ,SAASK,oBAAoB,QAAShB,KAAKM,gBAAgB,MAG7DC,aAAA,SAAaU,GACX,IACMC,EAAKD,EAAME,OAAOC,YADHpB,KAAKK,SAASF,eAAcH,KAAKK,SAASD,iBAE1Dc,IACLlB,KAAKqB,gBAAgBH,GACrBlB,KAAKa,iBAAiBK,OAGxBI,aAAA,SAAaJ,EAAIK,uBAAAA,IAAAA,EAAQvB,KAAKK,SAASD,aACrCc,EAAMA,EAAGM,QAAWN,EAAK,CAACA,IACvBM,QAAQ,SAACN,GACVA,EAAGO,aAAaC,EAAKrB,SAASF,UAAWoB,QAI7CF,gBAAA,SAAgBH,eACdA,EAAMA,EAAGM,QAAWN,EAAK,CAACA,IACvBM,QAAQ,SAACN,GACVA,EAAGS,gBAAgBC,EAAKvB,SAASF,gBAIrCU,iBAAA,SAAiBK,eACfA,EAAMA,EAAGM,QAAWN,EAAK,CAACA,IACvBM,QAAQ,SAACN,GAERA,EAAGW,gBADDX,EAAGY,aAAaC,EAAK1B,SAASF"}