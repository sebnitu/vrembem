{"version":3,"file":"scripts.modern.js","sources":["../index.js"],"sourcesContent":["export default class Checkbox {\n  constructor(options) {\n    this.defaults = {\n      autoInit: false,\n      stateAttr: 'aria-checked',\n      stateValue: 'mixed'\n    };\n    this.settings = { ...this.defaults, ...options };\n    this.__handlerClick = this.handlerClick.bind(this);\n    if (this.settings.autoInit) this.init();\n  }\n\n  init(options = null) {\n    if (options) this.settings = { ...this.settings, ...options };\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const mixed = document.querySelectorAll(selector);\n    this.setIndeterminate(mixed);\n    document.addEventListener('click', this.__handlerClick, false);\n  }\n\n  destroy() {\n    document.removeEventListener('click', this.__handlerClick, false);\n  }\n\n  handlerClick(event) {\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const el = event.target.closest(selector);\n    if (!el) return;\n    this.removeAriaState(el);\n    this.setIndeterminate(el);\n  }\n\n  setAriaState(el, value = this.settings.stateValue) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.setAttribute(this.settings.stateAttr, value);\n    });\n  }\n\n  removeAriaState(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.removeAttribute(this.settings.stateAttr);\n    });\n  }\n\n  setIndeterminate(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      if (el.hasAttribute(this.settings.stateAttr)) {\n        el.indeterminate = true;\n      } else {\n        el.indeterminate = false;\n      }\n    });\n  }\n}\n"],"names":["Checkbox","constructor","options","defaults","autoInit","stateAttr","stateValue","settings","__handlerClick","handlerClick","bind","init","selector","mixed","document","querySelectorAll","setIndeterminate","addEventListener","destroy","removeEventListener","event","el","target","closest","removeAriaState","setAriaState","value","forEach","setAttribute","removeAttribute","hasAttribute","indeterminate"],"mappings":"AAAe,MAAMA,QAAN,CAAe;AAC5BC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,SAAKC,QAAL,GAAgB;AACdC,MAAAA,QAAQ,EAAE,KADI;AAEdC,MAAAA,SAAS,EAAE,cAFG;AAGdC,MAAAA,UAAU,EAAE;AAHE,KAAhB;AAKA,SAAKC,QAAL,GAAgB,EAAE,GAAG,KAAKJ,QAAV;AAAoB,SAAGD;AAAvB,KAAhB;AACA,SAAKM,cAAL,GAAsB,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAtB;AACA,QAAI,KAAKH,QAAL,CAAcH,QAAlB,EAA4B,KAAKO,IAAL;AAC7B;;AAEDA,EAAAA,IAAI,CAACT,OAAO,GAAG,IAAX,EAAiB;AACnB,QAAIA,OAAJ,EAAa,KAAKK,QAAL,GAAgB,EAAE,GAAG,KAAKA,QAAV;AAAoB,SAAGL;AAAvB,KAAhB;AACb,UAAMU,QAAQ,GAAI,IAAG,KAAKL,QAAL,CAAcF,SAAU,KAAI,KAAKE,QAAL,CAAcD,UAAW,IAA1E;AACA,UAAMO,KAAK,GAAGC,QAAQ,CAACC,gBAAT,CAA0BH,QAA1B,CAAd;AACA,SAAKI,gBAAL,CAAsBH,KAAtB;AACAC,IAAAA,QAAQ,CAACG,gBAAT,CAA0B,OAA1B,EAAmC,KAAKT,cAAxC,EAAwD,KAAxD;AACD;;AAEDU,EAAAA,OAAO,GAAG;AACRJ,IAAAA,QAAQ,CAACK,mBAAT,CAA6B,OAA7B,EAAsC,KAAKX,cAA3C,EAA2D,KAA3D;AACD;;AAEDC,EAAAA,YAAY,CAACW,KAAD,EAAQ;AAClB,UAAMR,QAAQ,GAAI,IAAG,KAAKL,QAAL,CAAcF,SAAU,KAAI,KAAKE,QAAL,CAAcD,UAAW,IAA1E;AACA,UAAMe,EAAE,GAAGD,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqBX,QAArB,CAAX;AACA,QAAI,CAACS,EAAL,EAAS;AACT,SAAKG,eAAL,CAAqBH,EAArB;AACA,SAAKL,gBAAL,CAAsBK,EAAtB;AACD;;AAEDI,EAAAA,YAAY,CAACJ,EAAD,EAAKK,KAAK,GAAG,KAAKnB,QAAL,CAAcD,UAA3B,EAAuC;AACjDe,IAAAA,EAAE,GAAIA,EAAE,CAACM,OAAJ,GAAeN,EAAf,GAAoB,CAACA,EAAD,CAAzB;AACAA,IAAAA,EAAE,CAACM,OAAH,CAAYN,EAAD,IAAQ;AACjBA,MAAAA,EAAE,CAACO,YAAH,CAAgB,KAAKrB,QAAL,CAAcF,SAA9B,EAAyCqB,KAAzC;AACD,KAFD;AAGD;;AAEDF,EAAAA,eAAe,CAACH,EAAD,EAAK;AAClBA,IAAAA,EAAE,GAAIA,EAAE,CAACM,OAAJ,GAAeN,EAAf,GAAoB,CAACA,EAAD,CAAzB;AACAA,IAAAA,EAAE,CAACM,OAAH,CAAYN,EAAD,IAAQ;AACjBA,MAAAA,EAAE,CAACQ,eAAH,CAAmB,KAAKtB,QAAL,CAAcF,SAAjC;AACD,KAFD;AAGD;;AAEDW,EAAAA,gBAAgB,CAACK,EAAD,EAAK;AACnBA,IAAAA,EAAE,GAAIA,EAAE,CAACM,OAAJ,GAAeN,EAAf,GAAoB,CAACA,EAAD,CAAzB;AACAA,IAAAA,EAAE,CAACM,OAAH,CAAYN,EAAD,IAAQ;AACjB,UAAIA,EAAE,CAACS,YAAH,CAAgB,KAAKvB,QAAL,CAAcF,SAA9B,CAAJ,EAA8C;AAC5CgB,QAAAA,EAAE,CAACU,aAAH,GAAmB,IAAnB;AACD,OAFD,MAEO;AACLV,QAAAA,EAAE,CAACU,aAAH,GAAmB,KAAnB;AACD;AACF,KAND;AAOD;;AAvD2B;;;;"}