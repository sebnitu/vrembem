{"version":3,"file":"scripts.modern.js","sources":["../index.js"],"sourcesContent":["export default class Checkbox {\n  constructor(options) {\n    this.defaults = {\n      autoInit: false,\n      stateAttr: 'aria-checked',\n      stateValue: 'mixed'\n    };\n    this.settings = { ...this.defaults, ...options };\n    this.__handlerClick = this.handlerClick.bind(this);\n    if (this.settings.autoInit) this.init();\n  }\n\n  init(options = null) {\n    if (options) this.settings = { ...this.settings, ...options };\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const mixed = document.querySelectorAll(selector);\n    this.setIndeterminate(mixed);\n    document.addEventListener('click', this.__handlerClick, false);\n  }\n\n  destroy() {\n    document.removeEventListener('click', this.__handlerClick, false);\n  }\n\n  handlerClick(event) {\n    const selector = `[${this.settings.stateAttr}=\"${this.settings.stateValue}\"]`;\n    const el = event.target.closest(selector);\n    if (!el) return;\n    this.removeAriaState(el);\n    this.setIndeterminate(el);\n  }\n\n  setAriaState(el, value = this.settings.stateValue) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.setAttribute(this.settings.stateAttr, value);\n    });\n  }\n\n  removeAriaState(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      el.removeAttribute(this.settings.stateAttr);\n    });\n  }\n\n  setIndeterminate(el) {\n    el = (el.forEach) ? el : [el];\n    el.forEach((el) => {\n      if (el.hasAttribute(this.settings.stateAttr)) {\n        el.indeterminate = true;\n      } else {\n        el.indeterminate = false;\n      }\n    });\n  }\n}\n"],"names":["constructor","options","this","defaults","autoInit","stateAttr","stateValue","settings","__handlerClick","handlerClick","bind","init","mixed","document","querySelectorAll","setIndeterminate","addEventListener","destroy","removeEventListener","event","el","target","closest","removeAriaState","setAriaState","value","forEach","setAttribute","removeAttribute","indeterminate","hasAttribute"],"mappings":"qBACEA,YAAYC,GACVC,KAAKC,SAAW,CACdC,UAAU,EACVC,UAAW,eACXC,WAAY,SAEdJ,KAAKK,SAAW,IAAKL,KAAKC,YAAaF,GACvCC,KAAKM,eAAiBN,KAAKO,aAAaC,KAAKR,MACzCA,KAAKK,SAASH,UAAUF,KAAKS,OAGnCA,KAAKV,EAAU,MACTA,IAASC,KAAKK,SAAW,IAAKL,KAAKK,YAAaN,IACpD,MACMW,EAAQC,SAASC,iBADL,IAAGZ,KAAKK,SAASF,cAAcH,KAAKK,SAASD,gBAE/DJ,KAAKa,iBAAiBH,GACtBC,SAASG,iBAAiB,QAASd,KAAKM,gBAAgB,GAG1DS,UACEJ,SAASK,oBAAoB,QAAShB,KAAKM,gBAAgB,GAG7DC,aAAaU,GACX,MACMC,EAAKD,EAAME,OAAOC,QADN,IAAGpB,KAAKK,SAASF,cAAcH,KAAKK,SAASD,gBAE1Dc,IACLlB,KAAKqB,gBAAgBH,GACrBlB,KAAKa,iBAAiBK,IAGxBI,aAAaJ,EAAIK,EAAQvB,KAAKK,SAASD,aACrCc,EAAMA,EAAGM,QAAWN,EAAK,CAACA,IACvBM,QAASN,IACVA,EAAGO,aAAazB,KAAKK,SAASF,UAAWoB,KAI7CF,gBAAgBH,IACdA,EAAMA,EAAGM,QAAWN,EAAK,CAACA,IACvBM,QAASN,IACVA,EAAGQ,gBAAgB1B,KAAKK,SAASF,aAIrCU,iBAAiBK,IACfA,EAAMA,EAAGM,QAAWN,EAAK,CAACA,IACvBM,QAASN,IAERA,EAAGS,gBADDT,EAAGU,aAAa5B,KAAKK,SAASF"}