!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).vrembem=e.vrembem||{},e.vrembem.core=e.vrembem.core||{}))}(this,(function(e){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},o=function(){function e(){t(this,e),this.target=null,this.handlerFocusTrap=this.handlerFocusTrap.bind(this)}return r(e,[{key:"init",value:function(e){this.target=e,this.focusable=this.getFocusable(),this.focusable.length?(this.focusableFirst=this.focusable[0],this.focusableLast=this.focusable[this.focusable.length-1],this.target.addEventListener("keydown",this.handlerFocusTrap)):this.target.addEventListener("keydown",this.handlerFocusLock)}},{key:"destroy",value:function(){this.target&&(this.focusable=null,this.focusableFirst=null,this.focusableLast=null,this.target.removeEventListener("keydown",this.handlerFocusTrap),this.target.removeEventListener("keydown",this.handlerFocusLock))}},{key:"handlerFocusTrap",value:function(e){if("Tab"===e.key||9===e.keyCode){var t=this.target.querySelector('[tabindex="-1"]');e.shiftKey?document.activeElement!==this.focusableFirst&&document.activeElement!==t||(this.focusableLast.focus(),e.preventDefault()):document.activeElement!==this.focusableLast&&document.activeElement!==t||(this.focusableFirst.focus(),e.preventDefault())}}},{key:"handlerFocusLock",value:function(e){("Tab"===e.key||9===e.keyCode)&&e.preventDefault()}},{key:"getFocusable",value:function(){var e=[],t=document.activeElement,n=this.target.scrollTop;return this.target.querySelectorAll('\n      a[href]:not([disabled]),\n      button:not([disabled]),\n      textarea:not([disabled]),\n      input[type="text"]:not([disabled]),\n      input[type="radio"]:not([disabled]),\n      input[type="checkbox"]:not([disabled]),\n      select:not([disabled]),\n      [tabindex]:not([tabindex="-1"])\n    ').forEach((function(t){t.focus(),t===document.activeElement&&e.push(t)})),this.target.scrollTop=n,t.focus(),e}}]),e}(),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e?e:t?document.querySelector(e):document.querySelectorAll(e)};e.FocusTrap=o,e.addClass=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(e=e.forEach?e:[e]).forEach((function(e){var t;(t=e.classList).add.apply(t,n)}))},e.breakpoints={xs:"480px",sm:"620px",md:"760px",lg:"990px",xl:"1380px"},e.camelCase=function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},e.closeTransition=function(e,t){return new Promise((function(n){t.transition?(e.classList.add(t.stateClosing),e.classList.remove(t.stateOpened),e.addEventListener("transitionend",(function r(){e.classList.remove(t.stateClosing),e.classList.add(t.stateClosed),n(e),this.removeEventListener("transitionend",r)}))):(e.classList.add(t.stateClosed),e.classList.remove(t.stateOpened),n(e))}))},e.focusTarget=function(e,t){var n=e.querySelector("[data-".concat(t.dataFocus,"]"));if(n)n.focus();else{var r=e.querySelector('[tabindex="-1"]');r&&r.focus()}},e.focusTrigger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.memory&&e.memory.trigger&&(e.memory.trigger.focus(),e.memory.trigger=null)},e.getElement=s,e.hasClass=function(e){e=e.forEach?e:[e],e=[].slice.call(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some((function(t){return e.some((function(e){if(e.classList.contains(t))return!0}))}))},e.hyphenCase=function(e){return e.replace(/([a-z][A-Z])/g,(function(e){return e[0]+"-"+e[1].toLowerCase()}))},e.moveElement=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e){var r=s(e,1);if(!r)throw new Error('Move reference element "'.concat(e,'" not found!'));var o=s(n);if(!o.length)throw new Error('Move target element "'.concat(n,'" not found!'));o.forEach((function(e){switch(t){case"after":return r.after(e),{ref:r,el:e,type:t};case"before":return r.before(e),{ref:r,el:e,type:t};case"append":return r.append(e),{ref:r,el:e,type:t};case"prepend":return r.prepend(e),{ref:r,el:e,type:t};default:throw new Error('Move type "'.concat(t,'" does not exist!'))}}))}},e.openTransition=function(e,t){return new Promise((function(n){t.transition?(e.classList.remove(t.stateClosed),e.classList.add(t.stateOpening),e.addEventListener("transitionend",(function r(){e.classList.add(t.stateOpened),e.classList.remove(t.stateOpening),n(e),this.removeEventListener("transitionend",r)}))):(e.classList.add(t.stateOpened),e.classList.remove(t.stateClosed),n(e))}))},e.removeClass=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(e=e.forEach?e:[e]).forEach((function(e){var t;(t=e.classList).remove.apply(t,n)}))},e.setInert=function(e,t){t&&document.querySelectorAll(t).forEach((function(t){e?(t.inert=!0,t.setAttribute("aria-hidden",!0)):(t.inert=null,t.removeAttribute("aria-hidden"))}))},e.setOverflowHidden=function(e,t){t&&document.querySelectorAll(t).forEach((function(t){e?t.style.overflow="hidden":t.style.removeProperty("overflow")}))},e.setTabindex=function(e,t){t&&document.querySelectorAll(t).forEach((function(t){e?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}))},e.toggleClass=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(e=e.forEach?e:[e]).forEach((function(e){n.forEach((function(t){e.classList.toggle(t)}))}))},Object.defineProperty(e,"__esModule",{value:!0})}));
