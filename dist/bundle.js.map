{"version":3,"file":"bundle.js","sources":["../../packages/vrembem/dist/scripts.esm.js","../../node_modules/scroll-stash/dist/scripts.esm.js","../../node_modules/string-natural-compare/natural-compare.js","../../node_modules/svgxuse/svgxuse.js","../../node_modules/list.js/src/utils/get-by-class.js","../../node_modules/list.js/src/utils/extend.js","../../node_modules/list.js/src/utils/index-of.js","../../node_modules/list.js/src/utils/to-array.js","../../node_modules/list.js/src/utils/events.js","../../node_modules/list.js/src/utils/to-string.js","../../node_modules/list.js/src/utils/classes.js","../../node_modules/list.js/src/utils/get-attribute.js","../../node_modules/list.js/src/item.js","../../node_modules/list.js/src/templater.js","../../node_modules/list.js/src/index.js","../../node_modules/list.js/src/add-async.js","../../node_modules/list.js/src/pagination.js","../../node_modules/list.js/src/parse.js","../../node_modules/list.js/src/search.js","../../node_modules/list.js/src/filter.js","../../node_modules/list.js/src/sort.js","../../node_modules/list.js/src/fuzzy-search.js","../../node_modules/list.js/src/utils/fuzzy.js","../src/js/list.js","../src/js/version.js","../src/js/app.js"],"sourcesContent":["function e(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError(\"attempted to use private field on non-instance\");return e}var t=0;function n(e){return\"__private_\"+t+++\"_\"+e}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,\"string\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}var l=/*#__PURE__*/n(\"handler\"),u=/*#__PURE__*/function(){function t(t,n){Object.defineProperty(this,l,{writable:!0,value:void 0}),this.value=t,e(this,l)[l]=n,this.mql=null}var n=t.prototype;return n.mount=function(t,n){return t&&(this.value=t),n&&(e(this,l)[l]=n),this.value?(this.mql=window.matchMedia(\"(min-width: \"+this.value+\")\"),\"function\"==typeof this.mql.addEventListener?this.mql.addEventListener(\"change\",e(this,l)[l]):this.mql.addListener(e(this,l)[l]),e(this,l)[l](this.mql),this):this},n.unmount=function(){return this.mql?(\"function\"==typeof this.mql.removeEventListener?this.mql.removeEventListener(\"change\",e(this,l)[l]):this.mql.removeListener(e(this,l)[l]),this.value=null,e(this,l)[l]=null,this.mql=null,this):this},i(t,[{key:\"handler\",get:function(){return e(this,l)[l]},set:function(t){this.mql&&(\"function\"==typeof this.mql.removeEventListener?this.mql.removeEventListener(\"change\",e(this,l)[l]):this.mql.removeListener(e(this,l)[l])),e(this,l)[l]=t}}])}();function d(e,t,n){if(!e.s){if(n instanceof f){if(!n.s)return void(n.o=d.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(d.bind(null,e,t),d.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}var f=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{d(r,1,o(this.v))}catch(e){d(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?d(r,1,t?t(i):i):n?d(r,1,n(i)):d(r,2,i)}catch(e){d(r,2,e)}},r},e}();function h(e){return e instanceof f&&1&e.s}var p=/*#__PURE__*/function(){function e(){this.collection=[]}var t=e.prototype;return t.register=function(e){try{var t=this;return Promise.resolve(t.deregister(e)).then(function(){return t.collection.push(e),t.collection})}catch(e){return Promise.reject(e)}},t.deregister=function(e){try{var t=this,n=t.collection.findIndex(function(t){return t===e});if(n>=0){var r=t.collection[n];Object.getOwnPropertyNames(r).forEach(function(e){delete r[e]}),t.collection.splice(n,1)}return Promise.resolve(t.collection)}catch(e){return Promise.reject(e)}},t.registerCollection=function(e){try{var t=this;return Promise.resolve(Promise.all(Array.from(e,function(e){t.register(e)}))).then(function(){return t.collection})}catch(e){return Promise.reject(e)}},t.deregisterCollection=function(){try{var e=function(){return t.collection},t=this,n=function(e,t,n){for(var r;;){var i=e();if(h(i)&&(i=i.v),!i)return o;if(i.then){r=0;break}var o=n();if(o&&o.then){if(!h(o)){r=1;break}o=o.s}if(t){var s=t();if(s&&s.then&&!h(s)){r=2;break}}}var a=new f,c=d.bind(null,a,2);return(0===r?i.then(u):1===r?o.then(l):s.then(p)).then(void 0,c),a;function l(r){o=r;do{if(t&&(s=t())&&s.then&&!h(s))return void s.then(p).then(void 0,c);if(!(i=e())||h(i)&&!i.v)return void d(a,1,o);if(i.then)return void i.then(u).then(void 0,c);h(o=n())&&(o=o.v)}while(!o||!o.then);o.then(l).then(void 0,c)}function u(e){e?(o=n())&&o.then?o.then(l).then(void 0,c):l(o):d(a,1,o)}function p(){(i=e())?i.then?i.then(u).then(void 0,c):u(i):d(a,1,o)}}(function(){return t.collection.length>0},void 0,function(){return Promise.resolve(t.deregister(t.collection[0])).then(function(){})});return Promise.resolve(n&&n.then?n.then(e):e())}catch(e){return Promise.reject(e)}},t.get=function(e,t){return void 0===t&&(t=\"id\"),this.collection.find(function(n){return n[t]===e})},e}();const v=\":not([inert]):not([inert] *)\",g=':not([tabindex^=\"-\"])',m=\":not(:disabled)\";var y=[`a[href]${v}${g}`,`area[href]${v}${g}`,`input:not([type=\"hidden\"]):not([type=\"radio\"])${v}${g}${m}`,`input[type=\"radio\"]${v}${g}${m}`,`select${v}${g}${m}`,`textarea${v}${g}${m}`,`button${v}${g}${m}`,`details${v} > summary:first-of-type${g}`,`iframe${v}${g}`,`audio[controls]${v}${g}`,`video[controls]${v}${g}`,`[contenteditable]${v}${g}`,`[tabindex]${v}${g}`],b=/*#__PURE__*/n(\"focusable\"),w=/*#__PURE__*/n(\"handleFocusTrap\"),E=/*#__PURE__*/n(\"handleFocusLock\"),P=/*#__PURE__*/function(){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=\"[data-focus]\"),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),this.el=t,this.selectorFocus=n,e(this,w)[w]=O.bind(this),e(this,E)[E]=x.bind(this)}var n=t.prototype;return n.mount=function(e,t){e&&(this.el=e),t&&(this.selectorFocus=t),this.focusable=this.getFocusable(),this.focus()},n.unmount=function(){this.el=null,this.focusable=[],document.removeEventListener(\"keydown\",e(this,w)[w]),document.removeEventListener(\"keydown\",e(this,E)[E])},n.focus=function(e,t){void 0===e&&(e=this.el),void 0===t&&(t=this.selectorFocus),(e.querySelector(t)||e).focus()},n.getFocusable=function(e){void 0===e&&(e=this.el);var t=[],n=document.activeElement,r=e.scrollTop;return e.querySelectorAll(y.join(\",\")).forEach(function(e){e.focus(),document.activeElement===e&&t.push(e)}),e.scrollTop=r,n.focus(),t},i(t,[{key:\"focusable\",get:function(){return e(this,b)[b]},set:function(t){e(this,b)[b]=t,e(this,b)[b].length?(document.removeEventListener(\"keydown\",e(this,E)[E]),document.addEventListener(\"keydown\",e(this,w)[w])):(document.removeEventListener(\"keydown\",e(this,w)[w]),document.addEventListener(\"keydown\",e(this,E)[E]))}},{key:\"focusableFirst\",get:function(){return this.focusable[0]}},{key:\"focusableLast\",get:function(){return this.focusable[this.focusable.length-1]}}])}();function O(e){(\"Tab\"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement!==this.focusableFirst&&document.activeElement!==this.el||(e.preventDefault(),this.focusableLast.focus()):document.activeElement!==this.focusableLast&&document.activeElement!==this.el||(e.preventDefault(),this.focusableFirst.focus()))}function x(e){(\"Tab\"===e.key||9===e.keyCode)&&e.preventDefault()}function L(e,t){var n=(e.getAttribute(\"data-\"+t)||\"\").replace(/'/g,'\"');return n?JSON.parse(n):{}}function A(e,t){void 0===t&&(t=!0);var n=localStorage.getItem(e),r=n?JSON.parse(n):{};return{get:function(e){return e?r[e]:r},set:function(n,i){return i?r[n]=i:delete r[n],t&&localStorage.setItem(e,JSON.stringify(r)),r}}}function k(e,t,n){var r=t.nodeType===Node.COMMENT_NODE,i=t.nodeType===Node.ELEMENT_NODE;if(r&&(n=\"after\"),!(t=r||i?t:document.querySelector(t)))throw new Error(\"Not a valid teleport reference: '\"+t+\"'\");if(\"function\"!=typeof t[n])throw new Error(\"Not a valid teleport method: '\"+n+\"'\");var o=null;return r||(o=document.createComment(\"teleported #\"+e.id),e.before(o)),t[n](e),r&&t.remove(),o}var j=function(e,t){return new Promise(function(n){t.transition?(e.classList.remove(t.stateClosed),e.classList.add(t.stateOpening),e.addEventListener(\"transitionend\",function r(i){i.target==e&&(e.classList.add(t.stateOpened),e.classList.remove(t.stateOpening),n(e),this.removeEventListener(\"transitionend\",r))})):(e.classList.add(t.stateOpened),e.classList.remove(t.stateClosed),n(e))})},C=function(e,t){return new Promise(function(n){t.transition?(e.classList.add(t.stateClosing),e.classList.remove(t.stateOpened),e.addEventListener(\"transitionend\",function r(i){i.target==e&&(e.classList.remove(t.stateClosing),e.classList.add(t.stateClosed),n(e),this.removeEventListener(\"transitionend\",r))})):(e.classList.add(t.stateClosed),e.classList.remove(t.stateOpened),n(e))})};function S(e,t){var n,r;n=!!e,(r=t.selectorInert)&&document.querySelectorAll(r).forEach(function(e){n?(e.inert=!0,e.setAttribute(\"aria-hidden\",!0)):(e.inert=null,e.removeAttribute(\"aria-hidden\"))}),function(e,t){t&&document.querySelectorAll(t).forEach(function(t){e?t.style.overflow=\"hidden\":t.style.removeProperty(\"overflow\")})}(!!e,t.selectorOverflow)}var D={__proto__:null,Breakpoint:u,Collection:p,FocusTrap:P,getConfig:L,getPrefix:function(){return getComputedStyle(document.body).getPropertyValue(\"--vrembem-variable-prefix\").trim()},localStore:A,teleport:k,openTransition:j,closeTransition:C,updateGlobalState:S},T={autoInit:!1,stateAttr:\"aria-checked\",stateValue:\"mixed\"},_=/*#__PURE__*/function(){function e(e){this.defaults=T,this.settings=o({},this.defaults,e),this.__handlerClick=this.handlerClick.bind(this),this.settings.autoInit&&this.init()}var t=e.prototype;return t.init=function(e){void 0===e&&(e=null),e&&(this.settings=o({},this.settings,e));var t=document.querySelectorAll(\"[\"+this.settings.stateAttr+'=\"'+this.settings.stateValue+'\"]');this.setIndeterminate(t),document.addEventListener(\"click\",this.__handlerClick,!1)},t.destroy=function(){document.removeEventListener(\"click\",this.__handlerClick,!1)},t.handlerClick=function(e){var t=e.target.closest(\"[\"+this.settings.stateAttr+'=\"'+this.settings.stateValue+'\"]');t&&(this.removeAriaState(t),this.setIndeterminate(t))},t.setAriaState=function(e,t){var n=this;void 0===t&&(t=this.settings.stateValue),(e=e.forEach?e:[e]).forEach(function(e){e.setAttribute(n.settings.stateAttr,t)})},t.removeAriaState=function(e){var t=this;(e=e.forEach?e:[e]).forEach(function(e){e.removeAttribute(t.settings.stateAttr)})},t.setIndeterminate=function(e){var t=this;(e=e.forEach?e:[e]).forEach(function(e){e.indeterminate=!!e.hasAttribute(t.settings.stateAttr)})},e}(),q={autoInit:!1,dataOpen:\"drawer-open\",dataClose:\"drawer-close\",dataToggle:\"drawer-toggle\",dataBreakpoint:\"drawer-breakpoint\",dataConfig:\"drawer-config\",selectorDrawer:\".drawer\",selectorDialog:\".drawer__dialog\",selectorFocus:\"[data-focus]\",selectorInert:null,selectorOverflow:\"body\",stateOpened:\"is-opened\",stateOpening:\"is-opening\",stateClosing:\"is-closing\",stateClosed:\"is-closed\",classModal:\"drawer_modal\",breakpoints:null,customEventPrefix:\"drawer:\",eventListeners:!0,store:!0,storeKey:\"VB:DrawerState\",setTabindex:!0,transition:!0};function I(e){var t=this,n=e.target.closest(\"\\n    [data-\"+this.settings.dataOpen+\"],\\n    [data-\"+this.settings.dataToggle+\"],\\n    [data-\"+this.settings.dataClose+\"]\\n  \");n?(e.preventDefault(),n.matches(\"[data-\"+this.settings.dataToggle+\"]\")&&n.getAttribute(\"data-\"+this.settings.dataToggle).trim().split(\" \").forEach(function(e){var r=t.get(e);r.trigger=n,r.toggle()}),n.matches(\"[data-\"+this.settings.dataOpen+\"]\")&&n.getAttribute(\"data-\"+this.settings.dataOpen).trim().split(\" \").forEach(function(e){var r=t.get(e);r.trigger=n,r.open()}),n.matches(\"[data-\"+this.settings.dataClose+\"]\")&&n.getAttribute(\"data-\"+this.settings.dataClose).trim().split(\" \").forEach(function(r){if(r){var i=t.get(r);i.trigger=n,i.close()}else{var o=e.target.closest(t.settings.selectorDrawer);o&&t.close(o)}})):e.target.matches(this.settings.selectorDrawer)&&this.close(e.target.id)}function M(e){if(\"Escape\"===e.key){var t=this.activeModal;t&&this.close(t)}}var $=function(e,t){void 0===t&&(t=!0);try{var n=function(){return r.collection},r=this;if(!e)return Promise.resolve(r.collection);var i=r.collection.findIndex(function(t){return t.id===e.id}),o=function(){if(i>=0){var e=function(){r.store.set(n.id),n.unmountBreakpoint(),Object.getOwnPropertyNames(n).forEach(function(e){delete n[e]}),r.collection.splice(i,1)},n=r.collection[i],o=function(){if(t&&\"opened\"===n.state)return Promise.resolve(n.close(!1)).then(function(){})}();return o&&o.then?o.then(e):e()}}();return Promise.resolve(o&&o.then?o.then(n):n())}catch(e){return Promise.reject(e)}};function R(){return getComputedStyle(document.body).getPropertyValue(\"--vrembem-variable-prefix\").trim()}function N(e){var t=R(),n=e.getAttribute(\"data-\"+this.settings.dataBreakpoint);return this.settings.breakpoints&&this.settings.breakpoints[n]?this.settings.breakpoints[n]:getComputedStyle(document.body).getPropertyValue(\"--\"+t+\"breakpoint-\"+n).trim()?getComputedStyle(document.body).getPropertyValue(\"--\"+t+\"breakpoint-\"+n).trim():n}function B(e){var t=this.get(\"string\"==typeof e?e:e.id);if(t)return t;throw new Error('Drawer not found in collection with id of \"'+(e.id||e)+'\".')}function V(e){return\"string\"==typeof e?e:\"function\"==typeof e.hasAttribute?e.hasAttribute(\"data-\"+this.settings.dataOpen)?e.getAttribute(\"data-\"+this.settings.dataOpen):e.hasAttribute(\"data-\"+this.settings.dataClose)?e.getAttribute(\"data-\"+this.settings.dataClose)||!1:e.hasAttribute(\"data-\"+this.settings.dataToggle)?e.getAttribute(\"data-\"+this.settings.dataToggle):e.closest(this.settings.selectorDrawer)&&(e=e.closest(this.settings.selectorDrawer)).id||!1:!!e.id&&e.id}function F(e){var t=V.call(this,e);if(t){var n=document.querySelector(\"#\"+t),r=n?n.querySelector(this.settings.selectorDialog):null;return n||r?r?{drawer:n,dialog:r}:{error:new Error(\"Drawer is missing dialog element.\")}:{error:new Error('No drawer elements found using the ID: \"'+t+'\".')}}return{error:new Error(\"Could not resolve the drawer ID.\")}}var W=function(e){try{var t=this,n=function(){if(t.store.get(e.id)){var n=\"opened\"===t.store.get(e.id)?Promise.resolve(e.open(!1,!1)).then(function(){}):Promise.resolve(e.close(!1,!1)).then(function(){});if(n&&n.then)return n.then(function(){})}else e.el.classList.contains(t.settings.stateOpened)?e.state=\"opened\":(e.el.classList.remove(t.settings.stateOpening),e.el.classList.remove(t.settings.stateClosing),e.el.classList.add(t.settings.stateClosed))}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};function H(e){\"opened\"===e.state?\"modal\"===e.mode?this.focusTrap.mount(e.dialog,this.settings.selectorFocus):this.focusTrap.focus(e.dialog,this.settings.selectorFocus):(e.trigger&&(e.trigger.focus(),e.trigger=null),this.focusTrap.unmount())}var z=function(e,t,n){void 0===n&&(n=!0);try{var r=function(){return n&&H.call(i,s),s.el.dispatchEvent(new CustomEvent(a.customEventPrefix+\"opened\",{detail:i,bubbles:!0})),s},i=this,s=B.call(i,e),a=o({},i.settings,s.settings);void 0!==t&&(a.transition=t);var c=function(){if(\"closed\"===s.state)return s.state=\"opening\",Promise.resolve(j(s.el,a)).then(function(){\"modal\"===s.mode&&S(!0,a),s.state=\"opened\"})}();return Promise.resolve(c&&c.then?c.then(r):r())}catch(e){return Promise.reject(e)}},K=function(e,t,n){void 0===n&&(n=!0);try{var r=this,i=B.call(r,e),s=o({},r.settings,i.settings);void 0!==t&&(s.transition=t);var a=function(){if(\"opened\"===i.state)return i.state=\"closing\",document.activeElement.blur(),Promise.resolve(C(i.el,s)).then(function(){\"modal\"===i.mode&&S(!1,s),n&&H.call(r,i),i.state=\"closed\",i.el.dispatchEvent(new CustomEvent(s.customEventPrefix+\"closed\",{detail:r,bubbles:!0}))})}();return Promise.resolve(a&&a.then?a.then(function(){return i}):i)}catch(e){return Promise.reject(e)}},G=function(e,t,n){try{var r=this,i=B.call(r,e);return Promise.resolve(\"closed\"===i.state?z.call(r,i,t,n):K.call(r,i,t,n))}catch(e){return Promise.reject(e)}},U=function(e){try{var t=this;return e.el.classList.add(e.getSetting(\"classModal\")),e.dialog.setAttribute(\"aria-modal\",\"true\"),!t.store.get(e.id)&&e.el.classList.contains(e.getSetting(\"stateOpened\"))&&t.store.set(e.id,\"opened\"),Promise.resolve(K.call(t,e,!1,!1)).then(function(){return e.el.dispatchEvent(new CustomEvent(e.getSetting(\"customEventPrefix\")+\"switchMode\",{detail:t,bubbles:!0})),e})}catch(e){return Promise.reject(e)}},J=function(e){try{var t=this;return e.el.classList.remove(e.getSetting(\"classModal\")),e.dialog.removeAttribute(\"aria-modal\"),S(!1,o({},t.settings,e.settings)),t.focusTrap.unmount(),Promise.resolve(W.call(t,e)).then(function(){return e.el.dispatchEvent(new CustomEvent(e.getSetting(\"customEventPrefix\")+\"switchMode\",{detail:t,bubbles:!0})),e})}catch(e){return Promise.reject(e)}};function X(e){switch(e.mode){case\"inline\":return J.call(this,e);case\"modal\":return U.call(this,e);default:throw new Error('\"'+e.mode+'\" is not a valid drawer mode.')}}var Y=function(e,t){try{var n=this;return Promise.resolve($.call(n,e,!1)).then(function(){var r=n,i=new u,s={open:function(e,t){return z.call(r,this,e,t)},close:function(e,t){return K.call(r,this,e,t)},toggle:function(e,t){return G.call(r,this,e,t)},deregister:function(){return $.call(r,this)},mountBreakpoint:function(){var e=this.breakpoint,t=this.handleBreakpoint.bind(this);return i.mount(e,t),this},unmountBreakpoint:function(){return i.unmount(),this},handleBreakpoint:function(e){return this.mode=e.matches?\"inline\":\"modal\",this},getSetting:function(e){return e in this.settings?this.settings[e]:r.settings[e]}},a=o({id:e.id,el:e,dialog:t,trigger:null,settings:L(e,n.settings.dataConfig),get breakpoint(){return N.call(r,e)},get state(){return c},set state(e){c=e,\"opened\"!==e&&\"closed\"!==e||\"inline\"===this.mode&&r.store.set(this.id,this.state)},get mode(){return l},set mode(e){l=e,X.call(r,this)}},s),c=e.classList.contains(a.getSetting(\"stateOpened\"))?\"opened\":\"closed\",l=e.classList.contains(a.getSetting(\"classModal\"))?\"modal\":\"inline\";\"modal\"===a.mode?a.dialog.setAttribute(\"aria-modal\",\"true\"):a.dialog.removeAttribute(\"aria-modal\"),a.getSetting(\"setTabindex\")&&a.dialog.setAttribute(\"tabindex\",\"-1\"),n.collection.push(a);var d=function(){if(!a.breakpoint)return Promise.resolve(W.call(n,a)).then(function(){});a.mountBreakpoint()}();return d&&d.then?d.then(function(){return a}):a})}catch(e){return Promise.reject(e)}},Q=/*#__PURE__*/n(\"handleClick\"),Z=/*#__PURE__*/n(\"handleKeydown\"),ee=/*#__PURE__*/function(t){function n(n){var r;return r=t.call(this)||this,Object.defineProperty(r,Q,{writable:!0,value:void 0}),Object.defineProperty(r,Z,{writable:!0,value:void 0}),r.defaults=q,r.settings=o({},r.defaults,n),r.focusTrap=new P,r.store=A(r.settings.storeKey,r.settings.store),e(r,Q)[Q]=I.bind(r),e(r,Z)[Z]=M.bind(r),r.settings.autoInit&&r.init(),r}s(n,t);var r=n.prototype;return r.init=function(e){void 0===e&&(e=null);try{var t=this;e&&(t.settings=o({},t.settings,e));var n=document.querySelectorAll(t.settings.selectorDrawer);return Promise.resolve(t.registerCollection(n)).then(function(){return t.settings.eventListeners&&t.initEventListeners(),t})}catch(e){return Promise.reject(e)}},r.destroy=function(){try{var e=this;return Promise.resolve(e.deregisterCollection()).then(function(){return e.settings.eventListeners&&e.destroyEventListeners(),e})}catch(e){return Promise.reject(e)}},r.initEventListeners=function(){document.addEventListener(\"click\",e(this,Q)[Q],!1),document.addEventListener(\"keydown\",e(this,Z)[Z],!1)},r.destroyEventListeners=function(){document.removeEventListener(\"click\",e(this,Q)[Q],!1),document.removeEventListener(\"keydown\",e(this,Z)[Z],!1)},r.register=function(e){var t=F.call(this,e);return t.error?Promise.reject(t.error):Y.call(this,t.drawer,t.dialog)},r.deregister=function(e){var t=this.get(V.call(this,e));return $.call(this,t)},r.open=function(e,t,n){return z.call(this,e,t,n)},r.close=function(e,t,n){return K.call(this,e,t,n)},r.toggle=function(e,t,n){return G.call(this,e,t,n)},i(n,[{key:\"activeModal\",get:function(){return this.collection.find(function(e){return\"opened\"===e.state&&\"modal\"===e.mode})}}])}(p),te={autoInit:!1,dataOpen:\"modal-open\",dataClose:\"modal-close\",dataReplace:\"modal-replace\",dataConfig:\"modal-config\",selectorModal:\".modal\",selectorDialog:\".modal__dialog\",selectorRequired:'[role=\"alertdialog\"]',selectorFocus:\"[data-focus]\",selectorInert:null,selectorOverflow:\"body\",stateOpened:\"is-opened\",stateOpening:\"is-opening\",stateClosing:\"is-closing\",stateClosed:\"is-closed\",customEventPrefix:\"modal:\",eventListeners:!0,teleport:null,teleportMethod:\"append\",setTabindex:!0,transition:!0};function ne(e){var t=this.get(\"string\"==typeof e?e:e.id);if(t)return t;throw new Error('Modal not found in collection with id of \"'+(e.id||e)+'\".')}function re(e){return\"string\"==typeof e?e:\"function\"==typeof e.hasAttribute?e.hasAttribute(\"data-\"+this.settings.dataOpen)?e.getAttribute(\"data-\"+this.settings.dataOpen):e.hasAttribute(\"data-\"+this.settings.dataClose)?e.getAttribute(\"data-\"+this.settings.dataClose)||!1:e.hasAttribute(\"data-\"+this.settings.dataReplace)?e.getAttribute(\"data-\"+this.settings.dataReplace):e.closest(this.settings.selectorModal)&&(e=e.closest(this.settings.selectorModal)).id||!1:!!e.id&&e.id}function ie(e){var t=re.call(this,e);if(t){var n=document.querySelector(\"#\"+t),r=n?n.querySelector(this.settings.selectorDialog):null;return n||r?r?{modal:n,dialog:r}:{error:new Error(\"Modal is missing dialog element.\")}:{error:new Error('No modal elements found using the ID: \"'+t+'\".')}}return{error:new Error(\"Could not resolve the modal ID.\")}}function oe(){this.active?this.focusTrap.mount(this.active.dialog,this.settings.selectorFocus):(this.trigger&&(this.trigger.focus(),this.trigger=null),this.focusTrap.unmount())}var se=function(e){try{var t=this,n=e.target.closest(\"[data-\"+t.settings.dataOpen+\"], [data-\"+t.settings.dataReplace+\"]\");if(n){e.preventDefault(),e.target.closest(t.settings.selectorModal)||(t.trigger=n);var r=t.get(re.call(t,n));return Promise.resolve(n.matches(\"[data-\"+t.settings.dataOpen+\"]\")?r.open():r.replace())}if(n=e.target.closest(\"[data-\"+t.settings.dataClose+\"]\")){e.preventDefault();var i=n.getAttribute(\"data-\"+t.settings.dataClose);return Promise.resolve(\"*\"===i?t.closeAll():t.close(i))}return e.target.matches(t.settings.selectorModal)&&!e.target.querySelector(t.settings.selectorRequired)?Promise.resolve(t.close(re.call(t,e.target))):Promise.resolve()}catch(e){return Promise.reject(e)}};function ae(e){if(\"Escape\"===e.key&&this.active&&!this.active.dialog.matches(this.settings.selectorRequired))return this.close()}var ce=function(e,t){void 0===t&&(t=!0);try{var n=function(){return r.collection},r=this;if(!e)return Promise.resolve(r.collection);var i=r.collection.findIndex(function(t){return t.id===e.id}),o=function(){if(i>=0){var e=function(){n.getSetting(\"teleport\")&&n.teleportReturn(),Object.getOwnPropertyNames(n).forEach(function(e){delete n[e]}),r.collection.splice(i,1)},n=r.collection[i],o=function(){if(t&&\"opened\"===n.state)return Promise.resolve(n.close(!1)).then(function(){});r.stack.remove(n)}();return o&&o.then?o.then(e):e()}}();return Promise.resolve(o&&o.then?o.then(n):n())}catch(e){return Promise.reject(e)}},le=function(e,t,n){void 0===n&&(n=!0);try{var r=function(){return n&&oe.call(i),s.el.dispatchEvent(new CustomEvent(a.customEventPrefix+\"opened\",{detail:i,bubbles:!0})),s},i=this,s=ne.call(i,e),a=o({},i.settings,s.settings);void 0!==t&&(a.transition=t),i.stack.moveToTop(s);var c=function(){if(\"closed\"===s.state)return s.state=\"opening\",i.stack.add(s),Promise.resolve(j(s.el,a)).then(function(){s.state=\"opened\"})}();return Promise.resolve(c&&c.then?c.then(r):r())}catch(e){return Promise.reject(e)}},ue=function(e,t,n){void 0===n&&(n=!0);try{var r=this,i=e?ne.call(r,e):r.active,s=function(){if(i&&\"opened\"===i.state){i.state=\"closing\";var e=o({},r.settings,i.settings);return void 0!==t&&(e.transition=t),document.activeElement.blur(),Promise.resolve(C(i.el,e)).then(function(){r.stack.remove(i),n&&oe.call(r),i.state=\"closed\",i.el.dispatchEvent(new CustomEvent(e.customEventPrefix+\"closed\",{detail:r,bubbles:!0}))})}}();return Promise.resolve(s&&s.then?s.then(function(){return i}):i)}catch(e){return Promise.reject(e)}},de=function(e,t){try{var n=this,r=[];return Promise.resolve(Promise.all(n.stack.value.map(function(i){try{var o=function(){i.trigger=null},s=function(){if(!e||e!==i.id){var o=r.push;return Promise.resolve(ue.call(n,i,t,!1)).then(function(e){o.call(r,e)})}Promise.resolve()}();return Promise.resolve(s&&s.then?s.then(o):o())}catch(e){return Promise.reject(e)}}))).then(function(){return r})}catch(e){return Promise.reject(e)}},fe=function(e,t,n){void 0===n&&(n=!0);try{var r,i,o=function(){return n&&oe.call(s),{opened:r,closed:i}},s=this,a=ne.call(s,e),c=\"opened\"===a.state?(r=a,Promise.resolve(de.call(s,a.id,t)).then(function(e){i=e})):(r=le.call(s,a,t,!1),i=de.call(s,!1,t),Promise.resolve(Promise.all([r,i])).then(function(){}));return Promise.resolve(c&&c.then?c.then(o):o())}catch(e){return Promise.reject(e)}},he=function(e,t){try{var n=this;return Promise.resolve(ce.call(n,e,!1)).then(function(){var r=n,i={open:function(e,t){return le.call(r,this,e,t)},close:function(e,t){return ue.call(r,this,e,t)},replace:function(e,t){return fe.call(r,this,e,t)},deregister:function(){return ce.call(r,this)},teleport:function(e,t){return void 0===e&&(e=this.getSetting(\"teleport\")),void 0===t&&(t=this.getSetting(\"teleportMethod\")),this.returnRef?(console.error(\"Element has already been teleported:\",this.el),!1):(this.returnRef=k(this.el,e,t),this.el)},teleportReturn:function(){return this.returnRef?(this.returnRef=k(this.el,this.returnRef),this.el):(console.error(\"No return reference found:\",this.el),!1)},getSetting:function(e){return e in this.settings?this.settings[e]:r.settings[e]}},s=o({id:e.id,state:\"closed\",el:e,dialog:t,returnRef:null,settings:L(e,n.settings.dataConfig)},i);s.dialog.setAttribute(\"aria-modal\",\"true\"),s.dialog.hasAttribute(\"role\")||s.dialog.setAttribute(\"role\",\"dialog\"),s.getSetting(\"setTabindex\")&&s.dialog.setAttribute(\"tabindex\",\"-1\"),s.getSetting(\"teleport\")&&s.teleport(),n.collection.push(s);var a=function(){if(s.el.classList.contains(n.settings.stateOpened))return Promise.resolve(s.open(!1)).then(function(){});s.el.classList.remove(n.settings.stateOpening),s.el.classList.remove(n.settings.stateClosing),s.el.classList.add(n.settings.stateClosed)}();return a&&a.then?a.then(function(){return s}):s})}catch(e){return Promise.reject(e)}},pe=/*#__PURE__*/n(\"handleClick\"),ve=/*#__PURE__*/n(\"handleKeydown\"),ge=/*#__PURE__*/function(t){function n(n){var r,i,s;return r=t.call(this)||this,Object.defineProperty(r,pe,{writable:!0,value:void 0}),Object.defineProperty(r,ve,{writable:!0,value:void 0}),r.defaults=te,r.settings=o({},r.defaults,n),r.trigger=null,r.focusTrap=new P,r.stack=(i=r.settings,s=[],{get value(){return[].concat(s)},get top(){return s[s.length-1]},updateIndex:function(){s.forEach(function(e,t){e.el.style.zIndex=null;var n=getComputedStyle(e.el)[\"z-index\"];e.el.style.zIndex=parseInt(n)+t+1})},updateGlobalState:function(){S(this.top,i),this.updateIndex()},add:function(e){e.el.style.zIndex=null;var t=getComputedStyle(e.el)[\"z-index\"];e.el.style.zIndex=parseInt(t)+s.length+1,s.push(e),this.updateGlobalState()},remove:function(e){var t=s.findIndex(function(t){return t.id===e.id});t>=0&&(e.el.style.zIndex=null,s.splice(t,1),this.updateGlobalState())},moveToTop:function(e){var t=s.findIndex(function(t){return t.id===e.id});t>=0&&(s.splice(t,1),this.add(e))}}),e(r,pe)[pe]=se.bind(r),e(r,ve)[ve]=ae.bind(r),r.settings.autoInit&&r.init(),r}s(n,t);var r=n.prototype;return r.init=function(e){try{var t=this;e&&(t.settings=o({},t.settings,e));var n=document.querySelectorAll(t.settings.selectorModal);return Promise.resolve(t.registerCollection(n)).then(function(){return t.settings.eventListeners&&t.initEventListeners(),t})}catch(e){return Promise.reject(e)}},r.destroy=function(){try{var e=this;return e.trigger=null,Promise.resolve(e.deregisterCollection()).then(function(){return e.settings.eventListeners&&e.destroyEventListeners(),e})}catch(e){return Promise.reject(e)}},r.initEventListeners=function(){document.addEventListener(\"click\",e(this,pe)[pe],!1),document.addEventListener(\"keydown\",e(this,ve)[ve],!1)},r.destroyEventListeners=function(){document.removeEventListener(\"click\",e(this,pe)[pe],!1),document.removeEventListener(\"keydown\",e(this,ve)[ve],!1)},r.register=function(e){var t=ie.call(this,e);return t.error?Promise.reject(t.error):he.call(this,t.modal,t.dialog)},r.deregister=function(e){var t=this.get(re.call(this,e));return ce.call(this,t)},r.open=function(e,t,n){return le.call(this,e,t,n)},r.close=function(e,t,n){return ue.call(this,e,t,n)},r.replace=function(e,t,n){return fe.call(this,e,t,n)},r.closeAll=function(e,t,n){void 0===e&&(e=!1),void 0===n&&(n=!0);try{var r=this;return Promise.resolve(de.call(r,e,t)).then(function(e){return n&&oe.call(r),e})}catch(e){return Promise.reject(e)}},i(n,[{key:\"active\",get:function(){return this.stack.top}}])}(p),me={autoInit:!1,selectorPopover:\".popover\",selectorArrow:\".popover__arrow\",stateActive:\"is-active\",eventListeners:!0,eventType:\"click\",placement:\"bottom\"};function ye(e,t){var n=getComputedStyle(e),r={placement:t.placement,event:t.eventType,offset:0,\"overflow-padding\":0,\"flip-padding\":0,\"arrow-element\":t.selectorArrow,\"arrow-padding\":0};for(var i in r){var o=R(),s=n.getPropertyValue(\"--\"+o+\"popover-\"+i).trim();s&&(r[i]=s)}return r}function be(e){var t,n=\"string\"==typeof e?e.trim().split(\" \"):[e];switch(n.forEach(function(e,t){n[t]=parseInt(e,10)}),n.length){case 1:t=n[0];break;case 2:t={top:n[0],right:n[1],bottom:n[0],left:n[1]};break;case 3:t={top:n[0],right:n[1],bottom:n[2],left:n[1]};break;case 4:t={top:n[0],right:n[1],bottom:n[2],left:n[3]};break;default:t=!1}return t}function we(e){var t=this.get(\"string\"==typeof e?e:e.id);if(t)return t;throw new Error('Popover not found in collection with id of \"'+e+'\".')}function Ee(e){return\"string\"==typeof e?e:\"function\"==typeof e.hasAttribute?e.closest(this.settings.selectorPopover)?(e=e.closest(this.settings.selectorPopover)).id:e.hasAttribute(\"aria-controls\")?e.getAttribute(\"aria-controls\"):!!e.hasAttribute(\"aria-describedby\")&&e.getAttribute(\"aria-describedby\"):!!e.id&&e.id}function Pe(e){var t=Ee.call(this,e);if(t){var n=document.querySelector(\"#\"+t),r=document.querySelector('[aria-controls=\"'+t+'\"]')||document.querySelector('[aria-describedby=\"'+t+'\"]');return r||n?r?n?{popover:n,trigger:r}:{error:new Error(\"No popover associated with the provided popover trigger.\")}:{error:new Error(\"No popover trigger associated with the provided popover.\")}:{error:new Error('No popover elements found using the ID: \"'+t+'\".')}}return{error:new Error(\"Could not resolve the popover ID.\")}}var Oe=function(){try{var e=this,t=[];return Promise.resolve(Promise.all(e.collection.map(function(n){try{var r=function(){if(\"opened\"===n.state){var r=t.push;return Promise.resolve(xe.call(e,n)).then(function(e){r.call(t,e)})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}))).then(function(){return t})}catch(e){return Promise.reject(e)}},xe=function(e){try{var t=function(e){return e&&\"opened\"===e.state&&(e.el.classList.remove(n.settings.stateActive),e.trigger.hasAttribute(\"aria-controls\")&&e.trigger.setAttribute(\"aria-expanded\",\"false\"),e.popper.setOptions({modifiers:[{name:\"eventListeners\",enabled:!1}]}),e.state=\"closed\",e.trigger===n.trigger&&(n.trigger=null)),e},n=this;return Promise.resolve(e?t(we.call(n,e)):Promise.resolve(Oe.call(n)).then(t))}catch(e){return Promise.reject(e)}};function Le(e){\"opened\"==e.state&&setTimeout(function(){var t=e.el.closest(\":hover\")===e.el||e.trigger.closest(\":hover\")===e.trigger,n=document.activeElement.closest(\"#\"+e.id+', [aria-controls=\"'+e.id+'\"], [aria-describedby=\"'+e.id+'\"]');return t||n||e.close(),e},1)}function Ae(e){\"opened\"===e.state?e.close():(this.trigger=e.trigger,e.open(),je.call(this,e))}function ke(e){var t=this;switch(e.key){case\"Escape\":return this.trigger&&this.trigger.focus(),void Oe.call(this);case\"Tab\":return void this.collection.forEach(function(e){Le.call(t,e)});default:return}}function je(e){var t=this;document.addEventListener(\"click\",function n(r){r.target.closest(\"#\"+e.id+', [aria-controls=\"'+e.id+'\"], [aria-describedby=\"'+e.id+'\"]')?e.el&&!e.el.classList.contains(t.settings.stateActive)&&this.removeEventListener(\"click\",n):(e.el&&e.el.classList.contains(t.settings.stateActive)&&e.close(),this.removeEventListener(\"click\",n))})}var Ce=\"top\",Se=\"bottom\",De=\"right\",Te=\"left\",_e=\"auto\",qe=[Ce,Se,De,Te],Ie=\"start\",Me=\"end\",$e=\"clippingParents\",Re=\"viewport\",Ne=\"popper\",Be=\"reference\",Ve=/*#__PURE__*/qe.reduce(function(e,t){return e.concat([t+\"-\"+Ie,t+\"-\"+Me])},[]),Fe=/*#__PURE__*/[].concat(qe,[_e]).reduce(function(e,t){return e.concat([t,t+\"-\"+Ie,t+\"-\"+Me])},[]),We=[\"beforeRead\",\"read\",\"afterRead\",\"beforeMain\",\"main\",\"afterMain\",\"beforeWrite\",\"write\",\"afterWrite\"];function He(e){return e?(e.nodeName||\"\").toLowerCase():null}function ze(e){if(null==e)return window;if(\"[object Window]\"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ke(e){return e instanceof ze(e).Element||e instanceof Element}function Ge(e){return e instanceof ze(e).HTMLElement||e instanceof HTMLElement}function Ue(e){return\"undefined\"!=typeof ShadowRoot&&(e instanceof ze(e).ShadowRoot||e instanceof ShadowRoot)}function Je(e){return e.split(\"-\")[0]}var Xe=Math.max,Ye=Math.min,Qe=Math.round;function Ze(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+\"/\"+e.version}).join(\" \"):navigator.userAgent}function et(){return!/^((?!chrome|android).)*safari/i.test(Ze())}function tt(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Ge(e)&&(i=e.offsetWidth>0&&Qe(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Qe(r.height)/e.offsetHeight||1);var s=(Ke(e)?ze(e):window).visualViewport,a=!et()&&n,c=(r.left+(a&&s?s.offsetLeft:0))/i,l=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function nt(e){var t=tt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ue(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function it(e){return ze(e).getComputedStyle(e)}function ot(e){return[\"table\",\"td\",\"th\"].indexOf(He(e))>=0}function st(e){return((Ke(e)?e.ownerDocument:e.document)||window.document).documentElement}function at(e){return\"html\"===He(e)?e:e.assignedSlot||e.parentNode||(Ue(e)?e.host:null)||st(e)}function ct(e){return Ge(e)&&\"fixed\"!==it(e).position?e.offsetParent:null}function lt(e){for(var t=ze(e),n=ct(e);n&&ot(n)&&\"static\"===it(n).position;)n=ct(n);return n&&(\"html\"===He(n)||\"body\"===He(n)&&\"static\"===it(n).position)?t:n||function(e){var t=/firefox/i.test(Ze());if(/Trident/i.test(Ze())&&Ge(e)&&\"fixed\"===it(e).position)return null;var n=at(e);for(Ue(n)&&(n=n.host);Ge(n)&&[\"html\",\"body\"].indexOf(He(n))<0;){var r=it(n);if(\"none\"!==r.transform||\"none\"!==r.perspective||\"paint\"===r.contain||-1!==[\"transform\",\"perspective\"].indexOf(r.willChange)||t&&\"filter\"===r.willChange||t&&r.filter&&\"none\"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ut(e){return[\"top\",\"bottom\"].indexOf(e)>=0?\"x\":\"y\"}function dt(e,t,n){return Xe(e,Ye(t,n))}function ft(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ht(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function pt(e){return e.split(\"-\")[1]}var vt={top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\"};function gt(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=s.x,h=void 0===f?0:f,p=s.y,v=void 0===p?0:p,g=\"function\"==typeof u?u({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=s.hasOwnProperty(\"x\"),y=s.hasOwnProperty(\"y\"),b=Te,w=Ce,E=window;if(l){var P=lt(n),O=\"clientHeight\",x=\"clientWidth\";P===ze(n)&&\"static\"!==it(P=st(n)).position&&\"absolute\"===a&&(O=\"scrollHeight\",x=\"scrollWidth\"),(i===Ce||(i===Te||i===De)&&o===Me)&&(w=Se,v-=(d&&P===E&&E.visualViewport?E.visualViewport.height:P[O])-r.height,v*=c?1:-1),i!==Te&&(i!==Ce&&i!==Se||o!==Me)||(b=De,h-=(d&&P===E&&E.visualViewport?E.visualViewport.width:P[x])-r.width,h*=c?1:-1)}var L,A=Object.assign({position:a},l&&vt),k=!0===u?function(e,t){var n=e.y,r=t.devicePixelRatio||1;return{x:Qe(e.x*r)/r||0,y:Qe(n*r)/r||0}}({x:h,y:v},ze(n)):{x:h,y:v};return h=k.x,v=k.y,Object.assign({},A,c?((L={})[w]=y?\"0\":\"\",L[b]=m?\"0\":\"\",L.transform=(E.devicePixelRatio||1)<=1?\"translate(\"+h+\"px, \"+v+\"px)\":\"translate3d(\"+h+\"px, \"+v+\"px, 0)\",L):((t={})[w]=y?v+\"px\":\"\",t[b]=m?h+\"px\":\"\",t.transform=\"\",t))}var mt={passive:!0},yt={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function bt(e){return e.replace(/left|right|bottom|top/g,function(e){return yt[e]})}var wt={start:\"end\",end:\"start\"};function Et(e){return e.replace(/start|end/g,function(e){return wt[e]})}function Pt(e){var t=ze(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ot(e){return tt(st(e)).left+Pt(e).scrollLeft}function xt(e){var t=it(e);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Lt(e){return[\"html\",\"body\",\"#document\"].indexOf(He(e))>=0?e.ownerDocument.body:Ge(e)&&xt(e)?e:Lt(at(e))}function At(e,t){var n;void 0===t&&(t=[]);var r=Lt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=ze(r),s=i?[o].concat(o.visualViewport||[],xt(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(At(at(s)))}function kt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jt(e,t,n){return t===Re?kt(function(e,t){var n=ze(e),r=st(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=et();(l||!l&&\"fixed\"===t)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+Ot(e),y:c}}(e,n)):Ke(t)?function(e,t){var n=tt(e,!1,\"fixed\"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):kt(function(e){var t,n=st(e),r=Pt(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Xe(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Xe(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ot(e),c=-r.scrollTop;return\"rtl\"===it(i||n).direction&&(a+=Xe(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}(st(e)))}function Ct(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Je(i):null,s=i?pt(i):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case Ce:t={x:a,y:n.y-r.height};break;case Se:t={x:a,y:n.y+n.height};break;case De:t={x:n.x+n.width,y:c};break;case Te:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?ut(o):null;if(null!=l){var u=\"y\"===l?\"height\":\"width\";switch(s){case Ie:t[l]=t[l]-(n[u]/2-r[u]/2);break;case Me:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function St(e,t){void 0===t&&(t={});var n=t.placement,r=void 0===n?e.placement:n,i=t.strategy,o=void 0===i?e.strategy:i,s=t.boundary,a=void 0===s?$e:s,c=t.rootBoundary,l=void 0===c?Re:c,u=t.elementContext,d=void 0===u?Ne:u,f=t.altBoundary,h=void 0!==f&&f,p=t.padding,v=void 0===p?0:p,g=ft(\"number\"!=typeof v?v:ht(v,qe)),m=e.rects.popper,y=e.elements[h?d===Ne?Be:Ne:d],b=function(e,t,n,r){var i=\"clippingParents\"===t?function(e){var t=At(at(e)),n=[\"absolute\",\"fixed\"].indexOf(it(e).position)>=0&&Ge(e)?lt(e):e;return Ke(n)?t.filter(function(e){return Ke(e)&&rt(e,n)&&\"body\"!==He(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o.reduce(function(t,n){var i=jt(e,n,r);return t.top=Xe(i.top,t.top),t.right=Ye(i.right,t.right),t.bottom=Ye(i.bottom,t.bottom),t.left=Xe(i.left,t.left),t},jt(e,o[0],r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Ke(y)?y:y.contextElement||st(e.elements.popper),a,l,o),w=tt(e.elements.reference),E=Ct({reference:w,element:m,strategy:\"absolute\",placement:r}),P=kt(Object.assign({},m,E)),O=d===Ne?P:w,x={top:b.top-O.top+g.top,bottom:O.bottom-b.bottom+g.bottom,left:b.left-O.left+g.left,right:O.right-b.right+g.right},L=e.modifiersData.offset;if(d===Ne&&L){var A=L[r];Object.keys(x).forEach(function(e){var t=[De,Se].indexOf(e)>=0?1:-1,n=[Ce,Se].indexOf(e)>=0?\"y\":\"x\";x[e]+=A[n]*t})}return x}function Dt(e,t){void 0===t&&(t={});var n=t.boundary,r=t.rootBoundary,i=t.padding,o=t.flipVariations,s=t.allowedAutoPlacements,a=void 0===s?Fe:s,c=pt(t.placement),l=c?o?Ve:Ve.filter(function(e){return pt(e)===c}):qe,u=l.filter(function(e){return a.indexOf(e)>=0});0===u.length&&(u=l);var d=u.reduce(function(t,o){return t[o]=St(e,{placement:o,boundary:n,rootBoundary:r,padding:i})[Je(o)],t},{});return Object.keys(d).sort(function(e,t){return d[e]-d[t]})}var Tt={name:\"flip\",enabled:!0,phase:\"main\",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,g=t.options.placement,m=Je(g),y=c||(m!==g&&p?function(e){if(Je(e)===_e)return[];var t=bt(e);return[Et(e),t,Et(t)]}(g):[bt(g)]),b=[g].concat(y).reduce(function(e,n){return e.concat(Je(n)===_e?Dt(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)},[]),w=t.rects.reference,E=t.rects.popper,P=new Map,O=!0,x=b[0],L=0;L<b.length;L++){var A=b[L],k=Je(A),j=pt(A)===Ie,C=[Ce,Se].indexOf(k)>=0,S=C?\"width\":\"height\",D=St(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),T=C?j?De:Te:j?Se:Ce;w[S]>E[S]&&(T=bt(T));var _=bt(T),q=[];if(o&&q.push(D[k]<=0),a&&q.push(D[T]<=0,D[_]<=0),q.every(function(e){return e})){x=A,O=!1;break}P.set(A,q)}if(O)for(var I=function(e){var t=b.find(function(t){var n=P.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return x=t,\"break\"},M=p?3:1;M>0&&\"break\"!==I(M);M--);t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:[\"offset\"],data:{_skip:!1}};function _t(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qt(e){return[Ce,De,Se,Te].some(function(t){return e[t]>=0})}function It(e,t,n){void 0===n&&(n=!1);var r,i,o=Ge(t),s=Ge(t)&&function(e){var t=e.getBoundingClientRect(),n=Qe(t.width)/e.offsetWidth||1,r=Qe(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=st(t),c=tt(e,s,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&((\"body\"!==He(t)||xt(a))&&(l=(r=t)!==ze(r)&&Ge(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Pt(r)),Ge(t)?((u=tt(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Ot(a))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function Mt(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}var $t={placement:\"bottom\",modifiers:[],strategy:\"absolute\"};function Rt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&\"function\"==typeof e.getBoundingClientRect)})}function Nt(e){void 0===e&&(e={});var t=e.defaultModifiers,n=void 0===t?[]:t,r=e.defaultOptions,i=void 0===r?$t:r;return function(e,t,r){void 0===r&&(r=i);var o,s,a={placement:\"bottom\",orderedModifiers:[],options:Object.assign({},$t,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(r){var o=\"function\"==typeof r?r(a.options):r;d(),a.options=Object.assign({},i,a.options,o),a.scrollParents={reference:Ke(e)?At(e):e.contextElement?At(e.contextElement):[],popper:At(t)};var s,l,f=function(e){var t=Mt(e);return We.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((s=[].concat(n,a.options.modifiers),l=s.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(l).map(function(e){return l[e]})));return a.orderedModifiers=f.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.options,n=e.effect;if(\"function\"==typeof n){var r=n({state:a,name:e.name,instance:u,options:void 0===t?{}:t});c.push(r||function(){})}}),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(Rt(t,n)){a.rects={reference:It(t,lt(n),\"fixed\"===a.options.strategy),popper:nt(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options;\"function\"==typeof o&&(a=o({state:a,options:void 0===s?{}:s,name:i.name,instance:u})||a)}else a.reset=!1,r=-1}}},update:(o=function(){return new Promise(function(e){u.forceUpdate(),e(a)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(o())})})),s}),destroy:function(){d(),l=!0}};if(!Rt(e,t))return u;function d(){c.forEach(function(e){return e()}),c=[]}return u.setOptions(r).then(function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)}),u}}var Bt=/*#__PURE__*/Nt({defaultModifiers:[{name:\"eventListeners\",enabled:!0,phase:\"write\",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,c=ze(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(e){e.addEventListener(\"scroll\",n.update,mt)}),a&&c.addEventListener(\"resize\",n.update,mt),function(){o&&l.forEach(function(e){e.removeEventListener(\"scroll\",n.update,mt)}),a&&c.removeEventListener(\"resize\",n.update,mt)}},data:{}},{name:\"popperOffsets\",enabled:!0,phase:\"read\",fn:function(e){var t=e.state;t.modifiersData[e.name]=Ct({reference:t.rects.reference,element:t.rects.popper,strategy:\"absolute\",placement:t.placement})},data:{}},{name:\"computeStyles\",enabled:!0,phase:\"beforeWrite\",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,l={placement:Je(t.placement),variation:pt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:\"fixed\"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gt(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gt(Object.assign({},l,{offsets:t.modifiersData.arrow,position:\"absolute\",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{\"data-popper-placement\":t.placement})},data:{}},{name:\"applyStyles\",enabled:!0,phase:\"write\",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Ge(i)&&He(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?\"\":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:\"0\",top:\"0\",margin:\"0\"},arrow:{position:\"absolute\"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]=\"\",e},{});Ge(r)&&He(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:[\"computeStyles\"]},{name:\"offset\",enabled:!0,phase:\"main\",requires:[\"popperOffsets\"],fn:function(e){var t=e.state,n=e.name,r=e.options.offset,i=void 0===r?[0,0]:r,o=Fe.reduce(function(e,n){return e[n]=function(e,t,n){var r=Je(e),i=[Te,Ce].indexOf(r)>=0?-1:1,o=\"function\"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Te,De].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e},{}),s=o[t.placement],a=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s.x,t.modifiersData.popperOffsets.y+=a),t.modifiersData[n]=o}},Tt,{name:\"preventOverflow\",enabled:!0,phase:\"main\",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,c=n.tether,l=void 0===c||c,u=n.tetherOffset,d=void 0===u?0:u,f=St(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),h=Je(t.placement),p=pt(t.placement),v=!p,g=ut(h),m=\"x\"===g?\"y\":\"x\",y=t.modifiersData.popperOffsets,b=t.rects.reference,w=t.rects.popper,E=\"function\"==typeof d?d(Object.assign({},t.rects,{placement:t.placement})):d,P=\"number\"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(y){if(o){var L,A=\"y\"===g?Ce:Te,k=\"y\"===g?Se:De,j=\"y\"===g?\"height\":\"width\",C=y[g],S=C+f[A],D=C-f[k],T=l?-w[j]/2:0,_=p===Ie?b[j]:w[j],q=p===Ie?-w[j]:-b[j],I=t.elements.arrow,M=l&&I?nt(I):{width:0,height:0},$=t.modifiersData[\"arrow#persistent\"]?t.modifiersData[\"arrow#persistent\"].padding:{top:0,right:0,bottom:0,left:0},R=$[A],N=$[k],B=dt(0,b[j],M[j]),V=v?b[j]/2-T-B-R-P.mainAxis:_-B-R-P.mainAxis,F=v?-b[j]/2+T+B+N+P.mainAxis:q+B+N+P.mainAxis,W=t.elements.arrow&&lt(t.elements.arrow),H=null!=(L=null==O?void 0:O[g])?L:0,z=C+F-H,K=dt(l?Ye(S,C+V-H-(W?\"y\"===g?W.clientTop||0:W.clientLeft||0:0)):S,C,l?Xe(D,z):D);y[g]=K,x[g]=K-C}if(a){var G,U=y[m],J=\"y\"===m?\"height\":\"width\",X=U+f[\"x\"===g?Ce:Te],Y=U-f[\"x\"===g?Se:De],Q=-1!==[Ce,Te].indexOf(h),Z=null!=(G=null==O?void 0:O[m])?G:0,ee=Q?X:U-b[J]-w[J]-Z+P.altAxis,te=Q?U+b[J]+w[J]-Z-P.altAxis:Y,ne=l&&Q?function(e,t,n){var r=dt(e,t,n);return r>n?n:r}(ee,U,te):dt(l?ee:X,U,l?te:Y);y[m]=ne,x[m]=ne-U}t.modifiersData[r]=x}},requiresIfExists:[\"offset\"]},{name:\"arrow\",enabled:!0,phase:\"main\",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Je(n.placement),c=ut(a),l=[Te,De].indexOf(a)>=0?\"height\":\"width\";if(o&&s){var u=function(e,t){return ft(\"number\"!=typeof(e=\"function\"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ht(e,qe))}(i.padding,n),d=nt(o),f=\"y\"===c?Ce:Te,h=\"y\"===c?Se:De,p=n.rects.reference[l]+n.rects.reference[c]-s[c]-n.rects.popper[l],v=s[c]-n.rects.reference[c],g=lt(o),m=g?\"y\"===c?g.clientHeight||0:g.clientWidth||0:0,y=m/2-d[l]/2+(p/2-v/2),b=dt(u[f],y,m-d[l]-u[h]);n.modifiersData[r]=((t={})[c]=b,t.centerOffset=b-y,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?\"[data-popper-arrow]\":n;null!=r&&(\"string\"!=typeof r||(r=t.elements.popper.querySelector(r)))&&rt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:[\"popperOffsets\"],requiresIfExists:[\"preventOverflow\"]},{name:\"hide\",enabled:!0,phase:\"main\",requiresIfExists:[\"preventOverflow\"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=St(t,{elementContext:\"reference\"}),a=St(t,{altBoundary:!0}),c=_t(s,r),l=_t(a,i,o),u=qt(c),d=qt(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{\"data-popper-reference-hidden\":u,\"data-popper-escaped\":d})}}]}),Vt=function(e){try{var t=this;if(!e)return Promise.resolve(t.collection);var n=t.collection.findIndex(function(t){return t.id===e.id});if(n>=0){var r=t.collection[n];\"opened\"===r.state&&r.close(),r.popper.destroy(),Ft(r),Object.getOwnPropertyNames(r).forEach(function(e){delete r[e]}),t.collection.splice(n,1)}return Promise.resolve(t.collection)}catch(e){return Promise.reject(e)}};function Ft(e){return e.__eventListeners&&(e.__eventListeners.forEach(function(t){t.el.forEach(function(n){t.type.forEach(function(r){e[n].removeEventListener(r,t.listener,!1)})})}),delete e.__eventListeners),e}var Wt=function(e){try{var t=this,n=we.call(t,e);return n.el.classList.add(t.settings.stateActive),n.trigger.hasAttribute(\"aria-controls\")&&n.trigger.setAttribute(\"aria-expanded\",\"true\"),n.config=ye(n.el,t.settings),n.popper.setOptions({placement:n.config.placement,modifiers:[{name:\"eventListeners\",enabled:!0}].concat((r=n.config,[{name:\"offset\",options:{offset:[0,parseInt(r.offset,10)]}},{name:\"preventOverflow\",options:{padding:be(r[\"overflow-padding\"])}},{name:\"flip\",options:{padding:be(r[\"flip-padding\"])}},{name:\"arrow\",options:{element:r[\"arrow-element\"],padding:be(r[\"arrow-padding\"])}}]))}),n.popper.update(),n.state=\"opened\",Promise.resolve(n)}catch(e){return Promise.reject(e)}var r},Ht=function(e,t){try{var n=this;Vt.call(n,e);var r=n,i={open:function(){return Wt.call(r,this)},close:function(){return xe.call(r,this)},deregister:function(){return Vt.call(r,this)}},s=o({id:e.id,state:\"closed\",el:e,trigger:t,popper:Bt(t,e),config:ye(e,n.settings)},i);s.trigger.hasAttribute(\"aria-controls\")&&s.trigger.setAttribute(\"aria-expanded\",\"false\"),zt.call(n,s),n.collection.push(s);var a=function(){if(s.el.classList.contains(n.settings.stateActive))return Promise.resolve(s.open()).then(function(){je.call(n,s)})}();return Promise.resolve(a&&a.then?a.then(function(){return s}):s)}catch(e){return Promise.reject(e)}};function zt(e){return e.__eventListeners||(\"hover\"===e.config.event?(e.__eventListeners=[{el:[\"trigger\"],type:[\"mouseenter\",\"focus\"],listener:Wt.bind(this,e)},{el:[\"el\",\"trigger\"],type:[\"mouseleave\",\"focusout\"],listener:Le.bind(this,e)}],e.__eventListeners.forEach(function(t){t.el.forEach(function(n){t.type.forEach(function(r){e[n].addEventListener(r,t.listener,!1)})})})):(e.__eventListeners=[{el:[\"trigger\"],type:[\"click\"],listener:Ae.bind(this,e)}],e.__eventListeners.forEach(function(t){t.el.forEach(function(n){t.type.forEach(function(r){e[n].addEventListener(r,t.listener,!1)})})}))),e}var Kt=/*#__PURE__*/n(\"handleKeydown\"),Gt=/*#__PURE__*/function(t){function n(n){var r;return r=t.call(this)||this,Object.defineProperty(r,Kt,{writable:!0,value:void 0}),r.defaults=me,r.settings=o({},r.defaults,n),r.trigger=null,e(r,Kt)[Kt]=ke.bind(r),r.settings.autoInit&&r.init(),r}s(n,t);var r=n.prototype;return r.init=function(e){try{var t=this;e&&(t.settings=o({},t.settings,e));var n=document.querySelectorAll(t.settings.selectorPopover);return Promise.resolve(t.registerCollection(n)).then(function(){return t.settings.eventListeners&&t.initEventListeners(!1),t})}catch(e){return Promise.reject(e)}},r.destroy=function(){try{var e=this;return e.trigger=null,Promise.resolve(e.deregisterCollection()).then(function(){return e.settings.eventListeners&&e.destroyEventListeners(!1),e})}catch(e){return Promise.reject(e)}},r.initEventListeners=function(t){var n=this;void 0===t&&(t=!0),t&&this.collection.forEach(function(e){zt.call(n,e)}),document.addEventListener(\"keydown\",e(this,Kt)[Kt],!1)},r.destroyEventListeners=function(t){void 0===t&&(t=!0),t&&this.collection.forEach(function(e){Ft(e)}),document.removeEventListener(\"keydown\",e(this,Kt)[Kt],!1)},r.register=function(e){var t=Pe.call(this,e);return t.error?Promise.reject(t.error):Ht.call(this,t.popover,t.trigger)},r.deregister=function(e){var t=this.get(Ee.call(this,e));return Vt.call(this,t)},r.open=function(e){return Wt.call(this,e)},r.close=function(e){return xe.call(this,e)},n}(p);export{_ as Checkbox,ee as Drawer,ge as Modal,Gt as Popover,D as core};\n//# sourceMappingURL=scripts.esm.js.map\n","function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var e={autoInit:!1,dataScroll:\"scroll-stash\",dataAnchor:\"scroll-stash-anchor\",selectorAnchor:\"\",selectorAnchorParent:\"\",selectorTopElem:\"\",selectorBotElem:\"\",alignment:\"nearest\",behavior:\"auto\",anchorPadding:16,saveKey:\"ScrollStash\",throttleDelay:100,customEventPrefix:\"scroll-stash:\"},r=function(t,e,r){var n=r.anchorPadding;if(r.selectorTopElem){var s=t.querySelector(r.selectorTopElem);s&&(n+=s.offsetHeight)}return e.offsetTop-n},n=function(t,e,r){var n=r.anchorPadding;if(r.selectorBotElem){var s=t.querySelector(r.selectorBotElem);s&&(n+=s.offsetHeight)}return e.offsetTop-(t.offsetHeight-(e.offsetHeight+n))},s=function(t,e){var r=t.getAttribute(\"data-\"+e.dataAnchor);if(\"false\"==r||\"ignore\"==r)return null;if(r&&t.querySelector(r))return t.querySelector(r);var n=e.selectorAnchor?t.querySelector(e.selectorAnchor):null;if(n&&e.selectorAnchorParent){var s=n.closest(e.selectorAnchorParent);if(s)return s}return n||null},o=function(t,e,o){var a=s(t,o);if(a){var i=function(t,e,s){var o=function(t,e,s){var o=r(t,e,s),a=n(t,e,s);return!(t.scrollTop>o||t.scrollTop<a)}(t,e,s);switch(s.alignment){case\"start\":return!o&&r(t,e,s);case\"center\":return!o&&function(t,e,s){var o=r(t,e,s),a=n(t,e,s);return a+(o-a)/2}(t,e,s);case\"end\":return!o&&n(t,e,s);case\"nearest\":return function(t,e,s){var o=r(t,e,s),a=n(t,e,s);return t.scrollTop>o?o:t.scrollTop<a&&a}(t,e,s);default:return!1}}(t,a,o);return i?(t.scroll({top:i,behavior:e=e||o.behavior}),t.dispatchEvent(new CustomEvent(o.customEventPrefix+\"anchor\",{bubbles:!0,detail:{scrolled:{value:i,behavior:e},key:t.getAttribute(\"data-\"+o.dataScroll)}})),{scrolled:{value:i,behavior:e},msg:\"Anchor was scrolled into view\"}):{scrolled:!1,msg:\"Anchor is already in view\"}}return{scrolled:!1,msg:\"Anchor was not found\"}},a=function(t){var e={};return document.querySelectorAll(\"[data-\"+t.dataScroll+\"]\").forEach(function(r){var n=r.getAttribute(\"data-\"+t.dataScroll);n&&(e[n]=r.scrollTop)}),localStorage.setItem(t.saveKey,JSON.stringify(e)),document.dispatchEvent(new CustomEvent(t.customEventPrefix+\"saved\",{bubbles:!0,detail:{state:e}})),e},i=function(){function r(r){this.settings=t({},e,r),this.state={},this.scrolls=[],this.ticking=!1,this.__handler=this.handler.bind(this),this.settings.autoInit&&this.init()}var n=r.prototype;return n.init=function(e){var r=this;void 0===e&&(e=null),e&&(this.settings=t({},this.settings,e)),this.state=function(t){if(localStorage.getItem(t.saveKey)){var e=JSON.parse(localStorage.getItem(t.saveKey));return Object.keys(e).forEach(function(r){var n=document.querySelector(\"[data-\"+t.dataScroll+'=\"'+r+'\"]');n&&(n.scrollTop=e[r])}),document.dispatchEvent(new CustomEvent(t.customEventPrefix+\"applied\",{bubbles:!0,detail:{state:e}})),e}return{}}(this.settings),this.state=Object.keys(this.state).length?this.state:a(this.settings),this.scrolls=document.querySelectorAll(\"[data-\"+this.settings.dataScroll+\"]\"),this.scrolls.forEach(function(t){t.addEventListener(\"scroll\",r.__handler,!1),o(t,!1,r.settings)})},n.destroy=function(){var t=this;this.scrolls.forEach(function(e){e.removeEventListener(\"scroll\",t.__handler,!1)}),this.state={},this.scrolls=[],localStorage.removeItem(this.settings.saveKey)},n.handler=function(){var t=this;this.ticking||(this.ticking=!0,setTimeout(function(){t.state=a(t.settings),t.ticking=!1},this.settings.throttleDelay))},n.anchorGet=function(t){return s(t,this.settings)},n.anchorShow=function(t,e){return o(t,e,this.settings)},r}();export default i;\n//# sourceMappingURL=scripts.esm.js.map\n","'use strict';\n\nvar alphabet;\nvar alphabetIndexMap;\nvar alphabetIndexMapLength = 0;\n\nfunction isNumberCode(code) {\n  return code >= 48 && code <= 57;\n}\n\nfunction naturalCompare(a, b) {\n  var lengthA = (a += '').length;\n  var lengthB = (b += '').length;\n  var aIndex = 0;\n  var bIndex = 0;\n\n  while (aIndex < lengthA && bIndex < lengthB) {\n    var charCodeA = a.charCodeAt(aIndex);\n    var charCodeB = b.charCodeAt(bIndex);\n\n    if (isNumberCode(charCodeA)) {\n      if (!isNumberCode(charCodeB)) {\n        return charCodeA - charCodeB;\n      }\n\n      var numStartA = aIndex;\n      var numStartB = bIndex;\n\n      while (charCodeA === 48 && ++numStartA < lengthA) {\n        charCodeA = a.charCodeAt(numStartA);\n      }\n      while (charCodeB === 48 && ++numStartB < lengthB) {\n        charCodeB = b.charCodeAt(numStartB);\n      }\n\n      var numEndA = numStartA;\n      var numEndB = numStartB;\n\n      while (numEndA < lengthA && isNumberCode(a.charCodeAt(numEndA))) {\n        ++numEndA;\n      }\n      while (numEndB < lengthB && isNumberCode(b.charCodeAt(numEndB))) {\n        ++numEndB;\n      }\n\n      var difference = numEndA - numStartA - numEndB + numStartB; // numA length - numB length\n      if (difference) {\n        return difference;\n      }\n\n      while (numStartA < numEndA) {\n        difference = a.charCodeAt(numStartA++) - b.charCodeAt(numStartB++);\n        if (difference) {\n          return difference;\n        }\n      }\n\n      aIndex = numEndA;\n      bIndex = numEndB;\n      continue;\n    }\n\n    if (charCodeA !== charCodeB) {\n      if (\n        charCodeA < alphabetIndexMapLength &&\n        charCodeB < alphabetIndexMapLength &&\n        alphabetIndexMap[charCodeA] !== -1 &&\n        alphabetIndexMap[charCodeB] !== -1\n      ) {\n        return alphabetIndexMap[charCodeA] - alphabetIndexMap[charCodeB];\n      }\n\n      return charCodeA - charCodeB;\n    }\n\n    ++aIndex;\n    ++bIndex;\n  }\n\n  if (aIndex >= lengthA && bIndex < lengthB && lengthA >= lengthB) {\n    return -1;\n  }\n\n  if (bIndex >= lengthB && aIndex < lengthA && lengthB >= lengthA) {\n    return 1;\n  }\n\n  return lengthA - lengthB;\n}\n\nnaturalCompare.caseInsensitive = naturalCompare.i = function(a, b) {\n  return naturalCompare(('' + a).toLowerCase(), ('' + b).toLowerCase());\n};\n\nObject.defineProperties(naturalCompare, {\n  alphabet: {\n    get: function() {\n      return alphabet;\n    },\n\n    set: function(value) {\n      alphabet = value;\n      alphabetIndexMap = [];\n\n      var i = 0;\n\n      if (alphabet) {\n        for (; i < alphabet.length; i++) {\n          alphabetIndexMap[alphabet.charCodeAt(i)] = i;\n        }\n      }\n\n      alphabetIndexMapLength = alphabetIndexMap.length;\n\n      for (i = 0; i < alphabetIndexMapLength; i++) {\n        if (alphabetIndexMap[i] === undefined) {\n          alphabetIndexMap[i] = -1;\n        }\n      }\n    },\n  },\n});\n\nmodule.exports = naturalCompare;\n","/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    \"use strict\";\n    if (typeof window !== \"undefined\" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function () {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function () {\n            return;\n        };\n        var observeChanges = function () {\n            var observer;\n            window.addEventListener(\"resize\", debouncedCheck, false);\n            window.addEventListener(\"orientationchange\", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function () {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener(\"resize\", debouncedCheck, false);\n                        window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                unobserveChanges = function () {\n                    document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                    window.removeEventListener(\"resize\", debouncedCheck, false);\n                    window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function (url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement(\"a\");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, \"\") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = \"http://www.w3.org/1999/xlink\";\n        checkUseElems = function () {\n            var base;\n            var bcr;\n            var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) { // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n                        if (spec.useEl.hasAttribute(\"href\")) {\n                            spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement(\"x\");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName(\"svg\")[0];\n                    if (svg) {\n                        svg.setAttribute(\"aria-hidden\", \"true\");\n                        svg.style.position = \"absolute\";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = \"hidden\";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName(\"use\");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute(\"href\")\n                        || uses[i].getAttributeNS(xlinkNS, \"href\")\n                        || uses[i].getAttribute(\"xlink:href\");\n                if (href && href.split) {\n                    url = href.split(\"#\");\n                } else {\n                    url = [\"\", \"\"];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute(\"href\")) {\n                        uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open(\"GET\", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = \"\";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var winLoad;\n        winLoad = function () {\n            window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== \"complete\") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener(\"load\", winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            winLoad();\n        }\n    }\n}());\n","/**\n * A cross-browser implementation of getElementsByClass.\n * Heavily based on Dustin Diaz's function: http://dustindiaz.com/getelementsbyclass.\n *\n * Find all elements with class `className` inside `container`.\n * Use `single = true` to increase performance in older browsers\n * when only one element is needed.\n *\n * @param {String} className\n * @param {Element} container\n * @param {Boolean} single\n * @api public\n */\n\nvar getElementsByClassName = function (container, className, single) {\n  if (single) {\n    return container.getElementsByClassName(className)[0]\n  } else {\n    return container.getElementsByClassName(className)\n  }\n}\n\nvar querySelector = function (container, className, single) {\n  className = '.' + className\n  if (single) {\n    return container.querySelector(className)\n  } else {\n    return container.querySelectorAll(className)\n  }\n}\n\nvar polyfill = function (container, className, single) {\n  var classElements = [],\n    tag = '*'\n\n  var els = container.getElementsByTagName(tag)\n  var elsLen = els.length\n  var pattern = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\n  for (var i = 0, j = 0; i < elsLen; i++) {\n    if (pattern.test(els[i].className)) {\n      if (single) {\n        return els[i]\n      } else {\n        classElements[j] = els[i]\n        j++\n      }\n    }\n  }\n  return classElements\n}\n\nmodule.exports = (function () {\n  return function (container, className, single, options) {\n    options = options || {}\n    if ((options.test && options.getElementsByClassName) || (!options.test && document.getElementsByClassName)) {\n      return getElementsByClassName(container, className, single)\n    } else if ((options.test && options.querySelector) || (!options.test && document.querySelector)) {\n      return querySelector(container, className, single)\n    } else {\n      return polyfill(container, className, single)\n    }\n  }\n})()\n","/*\n * Source: https://github.com/segmentio/extend\n */\n\nmodule.exports = function extend(object) {\n  // Takes an unlimited number of extenders.\n  var args = Array.prototype.slice.call(arguments, 1)\n\n  // For each extender, copy their properties on our object.\n  for (var i = 0, source; (source = args[i]); i++) {\n    if (!source) continue\n    for (var property in source) {\n      object[property] = source[property]\n    }\n  }\n\n  return object\n}\n","var indexOf = [].indexOf\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0, il = arr.length; i < il; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1\n}\n","/**\n * Source: https://github.com/timoxley/to-array\n *\n * Convert an array-like object into an `Array`.\n * If `collection` is already an `Array`, then will return a clone of `collection`.\n *\n * @param {Array | Mixed} collection An `Array` or array-like object to convert e.g. `arguments` or `NodeList`\n * @return {Array} Naive conversion of `collection` to a new `Array`.\n * @api public\n */\n\nmodule.exports = function toArray(collection) {\n  if (typeof collection === 'undefined') return []\n  if (collection === null) return [null]\n  if (collection === window) return [window]\n  if (typeof collection === 'string') return [collection]\n  if (isArray(collection)) return collection\n  if (typeof collection.length != 'number') return [collection]\n  if (typeof collection === 'function' && collection instanceof Function) return [collection]\n\n  var arr = [];\n  for (var i = 0, il = collection.length; i < il; i++) {\n    if (Object.prototype.hasOwnProperty.call(collection, i) || i in collection) {\n      arr.push(collection[i])\n    }\n  }\n  if (!arr.length) return []\n  return arr\n}\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]'\n}\n","var bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n  prefix = bind !== 'addEventListener' ? 'on' : '',\n  toArray = require('./to-array')\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el, NodeList, HTMLCollection or Array\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.bind = function (el, type, fn, capture) {\n  el = toArray(el)\n  for (var i = 0, il = el.length; i < il; i++) {\n    el[i][bind](prefix + type, fn, capture || false)\n  }\n}\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el, NodeList, HTMLCollection or Array\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function (el, type, fn, capture) {\n  el = toArray(el)\n  for (var i = 0, il = el.length; i < il; i++) {\n    el[i][unbind](prefix + type, fn, capture || false)\n  }\n}\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * `wait` milliseconds. If `immediate` is true, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @param {Function} fn\n * @param {Integer} wait\n * @param {Boolean} immediate\n * @api public\n */\n\nexports.debounce = function (fn, wait, immediate) {\n  var timeout\n  return wait\n    ? function () {\n        var context = this,\n          args = arguments\n        var later = function () {\n          timeout = null\n          if (!immediate) fn.apply(context, args)\n        }\n        var callNow = immediate && !timeout\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n        if (callNow) fn.apply(context, args)\n      }\n    : fn\n}\n","module.exports = function (s) {\n  s = s === undefined ? '' : s\n  s = s === null ? '' : s\n  s = s.toString()\n  return s\n}\n","/**\n * Module dependencies.\n */\n\nvar index = require('./index-of')\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nmodule.exports = function (el) {\n  return new ClassList(el)\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required')\n  }\n  this.el = el\n  this.list = el.classList\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function (name) {\n  // classList\n  if (this.list) {\n    this.list.add(name)\n    return this\n  }\n\n  // fallback\n  var arr = this.array()\n  var i = index(arr, name)\n  if (!~i) arr.push(name)\n  this.el.className = arr.join(' ')\n  return this\n}\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function (name) {\n  // classList\n  if (this.list) {\n    this.list.remove(name)\n    return this\n  }\n\n  // fallback\n  var arr = this.array()\n  var i = index(arr, name)\n  if (~i) arr.splice(i, 1)\n  this.el.className = arr.join(' ')\n  return this\n}\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function (name, force) {\n  // classList\n  if (this.list) {\n    if ('undefined' !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name) // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name)\n    }\n    return this\n  }\n\n  // fallback\n  if ('undefined' !== typeof force) {\n    if (!force) {\n      this.remove(name)\n    } else {\n      this.add(name)\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name)\n    } else {\n      this.add(name)\n    }\n  }\n\n  return this\n}\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function () {\n  var className = this.el.getAttribute('class') || ''\n  var str = className.replace(/^\\s+|\\s+$/g, '')\n  var arr = str.split(re)\n  if ('' === arr[0]) arr.shift()\n  return arr\n}\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has = ClassList.prototype.contains = function (name) {\n  return this.list ? this.list.contains(name) : !!~index(this.array(), name)\n}\n","/**\n * A cross-browser implementation of getAttribute.\n * Source found here: http://stackoverflow.com/a/3755343/361337 written by Vivin Paliath\n *\n * Return the value for `attr` at `element`.\n *\n * @param {Element} el\n * @param {String} attr\n * @api public\n */\n\nmodule.exports = function (el, attr) {\n  var result = (el.getAttribute && el.getAttribute(attr)) || null\n  if (!result) {\n    var attrs = el.attributes\n    var length = attrs.length\n    for (var i = 0; i < length; i++) {\n      if (attrs[i] !== undefined) {\n        if (attrs[i].nodeName === attr) {\n          result = attrs[i].nodeValue\n        }\n      }\n    }\n  }\n  return result\n}\n","module.exports = function (list) {\n  return function (initValues, element, notCreate) {\n    var item = this\n\n    this._values = {}\n\n    this.found = false // Show if list.searched == true and this.found == true\n    this.filtered = false // Show if list.filtered == true and this.filtered == true\n\n    var init = function (initValues, element, notCreate) {\n      if (element === undefined) {\n        if (notCreate) {\n          item.values(initValues, notCreate)\n        } else {\n          item.values(initValues)\n        }\n      } else {\n        item.elm = element\n        var values = list.templater.get(item, initValues)\n        item.values(values)\n      }\n    }\n\n    this.values = function (newValues, notCreate) {\n      if (newValues !== undefined) {\n        for (var name in newValues) {\n          item._values[name] = newValues[name]\n        }\n        if (notCreate !== true) {\n          list.templater.set(item, item.values())\n        }\n      } else {\n        return item._values\n      }\n    }\n\n    this.show = function () {\n      list.templater.show(item)\n    }\n\n    this.hide = function () {\n      list.templater.hide(item)\n    }\n\n    this.matching = function () {\n      return (\n        (list.filtered && list.searched && item.found && item.filtered) ||\n        (list.filtered && !list.searched && item.filtered) ||\n        (!list.filtered && list.searched && item.found) ||\n        (!list.filtered && !list.searched)\n      )\n    }\n\n    this.visible = function () {\n      return item.elm && item.elm.parentNode == list.list ? true : false\n    }\n\n    init(initValues, element, notCreate)\n  }\n}\n","var Templater = function (list) {\n  var createItem,\n    templater = this\n\n  var init = function () {\n    var itemSource\n\n    if (typeof list.item === 'function') {\n      createItem = function (values) {\n        var item = list.item(values)\n        return getItemSource(item)\n      }\n      return\n    }\n\n    if (typeof list.item === 'string') {\n      if (list.item.indexOf('<') === -1) {\n        itemSource = document.getElementById(list.item)\n      } else {\n        itemSource = getItemSource(list.item)\n      }\n    } else {\n      /* If item source does not exists, use the first item in list as\n      source for new items */\n      itemSource = getFirstListItem()\n    }\n\n    if (!itemSource) {\n      throw new Error(\"The list needs to have at least one item on init otherwise you'll have to add a template.\")\n    }\n\n    itemSource = createCleanTemplateItem(itemSource, list.valueNames)\n\n    createItem = function () {\n      return itemSource.cloneNode(true)\n    }\n  }\n\n  var createCleanTemplateItem = function (templateNode, valueNames) {\n    var el = templateNode.cloneNode(true)\n    el.removeAttribute('id')\n\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm = undefined,\n        valueName = valueNames[i]\n      if (valueName.data) {\n        for (var j = 0, jl = valueName.data.length; j < jl; j++) {\n          el.setAttribute('data-' + valueName.data[j], '')\n        }\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(el, valueName.name, true)\n        if (elm) {\n          elm.setAttribute(valueName.attr, '')\n        }\n      } else {\n        elm = list.utils.getByClass(el, valueName, true)\n        if (elm) {\n          elm.innerHTML = ''\n        }\n      }\n    }\n    return el\n  }\n\n  var getFirstListItem = function () {\n    var nodes = list.list.childNodes\n\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        return nodes[i].cloneNode(true)\n      }\n    }\n    return undefined\n  }\n\n  var getItemSource = function (itemHTML) {\n    if (typeof itemHTML !== 'string') return undefined\n    if (/<tr[\\s>]/g.exec(itemHTML)) {\n      var tbody = document.createElement('tbody')\n      tbody.innerHTML = itemHTML\n      return tbody.firstElementChild\n    } else if (itemHTML.indexOf('<') !== -1) {\n      var div = document.createElement('div')\n      div.innerHTML = itemHTML\n      return div.firstElementChild\n    }\n    return undefined\n  }\n\n  var getValueName = function (name) {\n    for (var i = 0, il = list.valueNames.length; i < il; i++) {\n      var valueName = list.valueNames[i]\n      if (valueName.data) {\n        var data = valueName.data\n        for (var j = 0, jl = data.length; j < jl; j++) {\n          if (data[j] === name) {\n            return { data: name }\n          }\n        }\n      } else if (valueName.attr && valueName.name && valueName.name == name) {\n        return valueName\n      } else if (valueName === name) {\n        return name\n      }\n    }\n  }\n\n  var setValue = function (item, name, value) {\n    var elm = undefined,\n      valueName = getValueName(name)\n    if (!valueName) return\n    if (valueName.data) {\n      item.elm.setAttribute('data-' + valueName.data, value)\n    } else if (valueName.attr && valueName.name) {\n      elm = list.utils.getByClass(item.elm, valueName.name, true)\n      if (elm) {\n        elm.setAttribute(valueName.attr, value)\n      }\n    } else {\n      elm = list.utils.getByClass(item.elm, valueName, true)\n      if (elm) {\n        elm.innerHTML = value\n      }\n    }\n  }\n\n  this.get = function (item, valueNames) {\n    templater.create(item)\n    var values = {}\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm = undefined,\n        valueName = valueNames[i]\n      if (valueName.data) {\n        for (var j = 0, jl = valueName.data.length; j < jl; j++) {\n          values[valueName.data[j]] = list.utils.getAttribute(item.elm, 'data-' + valueName.data[j])\n        }\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(item.elm, valueName.name, true)\n        values[valueName.name] = elm ? list.utils.getAttribute(elm, valueName.attr) : ''\n      } else {\n        elm = list.utils.getByClass(item.elm, valueName, true)\n        values[valueName] = elm ? elm.innerHTML : ''\n      }\n    }\n    return values\n  }\n\n  this.set = function (item, values) {\n    if (!templater.create(item)) {\n      for (var v in values) {\n        if (values.hasOwnProperty(v)) {\n          setValue(item, v, values[v])\n        }\n      }\n    }\n  }\n\n  this.create = function (item) {\n    if (item.elm !== undefined) {\n      return false\n    }\n    item.elm = createItem(item.values())\n    templater.set(item, item.values())\n    return true\n  }\n  this.remove = function (item) {\n    if (item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm)\n    }\n  }\n  this.show = function (item) {\n    templater.create(item)\n    list.list.appendChild(item.elm)\n  }\n  this.hide = function (item) {\n    if (item.elm !== undefined && item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm)\n    }\n  }\n  this.clear = function () {\n    /* .innerHTML = ''; fucks up IE */\n    if (list.list.hasChildNodes()) {\n      while (list.list.childNodes.length >= 1) {\n        list.list.removeChild(list.list.firstChild)\n      }\n    }\n  }\n\n  init()\n}\n\nmodule.exports = function (list) {\n  return new Templater(list)\n}\n","var naturalSort = require('string-natural-compare'),\n  getByClass = require('./utils/get-by-class'),\n  extend = require('./utils/extend'),\n  indexOf = require('./utils/index-of'),\n  events = require('./utils/events'),\n  toString = require('./utils/to-string'),\n  classes = require('./utils/classes'),\n  getAttribute = require('./utils/get-attribute'),\n  toArray = require('./utils/to-array')\n\nmodule.exports = function (id, options, values) {\n  var self = this,\n    init,\n    Item = require('./item')(self),\n    addAsync = require('./add-async')(self),\n    initPagination = require('./pagination')(self)\n\n  init = {\n    start: function () {\n      self.listClass = 'list'\n      self.searchClass = 'search'\n      self.sortClass = 'sort'\n      self.page = 10000\n      self.i = 1\n      self.items = []\n      self.visibleItems = []\n      self.matchingItems = []\n      self.searched = false\n      self.filtered = false\n      self.searchColumns = undefined\n      self.searchDelay = 0\n      self.handlers = { updated: [] }\n      self.valueNames = []\n      self.utils = {\n        getByClass: getByClass,\n        extend: extend,\n        indexOf: indexOf,\n        events: events,\n        toString: toString,\n        naturalSort: naturalSort,\n        classes: classes,\n        getAttribute: getAttribute,\n        toArray: toArray,\n      }\n\n      self.utils.extend(self, options)\n\n      self.listContainer = typeof id === 'string' ? document.getElementById(id) : id\n      if (!self.listContainer) {\n        return\n      }\n      self.list = getByClass(self.listContainer, self.listClass, true)\n\n      self.parse = require('./parse')(self)\n      self.templater = require('./templater')(self)\n      self.search = require('./search')(self)\n      self.filter = require('./filter')(self)\n      self.sort = require('./sort')(self)\n      self.fuzzySearch = require('./fuzzy-search')(self, options.fuzzySearch)\n\n      this.handlers()\n      this.items()\n      this.pagination()\n\n      self.update()\n    },\n    handlers: function () {\n      for (var handler in self.handlers) {\n        if (self[handler] && self.handlers.hasOwnProperty(handler)) {\n          self.on(handler, self[handler])\n        }\n      }\n    },\n    items: function () {\n      self.parse(self.list)\n      if (values !== undefined) {\n        self.add(values)\n      }\n    },\n    pagination: function () {\n      if (options.pagination !== undefined) {\n        if (options.pagination === true) {\n          options.pagination = [{}]\n        }\n        if (options.pagination[0] === undefined) {\n          options.pagination = [options.pagination]\n        }\n        for (var i = 0, il = options.pagination.length; i < il; i++) {\n          initPagination(options.pagination[i])\n        }\n      }\n    },\n  }\n\n  /*\n   * Re-parse the List, use if html have changed\n   */\n  this.reIndex = function () {\n    self.items = []\n    self.visibleItems = []\n    self.matchingItems = []\n    self.searched = false\n    self.filtered = false\n    self.parse(self.list)\n  }\n\n  this.toJSON = function () {\n    var json = []\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      json.push(self.items[i].values())\n    }\n    return json\n  }\n\n  /*\n   * Add object to list\n   */\n  this.add = function (values, callback) {\n    if (values.length === 0) {\n      return\n    }\n    if (callback) {\n      addAsync(values.slice(0), callback)\n      return\n    }\n    var added = [],\n      notCreate = false\n    if (values[0] === undefined) {\n      values = [values]\n    }\n    for (var i = 0, il = values.length; i < il; i++) {\n      var item = null\n      notCreate = self.items.length > self.page ? true : false\n      item = new Item(values[i], undefined, notCreate)\n      self.items.push(item)\n      added.push(item)\n    }\n    self.update()\n    return added\n  }\n\n  this.show = function (i, page) {\n    this.i = i\n    this.page = page\n    self.update()\n    return self\n  }\n\n  /* Removes object from list.\n   * Loops through the list and removes objects where\n   * property \"valuename\" === value\n   */\n  this.remove = function (valueName, value, options) {\n    var found = 0\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      if (self.items[i].values()[valueName] == value) {\n        self.templater.remove(self.items[i], options)\n        self.items.splice(i, 1)\n        il--\n        i--\n        found++\n      }\n    }\n    self.update()\n    return found\n  }\n\n  /* Gets the objects in the list which\n   * property \"valueName\" === value\n   */\n  this.get = function (valueName, value) {\n    var matchedItems = []\n    for (var i = 0, il = self.items.length; i < il; i++) {\n      var item = self.items[i]\n      if (item.values()[valueName] == value) {\n        matchedItems.push(item)\n      }\n    }\n    return matchedItems\n  }\n\n  /*\n   * Get size of the list\n   */\n  this.size = function () {\n    return self.items.length\n  }\n\n  /*\n   * Removes all items from the list\n   */\n  this.clear = function () {\n    self.templater.clear()\n    self.items = []\n    return self\n  }\n\n  this.on = function (event, callback) {\n    self.handlers[event].push(callback)\n    return self\n  }\n\n  this.off = function (event, callback) {\n    var e = self.handlers[event]\n    var index = indexOf(e, callback)\n    if (index > -1) {\n      e.splice(index, 1)\n    }\n    return self\n  }\n\n  this.trigger = function (event) {\n    var i = self.handlers[event].length\n    while (i--) {\n      self.handlers[event][i](self)\n    }\n    return self\n  }\n\n  this.reset = {\n    filter: function () {\n      var is = self.items,\n        il = is.length\n      while (il--) {\n        is[il].filtered = false\n      }\n      return self\n    },\n    search: function () {\n      var is = self.items,\n        il = is.length\n      while (il--) {\n        is[il].found = false\n      }\n      return self\n    },\n  }\n\n  this.update = function () {\n    var is = self.items,\n      il = is.length\n\n    self.visibleItems = []\n    self.matchingItems = []\n    self.templater.clear()\n    for (var i = 0; i < il; i++) {\n      if (is[i].matching() && self.matchingItems.length + 1 >= self.i && self.visibleItems.length < self.page) {\n        is[i].show()\n        self.visibleItems.push(is[i])\n        self.matchingItems.push(is[i])\n      } else if (is[i].matching()) {\n        self.matchingItems.push(is[i])\n        is[i].hide()\n      } else {\n        is[i].hide()\n      }\n    }\n    self.trigger('updated')\n    return self\n  }\n\n  init.start()\n}\n","module.exports = function (list) {\n  var addAsync = function (values, callback, items) {\n    var valuesToAdd = values.splice(0, 50)\n    items = items || []\n    items = items.concat(list.add(valuesToAdd))\n    if (values.length > 0) {\n      setTimeout(function () {\n        addAsync(values, callback, items)\n      }, 1)\n    } else {\n      list.update()\n      callback(items)\n    }\n  }\n  return addAsync\n}\n","var classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  List = require('./index')\n\nmodule.exports = function (list) {\n  var isHidden = false\n\n  var refresh = function (pagingList, options) {\n    if (list.page < 1) {\n      list.listContainer.style.display = 'none'\n      isHidden = true\n      return\n    } else if (isHidden) {\n      list.listContainer.style.display = 'block'\n    }\n\n    var item,\n      l = list.matchingItems.length,\n      index = list.i,\n      page = list.page,\n      pages = Math.ceil(l / page),\n      currentPage = Math.ceil(index / page),\n      innerWindow = options.innerWindow || 2,\n      left = options.left || options.outerWindow || 0,\n      right = options.right || options.outerWindow || 0\n\n    right = pages - right\n    pagingList.clear()\n    for (var i = 1; i <= pages; i++) {\n      var className = currentPage === i ? 'active' : ''\n\n      //console.log(i, left, right, currentPage, (currentPage - innerWindow), (currentPage + innerWindow), className);\n\n      if (is.number(i, left, right, currentPage, innerWindow)) {\n        item = pagingList.add({\n          page: i,\n          dotted: false,\n        })[0]\n        if (className) {\n          classes(item.elm).add(className)\n        }\n        item.elm.firstChild.setAttribute('data-i', i)\n        item.elm.firstChild.setAttribute('data-page', page)\n      } else if (is.dotted(pagingList, i, left, right, currentPage, innerWindow, pagingList.size())) {\n        item = pagingList.add({\n          page: '...',\n          dotted: true,\n        })[0]\n        classes(item.elm).add('disabled')\n      }\n    }\n  }\n\n  var is = {\n    number: function (i, left, right, currentPage, innerWindow) {\n      return this.left(i, left) || this.right(i, right) || this.innerWindow(i, currentPage, innerWindow)\n    },\n    left: function (i, left) {\n      return i <= left\n    },\n    right: function (i, right) {\n      return i > right\n    },\n    innerWindow: function (i, currentPage, innerWindow) {\n      return i >= currentPage - innerWindow && i <= currentPage + innerWindow\n    },\n    dotted: function (pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      return (\n        this.dottedLeft(pagingList, i, left, right, currentPage, innerWindow) ||\n        this.dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem)\n      )\n    },\n    dottedLeft: function (pagingList, i, left, right, currentPage, innerWindow) {\n      return i == left + 1 && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right)\n    },\n    dottedRight: function (pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      if (pagingList.items[currentPageItem - 1].values().dotted) {\n        return false\n      } else {\n        return i == right && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right)\n      }\n    },\n  }\n\n  return function (options) {\n    var pagingList = new List(list.listContainer.id, {\n      listClass: options.paginationClass || 'pagination',\n      item: options.item || \"<li><a class='page' href='#'></a></li>\",\n      valueNames: ['page', 'dotted'],\n      searchClass: 'pagination-search-that-is-not-supposed-to-exist',\n      sortClass: 'pagination-sort-that-is-not-supposed-to-exist',\n    })\n\n    events.bind(pagingList.listContainer, 'click', function (e) {\n      var target = e.target || e.srcElement,\n        page = list.utils.getAttribute(target, 'data-page'),\n        i = list.utils.getAttribute(target, 'data-i')\n      if (i) {\n        list.show((i - 1) * page + 1, page)\n      }\n    })\n\n    list.on('updated', function () {\n      refresh(pagingList, options)\n    })\n    refresh(pagingList, options)\n  }\n}\n","module.exports = function (list) {\n  var Item = require('./item')(list)\n\n  var getChildren = function (parent) {\n    var nodes = parent.childNodes,\n      items = []\n    for (var i = 0, il = nodes.length; i < il; i++) {\n      // Only textnodes have a data attribute\n      if (nodes[i].data === undefined) {\n        items.push(nodes[i])\n      }\n    }\n    return items\n  }\n\n  var parse = function (itemElements, valueNames) {\n    for (var i = 0, il = itemElements.length; i < il; i++) {\n      list.items.push(new Item(valueNames, itemElements[i]))\n    }\n  }\n  var parseAsync = function (itemElements, valueNames) {\n    var itemsToIndex = itemElements.splice(0, 50) // TODO: If < 100 items, what happens in IE etc?\n    parse(itemsToIndex, valueNames)\n    if (itemElements.length > 0) {\n      setTimeout(function () {\n        parseAsync(itemElements, valueNames)\n      }, 1)\n    } else {\n      list.update()\n      list.trigger('parseComplete')\n    }\n  }\n\n  list.handlers.parseComplete = list.handlers.parseComplete || []\n\n  return function () {\n    var itemsToIndex = getChildren(list.list),\n      valueNames = list.valueNames\n\n    if (list.indexAsync) {\n      parseAsync(itemsToIndex, valueNames)\n    } else {\n      parse(itemsToIndex, valueNames)\n    }\n  }\n}\n","module.exports = function (list) {\n  var item, text, columns, searchString, customSearch\n\n  var prepare = {\n    resetList: function () {\n      list.i = 1\n      list.templater.clear()\n      customSearch = undefined\n    },\n    setOptions: function (args) {\n      if (args.length == 2 && args[1] instanceof Array) {\n        columns = args[1]\n      } else if (args.length == 2 && typeof args[1] == 'function') {\n        columns = undefined\n        customSearch = args[1]\n      } else if (args.length == 3) {\n        columns = args[1]\n        customSearch = args[2]\n      } else {\n        columns = undefined\n      }\n    },\n    setColumns: function () {\n      if (list.items.length === 0) return\n      if (columns === undefined) {\n        columns = list.searchColumns === undefined ? prepare.toArray(list.items[0].values()) : list.searchColumns\n      }\n    },\n    setSearchString: function (s) {\n      s = list.utils.toString(s).toLowerCase()\n      s = s.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, '\\\\$&') // Escape regular expression characters\n      searchString = s\n    },\n    toArray: function (values) {\n      var tmpColumn = []\n      for (var name in values) {\n        tmpColumn.push(name)\n      }\n      return tmpColumn\n    },\n  }\n  var search = {\n    list: function () {\n      // Extract quoted phrases \"word1 word2\" from original searchString\n      // searchString is converted to lowercase by List.js\n      var words = [],\n        phrase,\n        ss = searchString\n      while ((phrase = ss.match(/\"([^\"]+)\"/)) !== null) {\n        words.push(phrase[1])\n        ss = ss.substring(0, phrase.index) + ss.substring(phrase.index + phrase[0].length)\n      }\n      // Get remaining space-separated words (if any)\n      ss = ss.trim()\n      if (ss.length) words = words.concat(ss.split(/\\s+/))\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        var item = list.items[k]\n        item.found = false\n        if (!words.length) continue\n        for (var i = 0, il = words.length; i < il; i++) {\n          var word_found = false\n          for (var j = 0, jl = columns.length; j < jl; j++) {\n            var values = item.values(),\n              column = columns[j]\n            if (values.hasOwnProperty(column) && values[column] !== undefined && values[column] !== null) {\n              var text = typeof values[column] !== 'string' ? values[column].toString() : values[column]\n              if (text.toLowerCase().indexOf(words[i]) !== -1) {\n                // word found, so no need to check it against any other columns\n                word_found = true\n                break\n              }\n            }\n          }\n          // this word not found? no need to check any other words, the item cannot match\n          if (!word_found) break\n        }\n        item.found = word_found\n      }\n    },\n    // Removed search.item() and search.values()\n    reset: function () {\n      list.reset.search()\n      list.searched = false\n    },\n  }\n\n  var searchMethod = function (str) {\n    list.trigger('searchStart')\n\n    prepare.resetList()\n    prepare.setSearchString(str)\n    prepare.setOptions(arguments) // str, cols|searchFunction, searchFunction\n    prepare.setColumns()\n\n    if (searchString === '') {\n      search.reset()\n    } else {\n      list.searched = true\n      if (customSearch) {\n        customSearch(searchString, columns)\n      } else {\n        search.list()\n      }\n    }\n\n    list.update()\n    list.trigger('searchComplete')\n    return list.visibleItems\n  }\n\n  list.handlers.searchStart = list.handlers.searchStart || []\n  list.handlers.searchComplete = list.handlers.searchComplete || []\n\n  list.utils.events.bind(\n    list.utils.getByClass(list.listContainer, list.searchClass),\n    'keyup',\n    list.utils.events.debounce(function (e) {\n      var target = e.target || e.srcElement, // IE have srcElement\n        alreadyCleared = target.value === '' && !list.searched\n      if (!alreadyCleared) {\n        // If oninput already have resetted the list, do nothing\n        searchMethod(target.value)\n      }\n    }, list.searchDelay)\n  )\n\n  // Used to detect click on HTML5 clear button\n  list.utils.events.bind(list.utils.getByClass(list.listContainer, list.searchClass), 'input', function (e) {\n    var target = e.target || e.srcElement\n    if (target.value === '') {\n      searchMethod('')\n    }\n  })\n\n  return searchMethod\n}\n","module.exports = function (list) {\n  // Add handlers\n  list.handlers.filterStart = list.handlers.filterStart || []\n  list.handlers.filterComplete = list.handlers.filterComplete || []\n\n  return function (filterFunction) {\n    list.trigger('filterStart')\n    list.i = 1 // Reset paging\n    list.reset.filter()\n    if (filterFunction === undefined) {\n      list.filtered = false\n    } else {\n      list.filtered = true\n      var is = list.items\n      for (var i = 0, il = is.length; i < il; i++) {\n        var item = is[i]\n        if (filterFunction(item)) {\n          item.filtered = true\n        } else {\n          item.filtered = false\n        }\n      }\n    }\n    list.update()\n    list.trigger('filterComplete')\n    return list.visibleItems\n  }\n}\n","module.exports = function (list) {\n  var buttons = {\n    els: undefined,\n    clear: function () {\n      for (var i = 0, il = buttons.els.length; i < il; i++) {\n        list.utils.classes(buttons.els[i]).remove('asc')\n        list.utils.classes(buttons.els[i]).remove('desc')\n      }\n    },\n    getOrder: function (btn) {\n      var predefinedOrder = list.utils.getAttribute(btn, 'data-order')\n      if (predefinedOrder == 'asc' || predefinedOrder == 'desc') {\n        return predefinedOrder\n      } else if (list.utils.classes(btn).has('desc')) {\n        return 'asc'\n      } else if (list.utils.classes(btn).has('asc')) {\n        return 'desc'\n      } else {\n        return 'asc'\n      }\n    },\n    getInSensitive: function (btn, options) {\n      var insensitive = list.utils.getAttribute(btn, 'data-insensitive')\n      if (insensitive === 'false') {\n        options.insensitive = false\n      } else {\n        options.insensitive = true\n      }\n    },\n    setOrder: function (options) {\n      for (var i = 0, il = buttons.els.length; i < il; i++) {\n        var btn = buttons.els[i]\n        if (list.utils.getAttribute(btn, 'data-sort') !== options.valueName) {\n          continue\n        }\n        var predefinedOrder = list.utils.getAttribute(btn, 'data-order')\n        if (predefinedOrder == 'asc' || predefinedOrder == 'desc') {\n          if (predefinedOrder == options.order) {\n            list.utils.classes(btn).add(options.order)\n          }\n        } else {\n          list.utils.classes(btn).add(options.order)\n        }\n      }\n    },\n  }\n\n  var sort = function () {\n    list.trigger('sortStart')\n    var options = {}\n\n    var target = arguments[0].currentTarget || arguments[0].srcElement || undefined\n\n    if (target) {\n      options.valueName = list.utils.getAttribute(target, 'data-sort')\n      buttons.getInSensitive(target, options)\n      options.order = buttons.getOrder(target)\n    } else {\n      options = arguments[1] || options\n      options.valueName = arguments[0]\n      options.order = options.order || 'asc'\n      options.insensitive = typeof options.insensitive == 'undefined' ? true : options.insensitive\n    }\n\n    buttons.clear()\n    buttons.setOrder(options)\n\n    // caseInsensitive\n    // alphabet\n    var customSortFunction = options.sortFunction || list.sortFunction || null,\n      multi = options.order === 'desc' ? -1 : 1,\n      sortFunction\n\n    if (customSortFunction) {\n      sortFunction = function (itemA, itemB) {\n        return customSortFunction(itemA, itemB, options) * multi\n      }\n    } else {\n      sortFunction = function (itemA, itemB) {\n        var sort = list.utils.naturalSort\n        sort.alphabet = list.alphabet || options.alphabet || undefined\n        if (!sort.alphabet && options.insensitive) {\n          sort = list.utils.naturalSort.caseInsensitive\n        }\n        return sort(itemA.values()[options.valueName], itemB.values()[options.valueName]) * multi\n      }\n    }\n\n    list.items.sort(sortFunction)\n    list.update()\n    list.trigger('sortComplete')\n  }\n\n  // Add handlers\n  list.handlers.sortStart = list.handlers.sortStart || []\n  list.handlers.sortComplete = list.handlers.sortComplete || []\n\n  buttons.els = list.utils.getByClass(list.listContainer, list.sortClass)\n  list.utils.events.bind(buttons.els, 'click', sort)\n  list.on('searchStart', buttons.clear)\n  list.on('filterStart', buttons.clear)\n\n  return sort\n}\n","var classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  extend = require('./utils/extend'),\n  toString = require('./utils/to-string'),\n  getByClass = require('./utils/get-by-class'),\n  fuzzy = require('./utils/fuzzy')\n\nmodule.exports = function (list, options) {\n  options = options || {}\n\n  options = extend(\n    {\n      location: 0,\n      distance: 100,\n      threshold: 0.4,\n      multiSearch: true,\n      searchClass: 'fuzzy-search',\n    },\n    options\n  )\n\n  var fuzzySearch = {\n    search: function (searchString, columns) {\n      // Substract arguments from the searchString or put searchString as only argument\n      var searchArguments = options.multiSearch ? searchString.replace(/ +$/, '').split(/ +/) : [searchString]\n\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        fuzzySearch.item(list.items[k], columns, searchArguments)\n      }\n    },\n    item: function (item, columns, searchArguments) {\n      var found = true\n      for (var i = 0; i < searchArguments.length; i++) {\n        var foundArgument = false\n        for (var j = 0, jl = columns.length; j < jl; j++) {\n          if (fuzzySearch.values(item.values(), columns[j], searchArguments[i])) {\n            foundArgument = true\n          }\n        }\n        if (!foundArgument) {\n          found = false\n        }\n      }\n      item.found = found\n    },\n    values: function (values, value, searchArgument) {\n      if (values.hasOwnProperty(value)) {\n        var text = toString(values[value]).toLowerCase()\n\n        if (fuzzy(text, searchArgument, options)) {\n          return true\n        }\n      }\n      return false\n    },\n  }\n\n  events.bind(\n    getByClass(list.listContainer, options.searchClass),\n    'keyup',\n    list.utils.events.debounce(function (e) {\n      var target = e.target || e.srcElement // IE have srcElement\n      list.search(target.value, fuzzySearch.search)\n    }, list.searchDelay)\n  )\n\n  return function (str, columns) {\n    list.search(str, columns, fuzzySearch.search)\n  }\n}\n","module.exports = function (text, pattern, options) {\n  // Aproximately where in the text is the pattern expected to be found?\n  var Match_Location = options.location || 0\n\n  //Determines how close the match must be to the fuzzy location (specified above). An exact letter match which is 'distance' characters away from the fuzzy location would score as a complete mismatch. A distance of '0' requires the match be at the exact location specified, a threshold of '1000' would require a perfect match to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  var Match_Distance = options.distance || 100\n\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match (of both letters and location), a threshold of '1.0' would match anything.\n  var Match_Threshold = options.threshold || 0.4\n\n  if (pattern === text) return true // Exact match\n  if (pattern.length > 32) return false // This algorithm cannot be used\n\n  // Set starting location at beginning text and initialise the alphabet.\n  var loc = Match_Location,\n    s = (function () {\n      var q = {},\n        i\n\n      for (i = 0; i < pattern.length; i++) {\n        q[pattern.charAt(i)] = 0\n      }\n\n      for (i = 0; i < pattern.length; i++) {\n        q[pattern.charAt(i)] |= 1 << (pattern.length - i - 1)\n      }\n\n      return q\n    })()\n\n  // Compute and return the score for a match with e errors and x location.\n  // Accesses loc and pattern through being a closure.\n\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length,\n      proximity = Math.abs(loc - x)\n\n    if (!Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy\n    }\n    return accuracy + proximity / Match_Distance\n  }\n\n  var score_threshold = Match_Threshold, // Highest score beyond which we give up.\n    best_loc = text.indexOf(pattern, loc) // Is there a nearby exact match? (speedup)\n\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold)\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length)\n\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold)\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1)\n  best_loc = -1\n\n  var bin_min, bin_mid\n  var bin_max = pattern.length + text.length\n  var last_rd\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0\n    bin_mid = bin_max\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid\n      } else {\n        bin_max = bin_mid\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min)\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid\n    var start = Math.max(1, loc - bin_mid + 1)\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length\n\n    var rd = Array(finish + 2)\n    rd[finish + 1] = (1 << d) - 1\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)]\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) | (((last_rd[j + 1] | last_rd[j]) << 1) | 1) | last_rd[j + 1]\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1)\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score\n          best_loc = j - 1\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc)\n          } else {\n            // Already passed loc, downhill from here on in.\n            break\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break\n    }\n    last_rd = rd\n  }\n\n  return best_loc < 0 ? false : true\n}\n","import listjs from 'list.js';\n\nif (document.getElementById('listjs')) {\n\n  // Init our list.js component\n  const list = new listjs('listjs', {\n    fuzzySearch: {\n      searchClass: 'search',\n      location: 0,\n      distance: 100,\n      threshold: 0.4,\n      multiSearch: true\n    },\n    valueNames: [\n      'name',\n      { data: ['category'] }\n    ],\n    listClass: 'menu'\n  });\n\n  // Empty Notice\n  // Displayed when the search returns no results\n  const noticeEmpty = document.querySelector('.notice_empty');\n  const noticeEmptyText = noticeEmpty.querySelector('.search_text');\n\n  // Clear search button\n  const filter = document.querySelector('.filter');\n  const search = document.querySelector('.filter .search');\n  const searchClear = document.querySelector('.filter .search_clear');\n\n  const isMenuLinkActive = () => {\n    return document.querySelectorAll('#listjs .menu__action.is-active');\n  };\n\n  // On search complete callback\n  list.on('searchComplete', () => {\n\n    // Update the search text in empty notice\n    const value = search.value;\n    noticeEmptyText.innerHTML = value;\n    localStorage.setItem('SearchValue', value);\n\n    // Show clear search button if a value there is something in search\n    if (value) {\n      filter.classList.add('is-active');\n      search.classList.add('is-active');\n      searchClear.classList.remove('display-none');\n    } else {\n      filter.classList.remove('is-active');\n      search.classList.remove('is-active');\n      searchClear.classList.add('display-none');\n    }\n\n    // Toggle notice depending on the number of visible items\n    if (list.visibleItems.length > 0) {\n      noticeEmpty.classList.add('display-none');\n    } else {\n      noticeEmpty.classList.remove('display-none');\n    }\n  });\n\n  // Click events for category and clears\n  document.addEventListener('click', (event) => {\n    const trigger_search_clear = event.target.closest('.search_clear');\n    if (trigger_search_clear) {\n      event.preventDefault();\n      search.value = '';\n      list.search();\n    }\n\n    const trigger_search_cat = event.target.closest('.category');\n    if (trigger_search_cat) {\n      event.preventDefault();\n      search.value = trigger_search_cat.dataset.category;\n      list.search(search.value);\n    }\n  }, false);\n\n  // Restore our local storage value\n  if (localStorage.getItem('SearchValue')) {\n    search.value = localStorage.getItem('SearchValue');\n    list.search(search.value);\n    if (!isMenuLinkActive()) {\n      search.value = '';\n      list.search();\n    }\n  }\n}\n","const url = 'https://api.github.com/repos/sebnitu/vrembem/contents/packages/vrembem/package.json?ref=main';\nconst ajax = new XMLHttpRequest();\nconst el = document.querySelector('[data-role=\"version\"]');\nif (el) {\n  ajax.onload = function () {\n    if (ajax.status >= 200 && ajax.status < 300) {\n      const response = JSON.parse(ajax.response);\n      const decode = window.atob(response.content);\n      const pkg = JSON.parse(decode);\n      el.classList.remove('loading');\n      el.classList.add('success');\n      el.innerHTML = pkg.version;\n    } else {\n      el.classList.remove('loading');\n      el.classList.add('error');\n      el.innerHTML = 'Error!';\n    }\n  };\n  ajax.open('GET', url);\n  ajax.send();\n}\n","import * as vb from 'vrembem';\nimport ScrollStash from 'scroll-stash';\nimport 'svgxuse';\nimport './list.js';\nimport './version';\n\nconst checkbox = new vb.Checkbox({ autoInit: true });\n\nconst drawer = new vb.Drawer({\n  autoInit: true,\n  selectorInert: 'main',\n  selectorOverflow: 'body, main'\n});\n\nconst modal = new vb.Modal({\n  autoInit: true,\n  selectorInert: '.page',\n  selectorOverflow: 'body, main',\n  teleport: '.modals-container'\n});\n\nconst popover = new vb.Popover({\n  autoInit: true\n});\n\nwindow.checkbox = checkbox;\nwindow.drawer = drawer;\nwindow.modal = modal;\nwindow.popover = popover;\n\nconst scrollStash = new ScrollStash({\n  autoInit: true,\n  selectorAnchor: '.is-active',\n  selectorTopElem: '.dialog__header'\n});\n\nconst el = document.querySelector('[data-scroll-stash]');\n\ndocument.addEventListener('drawer:opened', (event) => {\n  if (event.target.id === 'listjs') {\n    const anchor = scrollStash.anchorGet(el);\n    anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n  }\n});\n"],"names":["e","t","hasOwnProperty","call","TypeError","n","r","length","enumerable","configurable","writable","Object","defineProperty","c","key","i","prototype","o","assign","bind","arguments","apply","s","create","constructor","a","setPrototypeOf","__proto__","Symbol","toPrimitive","String","l","u","this","value","mql","mount","window","matchMedia","addEventListener","addListener","unmount","removeEventListener","removeListener","get","set","alphabet","alphabetIndexMap","autoInit","dataScroll","dataAnchor","selectorAnchor","selectorAnchorParent","selectorTopElem","selectorBotElem","alignment","behavior","anchorPadding","saveKey","throttleDelay","customEventPrefix","querySelector","offsetHeight","offsetTop","getAttribute","closest","scrollTop","scroll","top","dispatchEvent","CustomEvent","bubbles","detail","scrolled","msg","document","querySelectorAll","forEach","localStorage","setItem","JSON","stringify","state","settings","scrolls","ticking","__handler","handler","init","getItem","parse","keys","destroy","removeItem","setTimeout","anchorGet","anchorShow","checkUseElems","tid","winLoad","cache","debouncedCheck","clearTimeout","unobserveChanges","createRequest","url","getOrigin","loc","undefined","protocol","createElement","href","replace","host","Request","origin","origin2","XMLHttpRequest","location","withCredentials","XDomainRequest","xlinkNS","base","bcr","hash","isHidden","uses","xhr","inProgressCount","observeIfDone","observer","MutationObserver","observe","documentElement","childList","subtree","attributes","disconnect","ignore","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","setAttribute","onloadFunc","svg","body","x","onload","innerHTML","responseText","getElementsByTagName","style","position","width","height","overflow","insertBefore","firstChild","onErrorTimeout","onerror","ontimeout","getBoundingClientRect","getAttributeNS","split","left","right","bottom","open","send","abort","readyState","alphabetIndexMapLength","isNumberCode","code","naturalCompare","b","lengthA","lengthB","aIndex","bIndex","charCodeA","charCodeAt","charCodeB","numStartA","numStartB","numEndA","numEndB","difference","caseInsensitive","toLowerCase","defineProperties","naturalCompare_1","getByClass","container","className","single","options","test","getElementsByClassName","classElements","els","elsLen","pattern","RegExp","j","polyfill","extend","object","source","args","Array","slice","property","indexOf","indexOf_1","arr","obj","il","toArray","collection","toString","isArray","Function","push","unbind","prefix","el","type","fn","capture","wait","immediate","timeout","context","callNow","re","classes","ClassList","nodeType","Error","list","classList","add","name","array","index","join","remove","splice","toggle","force","has","shift","contains","attr","result","attrs","nodeName","nodeValue","item","initValues","element","notCreate","_values","found","filtered","values","newValues","templater","show","hide","matching","searched","visible","elm","parentNode","Templater","createItem","getItemSource","itemHTML","exec","tbody","firstElementChild","div","setValue","valueName","valueNames","data","jl","getValueName","utils","v","removeChild","appendChild","clear","hasChildNodes","childNodes","itemSource","getElementById","nodes","cloneNode","getFirstListItem","templateNode","removeAttribute","createCleanTemplateItem","src","id","self","Item","require$$0","addAsync","callback","items","valuesToAdd","concat","update","require$$1","initPagination","refresh","pagingList","page","listContainer","display","pages","Math","ceil","matchingItems","currentPage","innerWindow","outerWindow","is","number","dotted","size","currentPageItem","dottedLeft","dottedRight","List","listClass","paginationClass","searchClass","sortClass","events","target","srcElement","on","require$$2","start","visibleItems","searchColumns","searchDelay","handlers","updated","naturalSort","itemElements","parseAsync","itemsToIndex","trigger","parseComplete","parent","getChildren","indexAsync","require$$3","require$$4","search","columns","searchString","customSearch","prepare","resetList","setOptions","setColumns","setSearchString","tmpColumn","searchMethod","str","reset","phrase","words","ss","match","substring","trim","k","kl","word_found","column","searchStart","searchComplete","debounce","require$$5","filter","filterStart","filterComplete","filterFunction","require$$6","sort","buttons","getOrder","btn","predefinedOrder","getInSensitive","insensitive","setOrder","order","currentTarget","sortFunction","customSortFunction","multi","itemA","itemB","sortStart","sortComplete","require$$7","fuzzySearch","distance","threshold","multiSearch","searchArguments","foundArgument","searchArgument","text","Match_Distance","Match_Threshold","q","charAt","match_bitapScore_","accuracy","proximity","abs","score_threshold","best_loc","min","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","d","floor","max","finish","rd","charMatch","score","fuzzy","require$$8","pagination","reIndex","toJSON","json","added","matchedItems","event","off","listjs","noticeEmpty","noticeEmptyText","searchClear","preventDefault","trigger_search_cat","dataset","category","ajax","status","response","decode","atob","content","pkg","version","checkbox","vb","drawer","selectorInert","selectorOverflow","modal","teleport","popover","scrollStash","ScrollStash","scrollIntoView","block"],"mappings":"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"}