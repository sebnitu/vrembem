{"version":3,"sources":["_utility.js","_dismissible.js","_modal.js","vrembem.js"],"names":["utility","api","hasClass","el","c","toArray","every","classList","contains","addClass","forEach","add","removeClass","remove","toggleClass","toggle","closest","parentElement","s","array","push","Array","isArray","extend","extended","deep","i","length","arguments","Object","prototype","toString","call","merge","obj","prop","hasOwnProperty","dismissible","settings","u","defaults","classTrigger","classDismissible","classHide","runDismissible","event","target","console","log","preventDefault","init","options","destroy","document","addEventListener","removeEventListener","showAll","selector","getDismissible","hideAll","querySelectorAll","modal","classBody","classDialog","classModal","classModalActive","runModal","trigger","dialog","close","blur","dataset","open","openModal","runEscape","keyCode","getFocus","focusItem","querySelector","focus","this","getElementById","body","window","undefined"],"mappings":"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","file":"../vrembem.min.js","sourcesContent":["var utility = (function () {\n\n  'use strict';\n\n  //\n  // Variables\n  //\n\n  var api = {};\n  // var settings;\n  // var defaults = {};\n\n  //\n  // Public Methods\n  //\n\n  /**\n   * Checks if an element has a class or not\n   * @param {Element} Element to check class(es) on\n   * @param {String} || {Array} Class(es) to check\n   * @returns {Boolean} Returns true if class exists on element, otherwise false\n   */\n  api.hasClass = function ( el, c ) {\n\n    c = api.toArray(c);\n\n    return c.every( function ( c ) {\n      return el.classList.contains(c);\n    });\n\n  }; // End hasClass\n\n  /**\n   * Adds a class or classes to an element\n   * @param {Element} Element to add class(es) on\n   * @param {String} || {Array} Class(es) to add\n   */\n  api.addClass = function ( el, c ) {\n\n    c = api.toArray(c);\n\n    c.forEach( function ( c ) {\n      el.classList.add( c );\n    });\n\n  }; // End addClass\n\n  /**\n   * Remove a class or classes from an element\n   * @param {Element} Element to remove class(es) from\n   * @param {String} || {Array} Class(es) to remove\n   */\n  api.removeClass = function ( el, c ) {\n\n    c = api.toArray(c);\n\n    c.forEach( function ( c ) {\n      el.classList.remove( c );\n    });\n\n  }; // End removeClass\n\n  /**\n   * Toggle a class or classes on an element\n   * @param {Element} Element to toggle class(es) on\n   * @param {String} || {Array} Class(es) to toggle\n   */\n  api.toggleClass = function ( el, c ) {\n\n    c = api.toArray(c);\n\n    c.forEach( function ( c ) {\n      el.classList.toggle(c);\n    });\n\n  }; // End toggleClass\n\n  /**\n   * Find the closest parent element based on class. This is different from the\n   * native .closest() method in that it doesn't check the current element.\n   * @param {Element} Element to start search on\n   * @param {String} || {Array} Class(es) to check for\n   * @return {Element} Closest parent element\n   */\n  api.closest = function ( el, c ) {\n    while ((el = el.parentElement) && !api.hasClass(el, c));\n    return el;\n  }; // End closest\n\n  /**\n   * Converts a string to an array. If an array is passed, it's returned as is.\n   * Anything else is returned as false.\n   * @param {String} || {Array} String to convert to an array\n   * @return {Array} Return the converted array\n   */\n  api.toArray = function( s ) {\n\n    var array = [];\n\n    if (typeof s === 'string') {\n      array.push(s);\n    } else if (Array.isArray(s)) {\n      array = s;\n    } else {\n      return false;\n    }\n\n    return array;\n\n  }; // End toArray\n\n  /**\n   * Merge two or more objects. Returns a new object. Set the first argument\n   * to `true` for a deep or recursive merge.\n   * @param {Boolean} [Optional] If true, do a deep (or recursive) merge\n   * @param {Object} The objects to merge together; each overriding the next\n   * @returns {Object} Merged values of defaults and options\n   */\n  api.extend = function () {\n\n    // Variables\n    var extended = {};\n    var deep = false;\n    var i = 0;\n    var length = arguments.length;\n\n    // Check if a deep merge\n    if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\n      deep = arguments[0];\n      i++;\n    }\n\n    // Merge the object into the extended object\n    var merge = function ( obj ) {\n      for ( var prop in obj ) {\n        if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\n          // If deep merge and property is an object, merge properties\n          if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\n            extended[prop] = extend( true, extended[prop], obj[prop] );\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n\n    // Loop through each object and conduct a merge\n    for ( ; i < length; i++ ) {\n      var obj = arguments[i];\n      merge(obj);\n    }\n\n    return extended;\n\n  }; // End extend\n\n  //\n  // Return Public APIs\n  //\n\n  return api;\n\n})();\n","// require _utility.js\n\nvar dismissible = (function () {\n\n  'use strict';\n\n  //\n  // Variables\n  //\n\n  var u = utility;\n\n  var api = {};\n  var settings;\n  var defaults = {\n    classTrigger : 'js-dismiss',\n    classDismissible : 'js-dismissible',\n    classHide : 'hide',\n  };\n\n  //\n  // Private Methods\n  //\n\n  var runDismissible = function () {\n\n    // Get the trigger\n    var trigger = event.target.closest('.' + settings.classTrigger);\n\n    // Exit if a trigger doesn't exist\n    if ( !trigger ) return;\n\n    // Get the dismissible parent element\n    var dismissible = event.target.closest('.' + settings.classDismissible);\n\n    // Exit if a dismissible doesn't exist\n    if ( !dismissible ) return;\n\n    // Add initial classes\n    if (dismissible) {\n      u.addClass(dismissible, settings.classHide);\n    } else {\n      console.log('Dismissible element was not found!');\n    }\n\n    // Prevent default behavior\n    event.preventDefault();\n\n  };\n\n  //\n  // Public Methods\n  //\n\n  api.init = function (options) {\n\n    // Destroy any previous initializations\n    api.destroy();\n\n    // Merge user options with the defaults\n    settings = u.extend( defaults, options || {} );\n\n    // Add event listener\n    document.addEventListener('click', runDismissible, false);\n\n  };\n\n  api.destroy = function () {\n\n    // Remove event listener\n    document.removeEventListener('click', runDismissible, false);\n\n    // Reset settings\n    settings = null;\n\n  };\n\n  api.showAll = function (selector) {\n\n    // Get dismissible items\n    var dismissible = api.getDismissible(selector);\n\n    // Loop through and remove active class from dismissible items\n    dismissible.forEach(function (el) {\n      u.removeClass(el, settings.classHide);\n    });\n\n  };\n\n  api.hideAll = function (selector) {\n\n    // Get dismissible items\n    var dismissible = api.getDismissible(selector);\n\n    // Loop through and remove active class from dismissible items\n    dismissible.forEach(function (el) {\n      u.addClass(el, settings.classHide);\n    });\n\n  };\n\n  api.getDismissible = function (selector) {\n\n    // Initialize dismissible array\n    var dismissible = [];\n\n    // Check if a selector was passed\n    if (selector) {\n      // Get selector items\n      var items = document.querySelectorAll(selector);\n      // Loop through selector items\n      items.forEach(function (el) {\n        // Get dismissible items\n        var items = el.querySelectorAll('.' + settings.classDismissible);\n        // Loop through dismissible items\n        items.forEach(function (el) {\n          // Save item to our array\n          dismissible.push(el);\n        });\n      });\n    } else {\n      // Search dismissible items on documents\n      dismissible = document.querySelectorAll('.' + settings.classDismissible);\n    }\n\n    // Return dismissible\n    return dismissible;\n\n  };\n\n  //\n  // Return Public APIs\n  //\n\n  return api;\n\n})();\n","// require _utility.js\n\nvar modal = (function () {\n\n  'use strict';\n\n  var u = utility;\n  var api = {};\n  var settings;\n  var defaults = {\n    classTrigger      : 'js-modal',\n    classBody         : 'js-modal--active',\n    classDialog       : 'dialog',\n    classModal        : 'modal',\n    classModalActive  : 'modal--active',\n  }\n\n  var openModal = function() {\n    api.close();\n    var trigger = event.target.closest('.' + settings.classTrigger);\n    trigger.blur();\n        var target = trigger.dataset.target;\n    if (target) {\n      api.open(target);\n    }\n  }\n\n  var runModal = function () {\n    var trigger = event.target.closest('.' + settings.classTrigger);\n    var modal = event.target.closest('.' + settings.classModal);\n    var dialog = event.target.closest('.' + settings.classDialog);\n    if (modal && !dialog) {\n      api.close();\n    }\n    if (trigger) {\n      openModal();\n      event.preventDefault();\n    }\n  }\n  \n  var runEscape = function() {\n    if(event.keyCode === 27) {\n      api.close();\n    }\n  }\n  \n  var getFocus = function() {\n    var focusItem = document.querySelector('.' + settings.classModalActive + ' .' + settings.classTrigger);\n    if (focusItem) {\n      focusItem.focus();\n    }\n    this.removeEventListener('transitionend', getFocus, false);\n  }\n\n  api.open = function(target) {\n    var modal = document.getElementById(target);\n    if(modal) {\n      u.addClass(modal, settings.classModalActive);\n      u.addClass(document.body, settings.classBody);\n      modal.addEventListener('transitionend', getFocus, false);\n    } else {\n      console.log('Error:', 'Modal was not found');\n    }\n  }\n  \n  api.close = function() {\n    var modals  = document.querySelectorAll('.' + settings.classModal);\n    modals.forEach(function (modal) {\n      u.removeClass(modal, settings.classModalActive);\n    });\n    u.removeClass(document.body, settings.classBody);\n  }\n\n  api.init = function (options) {\n    api.destroy();\n    settings = u.extend( defaults, options || {} );\n    document.addEventListener('click', runModal, false);\n    document.addEventListener('keydown', runEscape, false);\n  }\n\n  api.destroy = function () {\n    document.removeEventListener('click', runModal, false);\n    document.removeEventListener('keydown', runEscape, false);\n    settings = null;\n  }\n\n  return api;\n\n})();\n","// require _dismissible.js _modal.js\n\n// Default initializations\n;(function (window, document, undefined) {\n\n  'use strict';\n\n  dismissible.init();\n  modal.init();\n\n})(window, document);\n"]}